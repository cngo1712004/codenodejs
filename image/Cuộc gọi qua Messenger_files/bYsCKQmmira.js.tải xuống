;/*FB_PKG_DELIM*/

__d("MercuryAPIArgsSource",[],(function(a,b,c,d,e,f){e.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MBSMESSAGING:"mbs_messaging",MESSENGER:"messenger",UBISPCLIENT:"unified_inbox_sp_client"}}),null);
__d("MercuryAudioType",[],(function(a,b,c,d,e,f){e.exports={FileAttachment:"file_attachment",AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"}}),null);
__d("MessageLiveLocationClientSyncProtocolStopReason",[],(function(a,b,c,d,e,f){e.exports={EXPIRED:1,CANCELED:2,ARRIVED:3}}),null);
__d("PageCommItemStatus",[],(function(a,b,c,d,e,f){e.exports={FOLLOW_UP:"FOLLOW_UP",DONE:"DONE",TODO:"TODO",SPAM:"SPAM",DELETED:"DELETED"}}),null);
__d("MercurySyncHolesTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDifference=function(a){this.$1.difference=a;return this};c.setSeqID=function(a){this.$1.seq_id=a;return this};c.setTopicType=function(a){this.$1.topic_type=a;return this};return a}();c={difference:!0,seq_id:!0,topic_type:!0};f["default"]=a}),66);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0};f["default"]=a}),66);
__d("useZenonCoExperienceActionItemsHelper_actionItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useZenonCoExperienceActionItemsHelper_actionItem",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"integration_boundary_name",storageKey:null},action:"THROW",path:"integration_boundary_name"},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useCoplayEntryPointHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"CoplayZenonFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useCountdownTimerNavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonCountdownTimerFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useCountdownTimerNavLinkE2EEHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonCountdownTimerE2EEFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useCowatchMeetupNavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"CowatchMeetupFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useCowatchRTNavLinkHook_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"CowatchRTFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useEmojiReactionsNavlinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonEmojiReactionsFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useEmojiReactionsE2EENavlinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonEmojiReactionsE2EEFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useLivestreamNavLinkHookUnified_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"LiveStreamCoexActionItemMeetupLiveProducer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useMeetupLivestreamClassCatchupNavLinkHookUnified_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"LiveStreamCoexActionItemMeetupClassCatchup",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useRaiseHandNavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonRaiseHandsFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useRaiseHandE2EENavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonRaiseHandsE2EEFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useRoomsPollsNavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonPollsCreatorFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useRoomsPollsE2EENavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonPollsCreatorE2EEFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useZenonChatButtonActionItemHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"RoomsChatRTFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useZenonWhiteboardActionItem_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"WhiteboardFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useWhiteboardMessengerNavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"ZenonWhiteboardMessengerFeature",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useZenonCoExperienceActionItemsHelper_actionItem",fragmentName:"useWorkroomsIncallCanvasNavLinkHook_actionItem",fragmentPropName:"actionItem",kind:"ModuleImport"}],type:"WorkroomsIncallCanvasFeature",abstractKey:null}],type:"IZenonCoExperienceActionItem",abstractKey:"__isIZenonCoExperienceActionItem"};e.exports=a}),null);
__d("useZenonRoomName_app.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={condition:"allowShortNamesForThreadParticipants",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}]};return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"allowShortNamesForLinkOwners"},{defaultValue:!0,kind:"LocalArgument",name:"allowShortNamesForThreadParticipants"}],kind:"Fragment",metadata:null,name:"useZenonRoomName_app",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"door",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{args:[{kind:"Variable",name:"allowShortNamesForLinkOwners",variableName:"allowShortNamesForLinkOwners"}],kind:"FragmentSpread",name:"useZenonRoomName_link"}],type:"MessengerCallInviteLink",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null}],type:"MessengerGroupThread",abstractKey:"__isMessengerGroupThread"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},action:"THROW",path:"door.all_participants.count"}],storageKey:null},{alias:"first_four_participants",args:[{kind:"Literal",name:"first",value:4}],concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"door.first_four_participants.nodes.id"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW",path:"door.first_four_participants.nodes.messaging_actor.name"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},b],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b],type:"Page",abstractKey:null}],storageKey:null},action:"THROW",path:"door.first_four_participants.nodes.messaging_actor"}],storageKey:null},action:"THROW",path:"door.first_four_participants.nodes"}],storageKey:"all_participants(first:4)"}],type:"MessengerThread",abstractKey:"__isMessengerThread"}],storageKey:null}],type:"IZenonApp",abstractKey:"__isIZenonApp"}}();e.exports=a}),null);
__d("useZenonRoomName_link.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={condition:"allowShortNamesForLinkOwners",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}]};return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"allowShortNamesForLinkOwners"}],kind:"Fragment",metadata:null,name:"useZenonRoomName_link",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"link_owner",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"link_owner.id"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},a,b],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b],type:"Page",abstractKey:null}],storageKey:null},a],type:"MessengerCallInviteLink",abstractKey:null}}();e.exports=a}),null);
__d("MessengerMessageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6696257040440902"}),null);
__d("MessengerMessageQuery.graphql",["MessengerMessageQuery_facebookRelayOperation"],(function(aa,ba,ca,da,a,b){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"source"},ca={defaultValue:null,kind:"LocalArgument",name:"thread_and_message_id"},da=[{kind:"Variable",name:"thread_and_message_id",variableName:"thread_and_message_id"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},ga={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,b,c,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[ea,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},fa],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},ja={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},ra={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null},ua={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},va={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[ha,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},e],storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},f=[a],xa={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[wa,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:f,storageKey:null}],storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Aa=[za],Ba={kind:"InlineFragment",selections:Aa,type:"User",abstractKey:null},Ca={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,g,Ba],storageKey:null}],storageKey:null},Da={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null},Fa={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Ha={kind:"InlineFragment",selections:f,type:"Profile",abstractKey:"__isProfile"},Ia={kind:"InlineFragment",selections:f,type:"MessengerViewerGroupThread",abstractKey:null},Ja={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null}],type:"MessageThread",abstractKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},La={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},Ma={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[i,Ga,c,La],storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},j=[h],k={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:j,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},m=[c,l,{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Oa,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];m={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var n=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],o={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},p=[o],q=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};n=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:f,storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:n,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:p,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:q,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:p,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:q,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:p,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:n,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:p,storageKey:"padded_sprite_image(height:240,width:240)"},r,s,t];var Pa={kind:"InlineFragment",selections:n,type:"Sticker",abstractKey:null},u=[o,s,t],Qa={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:u,storageKey:null},v={kind:"Literal",name:"sizing",value:"contain-fit"},Ra=[v],w={alias:null,args:Ra,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:'image(sizing:"contain-fit")'},Sa={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},Ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Pa,Qa,w,Sa,Ta,x],storageKey:null},y={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:j,storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},Va={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:j,storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Wa={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[A,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:j,storageKey:null}],storageKey:null},Xa={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},B={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[l,r],storageKey:null},Za={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},$a={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},cb={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},E={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,bb,C,D,cb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},db={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},eb={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},fb={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},gb={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},hb={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},ib={alias:null,args:null,concreteType:"MessengerPlatformPaymentMetadata",kind:"LinkedField",name:"payment_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_module_config",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_price",storageKey:null}],storageKey:null},jb={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},kb={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},mb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,c,l,G,H,i,lb,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[h,r],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};c={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,l,c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,G],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[h,b,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};G={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[mb,c],storageKey:null};var nb={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},ob={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[$a,ab,E,db,eb,a,fb,gb,hb,ib,jb,kb,F,G,nb,Oa],storageKey:null},pb={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},qb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:p,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:p,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},I={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},rb={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},ub={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},K={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},vb=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},K,r],wb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:vb,storageKey:null};vb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:vb,storageKey:null};var L={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};A={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[d,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[A,L],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var xb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},yb={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},zb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:j,storageKey:null};H={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:j,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},H,l],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},zb],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null};var M={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},N=[M,Ab,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],Bb={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:N,storageKey:null},O=[d,A,xb,yb,l,H,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[ub,wb,vb,Bb],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Cb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};N={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:N,storageKey:null},Db],type:"P2PBubbleAmountComponent",abstractKey:null};var P=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},s,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},o,t],Eb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:P,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};P={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Db,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:P,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:P,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},h],type:"P2PBubbleTextComponent",abstractKey:null};var Fb={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};O={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:O,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Cb,N,Eb,P],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:O,storageKey:null},Db,Fb,h],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:O,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var Gb={kind:"InlineFragment",selections:[za,r],type:"User",abstractKey:null},Hb={alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null},Ib={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[M,Hb],storageKey:null},Jb={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},Kb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Lb={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Mb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},Nb={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:null},Q=[Nb],Ob={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:f,storageKey:null},Pb={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},Qb=[Pb],Rb={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:Qb,storageKey:null},Sb={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},Tb={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Ub={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},Vb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[Ab],storageKey:null},Wb={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},Xb=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,g,K,Gb],storageKey:null},Ib,Jb,ub,Kb,Lb,Mb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:Q,storageKey:null},Ob],storageKey:null},Rb,Sb,Tb,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[g,R,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:Q,storageKey:null},r],storageKey:null},a,Ub,Vb,Wb,O];Pb={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[Pb,Ab],storageKey:null};var Yb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[M],storageKey:null},S=[g,a,K,Gb],Zb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:S,storageKey:null};S={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:S,storageKey:null};var $b={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},ac={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:f,storageKey:null},bc={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:Xb,storageKey:null},cc={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},dc={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},ec={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};E=[$a,ab,E,db,eb,a,fb,gb,hb,ib,jb,kb,F,G];G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:E,storageKey:null};var fc={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},gc={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},hc={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};E={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:E,storageKey:null};var jc=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:null}],kc={kind:"InlineFragment",selections:jc,type:"MessageImage",abstractKey:null};jc={kind:"InlineFragment",selections:jc,type:"Photo",abstractKey:null};var lc={kind:"Literal",name:"media_type",value:"image/gif"},mc={alias:null,args:[lc],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:u,storageKey:'animated_image(media_type:"image/gif")'};lc={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},lc,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:u,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var nc={kind:"InlineFragment",selections:[mc,lc,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},v,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},oc={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,g,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:p,storageKey:null}],storageKey:null},pc={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},qc=[s,t,o],rc={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null};qc={kind:"InlineFragment",selections:[oc,pc,I,x,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},v,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:qc,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},Na,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},rc,Sa,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},v,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:qc,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},v,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:qc,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var sc={kind:"InlineFragment",selections:[t,s,a,x],type:"Video",abstractKey:null},tc=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,R,fc,cb,gc,g,hc,ic,E,G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[d,kc,jc,nc,qc,sc],storageKey:null}],storageKey:null}],uc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},T={alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null},vc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ComponentFlowLeadGenField",kind:"LinkedField",name:"field_data_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_type",storageKey:null},b,T],storageKey:null}],type:"PagesPlatformLeadGenInfo",abstractKey:null},U={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},wc={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},xc=[U,wc],yc={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},fa,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:xc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[U,wc,b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},zc={alias:null,args:null,concreteType:"MontageDirectOpenInfo",kind:"LinkedField",name:"opens",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"open_time",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"open_by",plural:!1,selections:f,storageKey:null}],storageKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"message_state",storageKey:null},Bc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:f,storageKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},Dc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},Ec={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Fc=[x,r,Nb],Gc={kind:"InlineFragment",selections:Fc,type:"MessageVideo",abstractKey:null};Fc={kind:"InlineFragment",selections:Fc,type:"MessageImage",abstractKey:null};var Hc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},Ic={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Jc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Kc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,Jc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Lc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Mc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:f,storageKey:null},Nc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},Oc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Pc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Qc={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Sc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Tc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,g,K],storageKey:null},Uc=[{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null}],Vc={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:Uc,storageKey:null},Wc={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},Xc={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},Yc=[{kind:"Literal",name:"first",value:1}],Zc={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:'image(sizing:"cover-fill-cropped")'},$c={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},ad={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},bd={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},cd={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},dd={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},fd={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},gd={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},hd={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:f,storageKey:null},id={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,za,K],storageKey:null},jd={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},L,b],storageKey:null},kd={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},ld={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},md={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:f,storageKey:null},nd={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:f,storageKey:null};Uc={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:Uc,storageKey:null};var od={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},pd={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},qd={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},rd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},o],storageKey:null},sd={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},td={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},ud={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},vd=[a,g],wd={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},xd={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},yd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},zd={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},V=[g],Ad={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:j,storageKey:null},Bd={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Cd={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},Dd={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Ed={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:"profile_picture(width:300)"},Fd={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Gd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Hd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Id={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Jd={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Kd={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Ld={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Md={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Nd={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Od={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Pd={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},Qd={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},Rd={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:f,storageKey:null},Sd={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},Td={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},Ud={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},Vd={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},Wd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:j,storageKey:null},Xd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:j,storageKey:null},Yd=[o,t,s],Zd={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Yd,storageKey:null},$d={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},ke={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[ie,W,X,je,Y],storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},re={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},se={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:p,storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},ve={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:j,storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},xe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:j,storageKey:null};M=[M,Ab];Ab={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:M,storageKey:null};var ye={alias:null,args:q,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:p,storageKey:"images(height:120,width:120)"},ze={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};zb={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[zb,xe,{alias:null,args:q,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:"image(height:120,width:120)"}],storageKey:null};q=[Y,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}];var Ae={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:q,storageKey:null},Be={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:q,storageKey:null};q={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:q,storageKey:null};var Ce={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};M={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:M,storageKey:null};var Ee={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Fe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[dd],storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},Ke={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:j,storageKey:null},Le={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:j,storageKey:null},Me={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};Ra={alias:null,args:Ra,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:'image(sizing:"contain-fit")'};var Ne={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Ra],storageKey:null},Oe={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};v={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},v,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Yd,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var Qe={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:xc,storageKey:null},Re={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[L],storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},We=[Te,Ue,Ve],Xe={kind:"InlineFragment",selections:We,type:"MessengerEventReminder",abstractKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"has_more_upcoming_reminders",storageKey:null},Ze=[{kind:"Literal",name:"orderby",value:"m_personal_reminder_list_ordering"}],$e={alias:null,args:null,kind:"ScalarField",name:"tint_color",storageKey:null},af={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:Yd,storageKey:null},bf={alias:null,args:null,kind:"ScalarField",name:"flight_label",storageKey:null},cf={alias:null,args:null,kind:"ScalarField",name:"boarding_time_label",storageKey:null},df={alias:null,args:null,kind:"ScalarField",name:"departure_label",storageKey:null},ef={alias:null,args:null,kind:"ScalarField",name:"passenger_names_label",storageKey:null},ff={alias:null,args:null,kind:"ScalarField",name:"passenger_seat_label",storageKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"flight_terminal_label",storageKey:null},hf={alias:null,args:null,kind:"ScalarField",name:"flight_gate_label",storageKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"view_boarding_pass_cta_label",storageKey:null},kf={alias:null,args:null,kind:"ScalarField",name:"share_cta_label",storageKey:null},lf={alias:null,args:null,kind:"ScalarField",name:"message_cta_label",storageKey:null},mf={alias:null,args:null,kind:"ScalarField",name:"boarding_pass_title_label",storageKey:null},nf={alias:null,args:null,kind:"ScalarField",name:"boarding_pass_error_title_label",storageKey:null},of={alias:null,args:null,kind:"ScalarField",name:"airline_logo_image_url",storageKey:null},pf={alias:null,args:null,kind:"ScalarField",name:"header_image_url",storageKey:null};L=[l,L];var qf={alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"auxiliary_fields",plural:!0,selections:L,storageKey:null},rf={alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"secondary_fields",plural:!0,selections:L,storageKey:null},sf={alias:null,args:null,kind:"ScalarField",name:"qr_code_header_image_url",storageKey:null},tf={alias:null,args:null,kind:"ScalarField",name:"qr_code_image_url",storageKey:null},uf={alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"header_text_field",plural:!1,selections:L,storageKey:null},vf={alias:null,args:null,kind:"ScalarField",name:"flight_number",storageKey:null},wf={alias:null,args:null,kind:"ScalarField",name:"formatted_time_for_display",storageKey:null},xf=[wf],yf={alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"departure_time_info",plural:!1,selections:xf,storageKey:null},zf={alias:null,args:null,kind:"ScalarField",name:"terminal",storageKey:null},Af={alias:null,args:null,kind:"ScalarField",name:"gate",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"airport_code",storageKey:null},Bf={alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"arrival_time_info",plural:!1,selections:xf,storageKey:null},Cf=[Z,W],Df={alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"arrival_airport",plural:!1,selections:Cf,storageKey:null};xf={alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_info",plural:!1,selections:[vf,{alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"boarding_time_info",plural:!1,selections:xf,storageKey:null},yf,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:[zf,Af,Z,W],storageKey:null},Bf,Df],storageKey:null};var Ef={alias:null,args:null,kind:"ScalarField",name:"seat",storageKey:null},Ff={alias:null,args:null,concreteType:"AirlinePassengerSegmentDetail",kind:"LinkedField",name:"passenger",plural:!1,selections:[Ef,{alias:null,args:null,concreteType:"AirlinePassenger",kind:"LinkedField",name:"passenger",plural:!1,selections:V,storageKey:null}],storageKey:null},Gf={alias:null,args:null,kind:"ScalarField",name:"pnr_number",storageKey:null},Hf={alias:null,args:null,kind:"ScalarField",name:"booking_number_label",storageKey:null},If={alias:null,args:null,kind:"ScalarField",name:"arrival_time_label",storageKey:null},Jf={alias:null,args:null,kind:"ScalarField",name:"departure_time_label",storageKey:null};Cf={kind:"InlineFragment",selections:[Gf,$e,{alias:null,args:null,kind:"ScalarField",name:"checkin_url",storageKey:null},Hf,bf,If,Jf,{alias:null,args:null,kind:"ScalarField",name:"checkin_cta_label",storageKey:null},af,{alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_infos",plural:!0,selections:[vf,Df,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:Cf,storageKey:null},yf,Bf],storageKey:null}],type:"AirlineCheckInReminderMessageAttachment",abstractKey:null};var Kf={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},Mf={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};X=[X,W,je,wc,U,Y,ie,Nf];je={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:X,storageKey:null};wc={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:X,storageKey:null};U={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,g,Id,Jd,Kd,Ld,fc,gc,Md,Nd,G],storageKey:null}],storageKey:null};Y={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};ie=[t,s,o];var Of={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:ie,storageKey:null},Pf={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[g,Y,Of],storageKey:null};X={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:X,storageKey:null};var Qf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,X],storageKey:null}],storageKey:null},Rf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},Sf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},Tf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};Y={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[g,Y,Of,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:j,storageKey:null}],storageKey:null};Of={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Sf,X],storageKey:null}],storageKey:null};var Uf={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Vf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:u,storageKey:null};Df={kind:"InlineFragment",selections:[Gf,$e,Uf,Jf,If,Hf,hf,bf,{alias:null,args:null,kind:"ScalarField",name:"flight_status_label",storageKey:null},ef,ff,Vf,{alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_info",plural:!1,selections:[Df,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:[Z,W,Af],storageKey:null},vf,yf,Bf],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hightlighted_labels",storageKey:null}],type:"AirlineUpdateMessageAttachment",abstractKey:null};Af={alias:null,args:null,kind:"ScalarField",name:"confirmation_number",storageKey:null};yf={alias:null,args:null,kind:"ScalarField",name:"formatted_total",storageKey:null};Hb={alias:null,args:null,concreteType:"AirlinePriceInfo",kind:"LinkedField",name:"itemized_price_infos",plural:!0,selections:[l,Hb],storageKey:null};var Wf={alias:null,args:null,kind:"ScalarField",name:"formatted_tax",storageKey:null},Xf={alias:null,args:null,kind:"ScalarField",name:"formatted_base_price",storageKey:null},Yf={alias:null,args:null,concreteType:"AirlinePassenger",kind:"LinkedField",name:"passenger_infos",plural:!0,selections:V,storageKey:null},Zf={alias:null,args:null,kind:"ScalarField",name:"aircraft_type_label",storageKey:null},$f={alias:null,args:null,kind:"ScalarField",name:"base_price_label",storageKey:null},ag={alias:null,args:null,kind:"ScalarField",name:"cabin_type_label",storageKey:null},bg={alias:null,args:null,kind:"ScalarField",name:"flight_confirmation_label",storageKey:null},cg={alias:null,args:null,kind:"ScalarField",name:"flight_date_label",storageKey:null},dg={alias:null,args:null,kind:"ScalarField",name:"itinerary_error_title_label",storageKey:null},eg={alias:null,args:null,kind:"ScalarField",name:"itinerary_title_label",storageKey:null},fg={alias:null,args:null,kind:"ScalarField",name:"passenger_name_label",storageKey:null},gg={alias:null,args:null,kind:"ScalarField",name:"purchase_summary_label",storageKey:null},hg={alias:null,args:null,kind:"ScalarField",name:"taxes_label",storageKey:null},ig={alias:null,args:null,kind:"ScalarField",name:"total_label",storageKey:null},jg={alias:null,args:null,kind:"ScalarField",name:"view_details_cta_label",storageKey:null},kg={alias:null,args:null,kind:"ScalarField",name:"number_of_stops_label",storageKey:null};Z=[Z,W,zf];W={alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aircraft_type",storageKey:null},vf,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"arrival_airport",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"departure_time_info",plural:!1,selections:[wf,{alias:null,args:null,kind:"ScalarField",name:"formatted_datetime_for_display",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_date_for_display",storageKey:null}],storageKey:null},Bf],storageKey:null};zf={alias:null,args:null,concreteType:"AirlinePassengerSegmentDetail",kind:"LinkedField",name:"passenger_details",plural:!0,selections:[{alias:null,args:null,concreteType:"AirlinePassenger",kind:"LinkedField",name:"passenger",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"ticket_number",storageKey:null}],storageKey:null},Ef,{alias:null,args:null,kind:"ScalarField",name:"seat_type",storageKey:null},{alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"product_items",plural:!0,selections:L,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"travel_class",storageKey:null}],storageKey:null};vf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:Yd,storageKey:null};Z={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null};wf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:vd,storageKey:null};Bf={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[b,g,T],storageKey:null};Ef={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};L={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null};Yd={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:u,storageKey:null};b={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},oa],type:"IceBreakerMessageAttachment",abstractKey:null};T={kind:"Literal",name:"height",value:280};var lg={kind:"Literal",name:"width",value:280},mg=[T,lg],ng={alias:"preview",args:mg,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:"image(height:280,width:280)"},og={kind:"Literal",name:"height",value:480},$={kind:"Literal",name:"width",value:480},pg={alias:"large_preview",args:[og,$],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:"image(height:480,width:480)"},qg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"birthday_date",storageKey:null}],type:"MBirthdayReminderAttachment",abstractKey:null},rg={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},sg={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},tg={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},ug={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},vg={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},wg={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},xg={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:f,storageKey:null}],storageKey:null},yg={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},zg={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},Ag={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},Bg={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},Cg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[h,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[i,Ga],storageKey:null}],storageKey:null},Dg={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},Eg={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},Fg={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},i,Ga],storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},Hg={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},Ig={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},Jg={kind:"Literal",name:"first",value:3},Kg=[Jg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],Lg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},Mg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},Ng={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:j,storageKey:null},Og={kind:"InlineFragment",selections:[r],type:"Entity",abstractKey:"__isEntity"},Pg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[d,g,a,Ba,Og,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null}],storageKey:null},Qg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:null},Rg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ta,Qg],storageKey:null},Sg={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:j,storageKey:null};Jg=[Jg];var Tg={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Ug=[{kind:"Literal",name:"if_style",value:"file_upload"}],Vg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:Q,storageKey:null},Wg=[{kind:"Literal",name:"if_style",value:"photo"}],Xg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:j,storageKey:null},Yg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[d,g,a,Ba,Og],storageKey:null};Q={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:Q,storageKey:null};var Zg={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[Q],storageKey:null},$g={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null}],storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null};j={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:j,storageKey:null};var ch={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},fh={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},gh={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},hh={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:p,storageKey:'logo(size:"D32")'},ih={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},jh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:p,storageKey:null},kh={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},mh={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PostPurchaseOrderUpdateXmaProgress",kind:"LinkedField",name:"order_progress",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_segments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filled_segments",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null}],type:"PostPurchaseOrderUpdateXma",abstractKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},oh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},oa,nh,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},ph={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},qh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};Xb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[d,qb,{kind:"InlineFragment",selections:[a,I,x,rb,J,sb,tb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[ub,wb,vb,O],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:Xb,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Pb,Yb,Zb,S,$b,ac,a,Wb,bc,cc,Tb,dc,Ub,O,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[Pb,Yb,Zb,S,$b,ac,a,Wb,bc,cc,Tb,dc,Ub,O],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},O,{kind:"InlineFragment",selections:[ec,G,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:tc,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[ec,G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:tc,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},uc,vc,yc,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:f,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[zc,Ac,Bc,Cc,Dc,Ec,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Gc,Fc],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,Hc,e,Ic],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Kc,Lc,Mc,Nc,Oc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Pc,Qc,Rc,a,Jc,Sc,Tc,Vc,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,g,R,Wc,Xc,{alias:null,args:Yc,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[Zc],storageKey:"images(first:1)"},$c],storageKey:null}],storageKey:null},ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,Nc,Oc,ld],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,md,nd,Uc,od],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,pd,qd,rd,sd,td,ud],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:vd,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[k,m,Ua,y,z,Va,Wa,Xa,Ya,B,Za,ob,pb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[wd,xd,yd,zd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:V,storageKey:null},Ad,Bd,Cd,Dd,Ed,g,Fd],type:"Event",abstractKey:null},Gd,Hd,{kind:"InlineFragment",selections:[a,g,Id,Jd,Kd,Ld,fc,gc,Md,Nd,E,G],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,Id,Od,Pd,ic,Jd,Qd,Rd,Sd,Td,g],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,Ud,Vd,Wd,Xd,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[Zd],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,$d,ae,be,ce,de,ee,fe,ge,he,ke,dd,le,me,ne,oe,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:tc,storageKey:null},pe,qe,re,se],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[te,ue,ve,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[we,g,xe,R,Ab,ye,ze],storageKey:null},zb,Ae,Be,q,Ce,De,M,Ee,Fe,Ge,He,Ie,Je],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:f,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[Ke,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:f,storageKey:null},Le,Me,Ne,r],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Le,Ne],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Oe,Pe,v,Qe,g,Re,a,Se],type:"Page",abstractKey:null},Xe,{kind:"InlineFragment",selections:[Ye,{alias:null,args:Ze,concreteType:"MPersonalRemindersListToPersonalRemindersConnection",kind:"LinkedField",name:"personal_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MPersonalRemindersListToPersonalRemindersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"node",plural:!1,selections:We,storageKey:null}],storageKey:null}],storageKey:'personal_reminders(orderby:"m_personal_reminder_list_ordering")'}],type:"MPersonalRemindersList",abstractKey:null},{kind:"InlineFragment",selections:[$e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,{alias:null,args:null,concreteType:"AirlineBoardingPassesConnection",kind:"LinkedField",name:"boarding_passes",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineBoardingPassMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[of,pf,qf,rf,sf,tf,uf,xf,Ff],storageKey:null}],storageKey:null}],type:"AirlineBoardingPassCollectionMessageAttachment",abstractKey:null},Cf,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,Kf,Lf,Mf,je,wc,U,Pf,Qf],storageKey:null},Rf,Sf,X,Tf,pe],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,Kf,Lf,Mf,je,wc,U,Y,Of,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ce],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:V,storageKey:null},pe],type:"MessengerRetailShipment",abstractKey:null},Df,{kind:"InlineFragment",selections:[Af,Gf,$e,yf,Hb,Wf,Xf,Yf,Vf,Zf,If,$f,Hf,ag,Jf,bg,cg,bf,gf,dg,eg,fg,ef,ff,gg,hg,ig,jg,{alias:null,args:null,concreteType:"AirlineItineraryLegsConnection",kind:"LinkedField",name:"itinerary_legs",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItineraryLeg",kind:"LinkedField",name:"nodes",plural:!0,selections:[kg,{alias:null,args:null,concreteType:"AirlineItinerarySegmentsConnection",kind:"LinkedField",name:"segments",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItinerarySegmentMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[W,zf],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"AirlineItineraryMessageAttachment",abstractKey:null},{kind:"InlineFragment",selections:[a,vf,Z,g,wf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,Bf],type:"UserLeadGenInfo",abstractKey:null},Ef,{kind:"InlineFragment",selections:[a,g,L,o,J,sb],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,x,rb,J,sb,I,s,Yd,t],type:"WECMessageVideo",abstractKey:null},b,{kind:"InlineFragment",selections:[a,J,ng,pg],type:"WECMessageImage",abstractKey:null},qg,{kind:"InlineFragment",selections:[a,rg,sg,tg,ug,vg,wg,xg],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,yg],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Aa,storageKey:null}],storageKey:null},zg],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,zg],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,zg,Ag,Bg],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Cg,{alias:null,args:null,concreteType:"ComposedBlockWithEntities",kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Dg,La,Eg,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d],storageKey:null},i,Ga],storageKey:null},Fg,h],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Gg,Hg,Ig,{alias:null,args:Kg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[Lg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},Mg,cc,Ng,Pg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[d,g,Ba,Og],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[z,r,y,k,Rg,Sg,{alias:null,args:Jg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[Tg,{alias:"files",args:Ug,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Sg,Vg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Wg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Vg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Xg,Yg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[Rg],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,g,K,Zg,$g,ah],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,g,bh,j,ch,Zg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:f,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,dh,eh,fh,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[gh,g,hh,ih],storageKey:null},jh,kh,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[l,h,Db,lb,ea,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[K,g],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:f,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[E],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,lh],type:"ApplicationReferralXMA",abstractKey:null},mh,oh,{kind:"InlineFragment",selections:[a,ph],type:"XFBP2MXMA",abstractKey:null},qh],storageKey:null};Zb={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[k,m,Ua,y,z,Va,Wa,Xa,Ya,B,Za,ob,pb,Xb,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[k,m,Ua,y,z,Va,Wa,Xa,Ya,B,Za,ob,pb,Xb],storageKey:null}],storageKey:null};S={kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"};bc={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:n,storageKey:null};O={kind:"Literal",name:"sizing",value:"cover-fill"};vd={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};G={kind:"InlineFragment",selections:[oc,pc,I,{alias:"preview",args:[T,O,lg],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[og,O,$],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,t,s,vd,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:ie,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},o],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[vd,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},Na,rc,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};tc={kind:"InlineFragment",selections:[oc,pc,I,mc,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},Na,lc,rc],type:"MessageAnimatedImage",abstractKey:null};Ne={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};We={kind:"InlineFragment",selections:[oc,pc,I,x,Sa,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},rb,Ne],type:"MessageAudio",abstractKey:null};U={kind:"InlineFragment",selections:[oc,pc,I,r,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},L,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},rb,Ne,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:null}],type:"MessageFile",abstractKey:null};V=[d,G,tc,We,qc,U];Aa={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};Vg={kind:"InlineFragment",selections:[Fa,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[h,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[i,Ga,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,Ha,Ia,Ja],storageKey:null},Ka],storageKey:null}],storageKey:null},Ma,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Na,Zb,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[S,g],storageKey:null}],storageKey:null},Zb],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},bc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:V,storageKey:null},Aa],type:"UserMessage",abstractKey:null};Rg={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null};Zg={kind:"InlineFragment",selections:[Rg,e],type:"VoiceCallMessage",abstractKey:null};E=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:V,storageKey:null}];Ua={kind:"InlineFragment",selections:[Rg,e,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Tg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:E,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};B={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},e],type:"ThreadNameMessage",abstractKey:null};ob={alias:"preview",args:mg,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:"image(height:280,width:280)"};Xb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[ob,Na,rc],storageKey:null},e],type:"ThreadImageMessage",abstractKey:null};n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:f,storageKey:null},e],type:"ParticipantsAddedMessage",abstractKey:null};T={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:f,storageKey:null},e],type:"ParticipantLeftMessage",abstractKey:null};lg={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};og={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,h,lg,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,h,lg,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:f,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};O={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,Ve,Ue,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:xc,storageKey:null},{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},Nf,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};$=[O];u={kind:"InlineFragment",selections:$,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null};ie={kind:"InlineFragment",selections:$,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null};vd={kind:"InlineFragment",selections:$,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null};mc={kind:"InlineFragment",selections:$,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null};lc={kind:"InlineFragment",selections:$,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null};oc={kind:"InlineFragment",selections:$,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null};pc={kind:"InlineFragment",selections:$,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};Ne={kind:"InlineFragment",selections:$,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};Zb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},O],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};V={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null};mg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};lg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null};xc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null};Nf={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null};$={kind:"InlineFragment",selections:[Nf,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null}],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null};O={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:f,storageKey:null};var rh={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},sh={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},th={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},uh={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},vh={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},wh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},xh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},yh={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},zh={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Ah={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Bh={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Ch={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},yh,zh,Ah,Bh],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},Dh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},l,R,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},nh,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},Eh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"submitted_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_conversation_instance_id",storageKey:null}],type:"BizInboxFormBuilderSubmitNotifyAdminText",abstractKey:null},Fh={kind:"InlineFragment",selections:[td,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},Gh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"customer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rating_feedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeform_feedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"instance_id",storageKey:null}],type:"BizInboxCSATSurveyCustomerSubmitNotifyAdminText",abstractKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},Ih={kind:"InlineFragment",selections:[td,Hh,th,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},Jh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},Kh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};fa={kind:"InlineFragment",selections:[fa],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};Hh={kind:"InlineFragment",selections:[Hh,th,ha,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var Lh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},Mh={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},Nh={kind:"InlineFragment",selections:[Mh],type:"MessengerAdContextAdminText",abstractKey:null},Oh={kind:"InlineFragment",selections:[pa,oa,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},Ph={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},Qh=[F],Rh={kind:"InlineFragment",selections:Qh,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},Sh={kind:"InlineFragment",selections:Qh,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};Qh={kind:"InlineFragment",selections:Qh,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var Th={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},Uh={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},Vh={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},Wh={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},Xh={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},Yh={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},Zh={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};yh={kind:"InlineFragment",selections:[yh,zh,Ah,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Bh],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};zh={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Ah=[F,zh,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];Bh={kind:"InlineFragment",selections:Ah,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Ah={kind:"InlineFragment",selections:Ah,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};zh={kind:"InlineFragment",selections:[F,zh,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null};var $h={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};Mh={kind:"InlineFragment",selections:[Mh,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var ai={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},bi={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},ci={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},di={kind:"InlineFragment",selections:[ci,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};ci={kind:"InlineFragment",selections:[ci,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var ei={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},fi={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},gi={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null},hi={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};Q={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[d,og,u,ie,vd,mc,lc,oc,pc,Ne,Zb,V,mg,p,lg,xc,$,{kind:"InlineFragment",selections:[O,Uf,rh,sh,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[th,nh,Q,uh],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},vh],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},wh,xh,Ch,Dh,Eh,Fh,Gh,Ih,Jh,Kh,fa,Hh,Lh,Nh,Oh,Ph,Rh,Sh,Qh,{kind:"InlineFragment",selections:[Th,Uh,Vh,Nf,Wh,Xh,Yh,Zh,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Tg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:E,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},yh,Bh,Ah,zh,$h,Mh,ai,bi,di,ci,ei,fi,gi],storageKey:null},hi,e],type:"GenericAdminTextMessage",abstractKey:null};E=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:Qb,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:f,storageKey:null},e];Qb={kind:"InlineFragment",selections:E,type:"P2PPaymentRequestMessage",abstractKey:null};E={kind:"InlineFragment",selections:E,type:"P2PPaymentMessage",abstractKey:null};var ii={kind:"TypeDiscriminator",abstractKey:"__isMessage"},ji=[d,a];wa={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[wa,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:ji,storageKey:null}],storageKey:null};var ki={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,a,g,Ba],storageKey:null},a],storageKey:null},li={kind:"InlineFragment",selections:f,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},mi={kind:"InlineFragment",selections:f,type:"GenericAttachmentMedia",abstractKey:null},ni={kind:"InlineFragment",selections:f,type:"MontageImage",abstractKey:null};f={kind:"InlineFragment",selections:f,type:"MontageVideo",abstractKey:null};Pa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,Pa,Qa,w,Sa,Ta,x,S,li,mi,ni,f],storageKey:null};Qa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[d,l,r],storageKey:null};w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[d,a,{kind:"InlineFragment",selections:[bb,C,D,cb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};Sa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[d,mb,c],storageKey:null};bb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[$a,ab,w,db,eb,a,fb,gb,hb,ib,jb,kb,F,Sa,nb,Oa],storageKey:null};C=[d,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},A,xb,yb,l,H,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[d,ub,wb,vb,Bb,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];D={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:C,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[d,Cb,N,Eb,P],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:C,storageKey:null},Db,Fb,h],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:C,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};mb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[d,a,g,K,Gb],storageKey:null};c=[Nb,a];nb={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:c,storageKey:null},Ob,a],storageKey:null};Oa={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[g,R,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:c,storageKey:null},r,a],storageKey:null};A=[d,g,a,K,Gb];xb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:A,storageKey:null};yb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:A,storageKey:null};H={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[wb,mb,Ib,Jb,ub,Kb,Lb,Mb,nb,Rb,Sb,Tb,Oa,a,Ub,Vb,Wb,D],storageKey:null};Bb=[$a,ab,w,db,eb,a,fb,gb,hb,ib,jb,kb,F,Sa];Cb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Bb,storageKey:null};N={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Bb,storageKey:null};Eb=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,R,fc,cb,gc,g,hc,ic,N,Cb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[d,kc,jc,nc,qc,sc,S,li,mi,ni,f],storageKey:null}],storageKey:null}];P={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[d,Ra,a],storageKey:null};Fb={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,g,Id,Jd,Kd,Ld,fc,gc,Md,Nd,Cb],storageKey:null}],storageKey:null};C={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,Ta,Qg,S,li,mi,ni,f],storageKey:null};Ob={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,Nb,S,li,mi,ni,f],storageKey:null};Gb={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:c,storageKey:null};A={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[Gb],storageKey:null};$a={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[d,a,qb,{kind:"InlineFragment",selections:[I,x,rb,J,sb,tb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[ub,wb,vb,D],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[wb,mb,Ib,Jb,ub,Kb,Lb,Mb,nb,Rb,Sb,Tb,Oa,Ub,Vb,Wb,D],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Pb,Yb,xb,yb,$b,ac,Wb,H,cc,Tb,dc,Ub,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[Pb,Yb,xb,yb,$b,ac,a,Wb,H,cc,Tb,dc,Ub,D],storageKey:null},D],type:"PeerToPeerPaymentRequest",abstractKey:null},D,{kind:"InlineFragment",selections:[ec,Cb,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:Eb,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[ec,Cb,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:Eb,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},uc,vc,yc,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:ji,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:ji,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[zc,Ac,Bc,Cc,Dc,Ec,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[d,Gc,Fc,S],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Hc,e,Ic],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Kc,Lc,Mc,Nc,Oc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[d,a,{kind:"InlineFragment",selections:[Pc,Qc,Rc,Jc,Sc,Tc,Vc,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,g,R,Wc,Xc,{alias:null,args:Yc,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[Zc,a],storageKey:"images(first:1)"},$c],storageKey:null}],storageKey:null},ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,Nc,Oc,ld],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[md,nd,Uc,od],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[pd,qd,rd,sd,td,ud],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,a,g],storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[k,m,Pa,y,z,Va,Wa,Xa,Ya,Qa,Za,bb,pb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[wd,xd,yd,zd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[d,g,S],storageKey:null},Ad,Bd,Cd,Dd,Ed,g,Fd],type:"Event",abstractKey:null},Gd,Hd,{kind:"InlineFragment",selections:[g,Id,Jd,Kd,Ld,fc,gc,Md,Nd,N,Cb],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Id,Od,Pd,ic,Jd,Qd,Rd,Sd,Td,g],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[Ud,Vd,Wd,Xd,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[Zd,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[$d,ae,be,ce,de,ee,fe,ge,he,ke,dd,le,me,ne,oe,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:Eb,storageKey:null},pe,qe,re,se],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[te,ue,ve,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[we,g,xe,R,Ab,ye,ze,a],storageKey:null},zb,Ae,Be,q,Ce,De,M,Ee,Fe,Ge,He,Ie,Je],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Ke,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:ji,storageKey:null},Le,Me,P,r],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Le,P],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Oe,Pe,v,Qe,g,Re,Se],type:"Page",abstractKey:null},Xe,{kind:"InlineFragment",selections:[Ye,{alias:null,args:Ze,concreteType:"MPersonalRemindersListToPersonalRemindersConnection",kind:"LinkedField",name:"personal_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MPersonalRemindersListToPersonalRemindersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"node",plural:!1,selections:[Te,Ue,Ve,a],storageKey:null}],storageKey:null}],storageKey:'personal_reminders(orderby:"m_personal_reminder_list_ordering")'}],type:"MPersonalRemindersList",abstractKey:null},{kind:"InlineFragment",selections:[$e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,{alias:null,args:null,concreteType:"AirlineBoardingPassesConnection",kind:"LinkedField",name:"boarding_passes",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineBoardingPassMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[of,pf,qf,rf,sf,tf,uf,xf,Ff,a],storageKey:null}],storageKey:null}],type:"AirlineBoardingPassCollectionMessageAttachment",abstractKey:null},Cf,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,Kf,Lf,Mf,je,wc,Fb,Pf,Qf],storageKey:null},Rf,Sf,X,Tf,pe],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[Kf,Lf,Mf,je,wc,Fb,Y,Of,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ce,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:[g,a],storageKey:null},pe],type:"MessengerRetailShipment",abstractKey:null},Df,{kind:"InlineFragment",selections:[Af,Gf,$e,yf,Hb,Wf,Xf,Yf,Vf,Zf,If,$f,Hf,ag,Jf,bg,cg,bf,gf,dg,eg,fg,ef,ff,gg,hg,ig,jg,{alias:null,args:null,concreteType:"AirlineItineraryLegsConnection",kind:"LinkedField",name:"itinerary_legs",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItineraryLeg",kind:"LinkedField",name:"nodes",plural:!0,selections:[kg,{alias:null,args:null,concreteType:"AirlineItinerarySegmentsConnection",kind:"LinkedField",name:"segments",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItinerarySegmentMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[W,zf,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"AirlineItineraryMessageAttachment",abstractKey:null},{kind:"InlineFragment",selections:[vf,Z,g,wf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[Bf],type:"UserLeadGenInfo",abstractKey:null},Ef,{kind:"InlineFragment",selections:[g,L,o,J,sb],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[x,rb,J,sb,I,s,Yd,t],type:"WECMessageVideo",abstractKey:null},b,{kind:"InlineFragment",selections:[J,ng,pg],type:"WECMessageImage",abstractKey:null},qg,{kind:"InlineFragment",selections:[rg,sg,tg,ug,vg,wg,xg],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[yg],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[d,za,a],storageKey:null}],storageKey:null},zg],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[zg],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[zg,Ag,Bg],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Cg,{alias:null,args:null,concreteType:"ComposedBlockWithEntities",kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Dg,La,Eg,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,S],storageKey:null},i,Ga],storageKey:null},Fg,h],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Gg,Hg,Ig,{alias:null,args:Kg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[Lg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},Mg,cc,Ng,Pg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[d,g,Ba,Og,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[z,r,y,k,C,Sg,{alias:null,args:Jg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[Tg,{alias:"files",args:Ug,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Sg,Ob],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Wg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ob],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Xg,Yg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[C],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[g,K,A,$g,ah],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[g,bh,j,ch,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:ji,storageKey:null},{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:ji,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[dh,eh,fh,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[gh,g,hh,ih,a],storageKey:null},jh,kh,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[l,h,Db,lb,ea,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[K,g,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[N],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[lh],type:"ApplicationReferralXMA",abstractKey:null},mh,oh,{kind:"InlineFragment",selections:[ph],type:"XFBP2MXMA",abstractKey:null},qh],storageKey:null};ab={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[k,m,Pa,y,z,Va,Wa,Xa,Ya,Qa,Za,bb,pb,$a,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[k,m,Pa,y,z,Va,Wa,Xa,Ya,Qa,Za,bb,pb,$a],storageKey:null}],storageKey:null};w=[d,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},G,tc,We,qc,U,S];db={kind:"InlineFragment",selections:[Fa,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[h,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[i,Ga,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,Ha,Ia,Ja,S],storageKey:null},Ka],storageKey:null}],storageKey:null},Ma,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Na,ab,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[d,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,g,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},ab],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null},bc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:w,storageKey:null},Aa],type:"UserMessage",abstractKey:null};eb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}];fb={kind:"InlineFragment",selections:[Rg,e,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Tg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:eb,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};gb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[ob,Na,rc,a],storageKey:null},e],type:"ThreadImageMessage",abstractKey:null};hb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[d,og,u,ie,vd,mc,lc,oc,pc,Ne,Zb,V,mg,p,lg,xc,$,{kind:"InlineFragment",selections:[O,Uf,rh,sh,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[d,{kind:"InlineFragment",selections:[th,nh,Gb,uh],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},vh],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},wh,xh,Ch,Dh,Eh,Fh,Gh,Ih,Jh,Kh,fa,Hh,Lh,Nh,Oh,Ph,Rh,Sh,Qh,{kind:"InlineFragment",selections:[Th,Uh,Vh,Nf,Wh,Xh,Yh,Zh,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Tg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:eb,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},yh,Bh,Ah,zh,$h,Mh,ai,bi,di,ci,ei,fi,gi],storageKey:null},hi,e],type:"GenericAdminTextMessage",abstractKey:null};return{fragment:{argumentDefinitions:[aa,ca],kind:"Fragment",metadata:null,name:"MessengerMessageQuery",selections:[{alias:null,args:da,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[ga,d,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,xa,ya,Ca,Da,Ea,Vg,Zg,Ua,B,Xb,n,T,Q,Qb,E,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[dd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[ga,d,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,xa,ya,Ca,Da,Ea,Vg,Zg,Ua,B,Xb,n,T,Q,Qb,E],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ca,aa],kind:"Operation",name:"MessengerMessageQuery",selections:[{alias:null,args:da,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[d,ii,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,ya,ki,Da,Ea,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[dd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[d,ii,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,ya,ki,Da,Ea,a,db,Zg,fb,B,gb,n,T,hb,Qb,E],storageKey:null}],storageKey:null},a,db,Zg,fb,B,gb,n,T,hb,Qb,E],storageKey:null}]},params:{id:ba("MessengerMessageQuery_facebookRelayOperation"),metadata:{},name:"MessengerMessageQuery",operationKind:"query",text:null}}}();a.exports=aa}),null);
__d("MessengerThreadMetadataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5686595558069518"}),null);
__d("MessengerThreadMetadataQuery.graphql",["MessengerThreadMetadataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"source"}],c=[{kind:"Variable",name:"id",variableName:"id"}],d={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerThreadMetadataQuery",selections:[{alias:null,args:c,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[d,e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerThreadMetadataQuery",selections:[{alias:null,args:c,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MessengerThreadMetadataQuery_facebookRelayOperation"),metadata:{},name:"MessengerThreadMetadataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerThreadsQuery.graphql",["relay-runtime"],(function(aa,ba,ca,da,ea,fa){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:null,kind:"LocalArgument",name:"id"},ca={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},da={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},ea={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},fa={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},ga={defaultValue:null,kind:"LocalArgument",name:"message_limit"},ha={defaultValue:null,kind:"LocalArgument",name:"source"},ia={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},ja=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},la={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[ka,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},ma=[{kind:"Literal",name:"last",value:1}],c={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},d=[a],na={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f=[e],qa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:f,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},i=[g,h,{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},ra,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];i={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},sa=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],k={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},l=[k],m=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};sa=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:d,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:sa,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:l,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:l,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:l,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:sa,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:l,storageKey:"padded_sprite_image(height:240,width:240)"},n,o,p];var ta={kind:"InlineFragment",selections:sa,type:"Sticker",abstractKey:null},q=[k,o,p],ua={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:null},r={kind:"Literal",name:"sizing",value:"contain-fit"},va=[r],wa={alias:null,args:va,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(sizing:"contain-fit")'},s={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},xa={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[ta,ua,wa,s,xa,t],storageKey:null},za={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:f,storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},Ba={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Ca={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:f,storageKey:null}],storageKey:null},Da={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},Fa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[h,n],storageKey:null},Ga={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},Ha={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},Ia={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},Ja={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},x={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,Ja,v,w,Ka],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},La={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},Ma={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},Qa={alias:null,args:null,concreteType:"MessengerPlatformPaymentMetadata",kind:"LinkedField",name:"payment_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_module_config",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_price",storageKey:null}],storageKey:null},Ra={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},Sa={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Va={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,g,h,z,Ta,A,Ua,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[e,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};z={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,h,g,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[g,z],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[e,j,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};var B={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[Va,z],storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},C={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[Ha,Ia,x,La,Ma,a,Na,Oa,Pa,Qa,Ra,Sa,y,B,Wa,ra],storageKey:null},Xa={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Ya={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:l,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},E={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},cb={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},F={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},db=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},F,n],eb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:db,storageKey:null};db={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:db,storageKey:null};var G={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};u={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[D,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[u,G],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var fb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},gb={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},hb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null};Ta={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:f,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Ta,h],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},hb],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null};var H={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},I=[H,ib,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],jb={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:I,storageKey:null},J=[D,u,fb,gb,h,Ta,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[cb,eb,db,jb],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],kb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};I={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:I,storageKey:null},lb],type:"P2PBubbleAmountComponent",abstractKey:null};var K=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},o,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},k,p],mb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:K,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};K={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},lb,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:K,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:K,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},e],type:"P2PBubbleTextComponent",abstractKey:null};var nb={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};J={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:J,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[kb,I,mb,K],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:J,storageKey:null},lb,nb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:J,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var ob={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},pb={kind:"InlineFragment",selections:[ob,n],type:"User",abstractKey:null},qb={alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null},rb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[H,qb],storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},tb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},ub={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},vb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},wb={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null},xb=[wb],yb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:d,storageKey:null},zb={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},Ab=[zb],Bb={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:Ab,storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Eb={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},Fb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[ib],storageKey:null},Gb={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},M=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,b,F,pb],storageKey:null},rb,sb,cb,tb,ub,vb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:xb,storageKey:null},yb],storageKey:null},Bb,Cb,Db,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,L,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:xb,storageKey:null},n],storageKey:null},a,Eb,Fb,Gb,J];zb={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[zb,ib],storageKey:null};var Hb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[H],storageKey:null},N=[b,a,F,pb],Ib={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:N,storageKey:null};N={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:N,storageKey:null};var Jb={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},Kb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:d,storageKey:null},Lb={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:M,storageKey:null},Mb={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},Nb={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Ob={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};x=[Ha,Ia,x,La,Ma,a,Na,Oa,Pa,Qa,Ra,Sa,y,B];B={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:x,storageKey:null};var Pb={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},Qb={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},Rb={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},Sb={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};x={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:x,storageKey:null};var Tb=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],Ub={kind:"InlineFragment",selections:Tb,type:"MessageImage",abstractKey:null};Tb={kind:"InlineFragment",selections:Tb,type:"Photo",abstractKey:null};var Vb={kind:"Literal",name:"media_type",value:"image/gif"},Wb={alias:null,args:[Vb],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(media_type:"image/gif")'};Vb={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},Vb,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var Xb={kind:"InlineFragment",selections:[Wb,Vb,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},r,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},Yb={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:l,storageKey:null}],storageKey:null},Zb={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},$b=[o,p,k],ac={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null};$b={kind:"InlineFragment",selections:[Yb,Zb,E,t,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},r,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:$b,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},pa,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},ac,s,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},r,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:$b,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},r,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:$b,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var bc={kind:"InlineFragment",selections:[p,o,a,t],type:"Video",abstractKey:null},O=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,L,Pb,Ka,Qb,b,Rb,Sb,x,B,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[D,Ub,Tb,Xb,$b,bc],storageKey:null}],storageKey:null}],cc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},dc={alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null},ec={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ComponentFlowLeadGenField",kind:"LinkedField",name:"field_data_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_type",storageKey:null},j,dc],storageKey:null}],type:"PagesPlatformLeadGenInfo",abstractKey:null},fc={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},gc={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},hc=[P,gc],ic={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},fc,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:hc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[P,gc,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},jc={alias:null,args:null,concreteType:"MontageDirectOpenInfo",kind:"LinkedField",name:"opens",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"open_time",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"open_by",plural:!1,selections:d,storageKey:null}],storageKey:null},kc={alias:null,args:null,kind:"ScalarField",name:"message_state",storageKey:null},lc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:d,storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},nc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},oc={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},pc=[t,n,wb],qc={kind:"InlineFragment",selections:pc,type:"MessageVideo",abstractKey:null};pc={kind:"InlineFragment",selections:pc,type:"MessageImage",abstractKey:null};var rc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},sc={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},tc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},uc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,tc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},vc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},wc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null},xc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},yc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},zc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Bc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Dc=[a,b,F],Ec={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Dc,storageKey:null},Fc=[{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null}],Gc={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:Fc,storageKey:null},Hc={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},Ic={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},Jc=[{kind:"Literal",name:"first",value:1}],Kc={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:'image(sizing:"cover-fill-cropped")'},Lc={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},Mc={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},Nc={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},Oc={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},Pc={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},Qc={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},Sc={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},Tc={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:d,storageKey:null},Uc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,ob,F],storageKey:null},Vc={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},G,j],storageKey:null},Wc={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},Xc={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},Yc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null},Zc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:d,storageKey:null};Fc={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:Fc,storageKey:null};var $c={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},ad={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},bd={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},cd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},k],storageKey:null},dd={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},fd={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},gd=[a,b],hd=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:gd,storageKey:null}],id={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},jd={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},kd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},ld={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},md=[b],nd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:f,storageKey:null},od={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},pd={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},qd={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},rd={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:"profile_picture(width:300)"},sd={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},td={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},ud={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},vd={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},wd={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},xd={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},yd={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},zd={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Bd={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Cd={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},Dd={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},Ed={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:d,storageKey:null},Fd={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},Gd={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},Hd={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},Id={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},Jd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:f,storageKey:null},Kd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:f,storageKey:null},Ld=[k,p,o],Md={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Ld,storageKey:null},Nd={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},Od={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},Pd={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},Qd={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},Rd={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},Sd={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},Td={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},Ud={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},Vd={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},Wd={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},Xd={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},Yd={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},Zd={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[Wd,Q,R,Xd,Yd],storageKey:null},$d={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},fe={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},ge={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:l,storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},je={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:f,storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},le={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:f,storageKey:null};H=[H,ib];ib={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:H,storageKey:null};var me={alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:l,storageKey:"images(height:120,width:120)"},ne={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};hb={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[hb,le,{alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:"image(height:120,width:120)"}],storageKey:null};m=[Yd,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}];var oe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:m,storageKey:null},pe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:m,storageKey:null};m={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:m,storageKey:null};var qe={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};H={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:H,storageKey:null};var se={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},te={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[Pc],storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},ye={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:f,storageKey:null},ze={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:f,storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};va={alias:null,args:va,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:'image(sizing:"contain-fit")'};var Be={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[va],storageKey:null},Ce={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};r={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},r,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Ld,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var Ee={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:hc,storageKey:null},Fe={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[G],storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},Ke=[He,Ie,Je],Le={kind:"InlineFragment",selections:Ke,type:"MessengerEventReminder",abstractKey:null},Me={alias:null,args:null,kind:"ScalarField",name:"has_more_upcoming_reminders",storageKey:null},Ne=[{kind:"Literal",name:"orderby",value:"m_personal_reminder_list_ordering"}],Oe={alias:null,args:null,kind:"ScalarField",name:"tint_color",storageKey:null},Pe={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:Ld,storageKey:null},Qe={alias:null,args:null,kind:"ScalarField",name:"flight_label",storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"boarding_time_label",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"departure_label",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"passenger_names_label",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"passenger_seat_label",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"flight_terminal_label",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"flight_gate_label",storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"view_boarding_pass_cta_label",storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"share_cta_label",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"message_cta_label",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"boarding_pass_title_label",storageKey:null},af={alias:null,args:null,kind:"ScalarField",name:"boarding_pass_error_title_label",storageKey:null},bf={alias:null,args:null,kind:"ScalarField",name:"airline_logo_image_url",storageKey:null},cf={alias:null,args:null,kind:"ScalarField",name:"header_image_url",storageKey:null};G=[h,G];var df={alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"auxiliary_fields",plural:!0,selections:G,storageKey:null},ef={alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"secondary_fields",plural:!0,selections:G,storageKey:null},ff={alias:null,args:null,kind:"ScalarField",name:"qr_code_header_image_url",storageKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"qr_code_image_url",storageKey:null},hf={alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"header_text_field",plural:!1,selections:G,storageKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"flight_number",storageKey:null},kf={alias:null,args:null,kind:"ScalarField",name:"formatted_time_for_display",storageKey:null},lf=[kf],mf={alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"departure_time_info",plural:!1,selections:lf,storageKey:null},nf={alias:null,args:null,kind:"ScalarField",name:"terminal",storageKey:null},of={alias:null,args:null,kind:"ScalarField",name:"gate",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"airport_code",storageKey:null},pf={alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"arrival_time_info",plural:!1,selections:lf,storageKey:null},qf=[S,Q],rf={alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"arrival_airport",plural:!1,selections:qf,storageKey:null};lf={alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_info",plural:!1,selections:[jf,{alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"boarding_time_info",plural:!1,selections:lf,storageKey:null},mf,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:[nf,of,S,Q],storageKey:null},pf,rf],storageKey:null};var sf={alias:null,args:null,kind:"ScalarField",name:"seat",storageKey:null},tf={alias:null,args:null,concreteType:"AirlinePassengerSegmentDetail",kind:"LinkedField",name:"passenger",plural:!1,selections:[sf,{alias:null,args:null,concreteType:"AirlinePassenger",kind:"LinkedField",name:"passenger",plural:!1,selections:md,storageKey:null}],storageKey:null},uf={alias:null,args:null,kind:"ScalarField",name:"pnr_number",storageKey:null},vf={alias:null,args:null,kind:"ScalarField",name:"booking_number_label",storageKey:null},wf={alias:null,args:null,kind:"ScalarField",name:"arrival_time_label",storageKey:null},xf={alias:null,args:null,kind:"ScalarField",name:"departure_time_label",storageKey:null};qf={kind:"InlineFragment",selections:[uf,Oe,{alias:null,args:null,kind:"ScalarField",name:"checkin_url",storageKey:null},vf,Qe,wf,xf,{alias:null,args:null,kind:"ScalarField",name:"checkin_cta_label",storageKey:null},Pe,{alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_infos",plural:!0,selections:[jf,rf,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:qf,storageKey:null},mf,pf],storageKey:null}],type:"AirlineCheckInReminderMessageAttachment",abstractKey:null};var yf={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},zf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},Af={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};R=[R,Q,Xd,gc,P,Yd,Wd,T];Xd={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:R,storageKey:null};gc={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:R,storageKey:null};P={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,vd,wd,xd,yd,Pb,Qb,zd,Ad,B],storageKey:null}],storageKey:null};Wd={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};var Bf=[p,o,k],Cf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:Bf,storageKey:null},Df={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,Wd,Cf],storageKey:null};R={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:R,storageKey:null};var Ef={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,R],storageKey:null}],storageKey:null},Ff={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},Gf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},Hf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};Wd={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,Wd,Cf,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:f,storageKey:null}],storageKey:null};Cf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gf,R],storageKey:null}],storageKey:null};var If={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Jf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:q,storageKey:null};rf={kind:"InlineFragment",selections:[uf,Oe,If,xf,wf,vf,We,Qe,{alias:null,args:null,kind:"ScalarField",name:"flight_status_label",storageKey:null},Te,Ue,Jf,{alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_info",plural:!1,selections:[rf,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:[S,Q,of],storageKey:null},jf,mf,pf],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hightlighted_labels",storageKey:null}],type:"AirlineUpdateMessageAttachment",abstractKey:null};of={alias:null,args:null,kind:"ScalarField",name:"confirmation_number",storageKey:null};mf={alias:null,args:null,kind:"ScalarField",name:"formatted_total",storageKey:null};qb={alias:null,args:null,concreteType:"AirlinePriceInfo",kind:"LinkedField",name:"itemized_price_infos",plural:!0,selections:[h,qb],storageKey:null};var Kf={alias:null,args:null,kind:"ScalarField",name:"formatted_tax",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"formatted_base_price",storageKey:null},Mf={alias:null,args:null,concreteType:"AirlinePassenger",kind:"LinkedField",name:"passenger_infos",plural:!0,selections:md,storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"aircraft_type_label",storageKey:null},Of={alias:null,args:null,kind:"ScalarField",name:"base_price_label",storageKey:null},Pf={alias:null,args:null,kind:"ScalarField",name:"cabin_type_label",storageKey:null},Qf={alias:null,args:null,kind:"ScalarField",name:"flight_confirmation_label",storageKey:null},Rf={alias:null,args:null,kind:"ScalarField",name:"flight_date_label",storageKey:null},Sf={alias:null,args:null,kind:"ScalarField",name:"itinerary_error_title_label",storageKey:null},Tf={alias:null,args:null,kind:"ScalarField",name:"itinerary_title_label",storageKey:null},Uf={alias:null,args:null,kind:"ScalarField",name:"passenger_name_label",storageKey:null},Vf={alias:null,args:null,kind:"ScalarField",name:"purchase_summary_label",storageKey:null},Wf={alias:null,args:null,kind:"ScalarField",name:"taxes_label",storageKey:null},Xf={alias:null,args:null,kind:"ScalarField",name:"total_label",storageKey:null},Yf={alias:null,args:null,kind:"ScalarField",name:"view_details_cta_label",storageKey:null},Zf={alias:null,args:null,kind:"ScalarField",name:"number_of_stops_label",storageKey:null};S=[S,Q,nf];nf={alias:null,args:null,concreteType:"AirlineFlightInfo",kind:"LinkedField",name:"flight_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aircraft_type",storageKey:null},jf,{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"departure_airport",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"AirportInfo",kind:"LinkedField",name:"arrival_airport",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"AirlineFlightTimeInfo",kind:"LinkedField",name:"departure_time_info",plural:!1,selections:[kf,{alias:null,args:null,kind:"ScalarField",name:"formatted_datetime_for_display",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_date_for_display",storageKey:null}],storageKey:null},pf],storageKey:null};jf={alias:null,args:null,concreteType:"AirlinePassengerSegmentDetail",kind:"LinkedField",name:"passenger_details",plural:!0,selections:[{alias:null,args:null,concreteType:"AirlinePassenger",kind:"LinkedField",name:"passenger",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"ticket_number",storageKey:null}],storageKey:null},sf,{alias:null,args:null,kind:"ScalarField",name:"seat_type",storageKey:null},{alias:null,args:null,concreteType:"AirlineProductItem",kind:"LinkedField",name:"product_items",plural:!0,selections:G,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"travel_class",storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:Ld,storageKey:null};kf={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null};pf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:gd,storageKey:null};sf={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[j,b,dc],storageKey:null};G={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};Ld={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null};dc={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:q,storageKey:null};var $f={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},ag={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},$f],type:"IceBreakerMessageAttachment",abstractKey:null},bg={kind:"Literal",name:"height",value:280},cg={kind:"Literal",name:"width",value:280},dg=[bg,cg],eg={alias:"preview",args:dg,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:280,width:280)"},fg={kind:"Literal",name:"height",value:480},gg={kind:"Literal",name:"width",value:480},hg={alias:"large_preview",args:[fg,gg],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:480,width:480)"},ig={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"birthday_date",storageKey:null}],type:"MBirthdayReminderAttachment",abstractKey:null},jg={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},kg={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},lg={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},mg={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},ng={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},og={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},pg={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:d,storageKey:null}],storageKey:null},qg={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},rg=[ob],sg={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},tg={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},ug={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},vg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[A,U],storageKey:null}],storageKey:null},wg={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},xg={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},yg={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},zg={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},A,U],storageKey:null},Ag={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},Bg={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},Cg={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},Dg={kind:"Literal",name:"first",value:3},Eg=[Dg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],Fg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},Hg={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},Ig={kind:"InlineFragment",selections:rg,type:"User",abstractKey:null},Jg=[n],Kg={kind:"InlineFragment",selections:Jg,type:"Entity",abstractKey:"__isEntity"},Lg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[D,b,a,Ig,Kg,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],storageKey:null},Mg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},V={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[xa,Mg],storageKey:null},Ng={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null};Dg=[Dg];var W={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Og=[{kind:"Literal",name:"if_style",value:"file_upload"}],Pg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:xb,storageKey:null},Qg=[{kind:"Literal",name:"if_style",value:"photo"}],Rg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},Sg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[D,b,a,Ig,Kg],storageKey:null},Tg={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:xb,storageKey:null},Ug={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[Tg],storageKey:null},Vg={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},Wg={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[Vg],storageKey:null},Xg={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},Yg={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null};f={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:f,storageKey:null};var Zg={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},$g={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:d,storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},ch={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},eh={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:l,storageKey:'logo(size:"D32")'},fh={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},gh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:l,storageKey:null},hh={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},ih={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},jh={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},kh={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PostPurchaseOrderUpdateXmaProgress",kind:"LinkedField",name:"order_progress",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_segments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filled_segments",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null}],type:"PostPurchaseOrderUpdateXma",abstractKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},mh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},$f,lh,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},oh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};M={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[D,Ya,{kind:"InlineFragment",selections:[a,E,t,Za,$a,ab,bb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[cb,eb,db,J],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:M,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[zb,Hb,Ib,N,Jb,Kb,a,Gb,Lb,Mb,Db,Nb,Eb,J,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[zb,Hb,Ib,N,Jb,Kb,a,Gb,Lb,Mb,Db,Nb,Eb,J],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},J,{kind:"InlineFragment",selections:[Ob,B,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:O,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[Ob,B,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:O,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},cc,ec,ic,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:d,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[jc,kc,lc,mc,nc,oc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[qc,pc],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,rc,c,sc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,uc,vc,wc,xc,yc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[zc,Ac,Bc,a,tc,Cc,Ec,Gc,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,L,Hc,Ic,{alias:null,args:Jc,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[Kc],storageKey:"images(first:1)"},Lc],storageKey:null}],storageKey:null},Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,xc,yc,Xc],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,Yc,Zc,Fc,$c],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,ad,bd,cd,dd,ed,fd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:hd,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[qa,i,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,C,Xa],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[id,jd,kd,ld,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:md,storageKey:null},nd,od,pd,qd,rd,b,sd],type:"Event",abstractKey:null},td,ud,{kind:"InlineFragment",selections:[a,b,vd,wd,xd,yd,Pb,Qb,zd,Ad,x,B],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,vd,Bd,Cd,Sb,wd,Dd,Ed,Fd,Gd,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,Hd,Id,Jd,Kd,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[Md],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Zd,Pc,$d,ae,be,ce,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:O,storageKey:null},de,ee,fe,ge],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[he,ie,je,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[ke,b,le,L,ib,me,ne],storageKey:null},hb,oe,pe,m,qe,re,H,se,te,ue,ve,we,xe],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:d,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[ye,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:d,storageKey:null},ze,Ae,Be,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[ze,Be],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Ce,De,r,Ee,b,Fe,a,Ge],type:"Page",abstractKey:null},Le,{kind:"InlineFragment",selections:[Me,{alias:null,args:Ne,concreteType:"MPersonalRemindersListToPersonalRemindersConnection",kind:"LinkedField",name:"personal_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MPersonalRemindersListToPersonalRemindersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"node",plural:!1,selections:Ke,storageKey:null}],storageKey:null}],storageKey:'personal_reminders(orderby:"m_personal_reminder_list_ordering")'}],type:"MPersonalRemindersList",abstractKey:null},{kind:"InlineFragment",selections:[Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,af,{alias:null,args:null,concreteType:"AirlineBoardingPassesConnection",kind:"LinkedField",name:"boarding_passes",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineBoardingPassMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[bf,cf,df,ef,ff,gf,hf,lf,tf],storageKey:null}],storageKey:null}],type:"AirlineBoardingPassCollectionMessageAttachment",abstractKey:null},qf,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,yf,zf,Af,Xd,gc,P,Df,Ef],storageKey:null},Ff,Gf,R,Hf,de],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,yf,zf,Af,Xd,gc,P,Wd,Cf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[Qd],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:md,storageKey:null},de],type:"MessengerRetailShipment",abstractKey:null},rf,{kind:"InlineFragment",selections:[of,uf,Oe,mf,qb,Kf,Lf,Mf,Jf,Nf,wf,Of,vf,Pf,xf,Qf,Rf,Qe,Ve,Sf,Tf,Uf,Te,Ue,Vf,Wf,Xf,Yf,{alias:null,args:null,concreteType:"AirlineItineraryLegsConnection",kind:"LinkedField",name:"itinerary_legs",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItineraryLeg",kind:"LinkedField",name:"nodes",plural:!0,selections:[Zf,{alias:null,args:null,concreteType:"AirlineItinerarySegmentsConnection",kind:"LinkedField",name:"segments",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItinerarySegmentMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[nf,jf],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"AirlineItineraryMessageAttachment",abstractKey:null},{kind:"InlineFragment",selections:[a,S,kf,b,pf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,sf],type:"UserLeadGenInfo",abstractKey:null},G,{kind:"InlineFragment",selections:[a,b,Ld,k,$a,ab],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,t,Za,$a,ab,E,o,dc,p],type:"WECMessageVideo",abstractKey:null},ag,{kind:"InlineFragment",selections:[a,$a,eg,hg],type:"WECMessageImage",abstractKey:null},ig,{kind:"InlineFragment",selections:[a,jg,kg,lg,mg,ng,og,pg],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,qg],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:rg,storageKey:null}],storageKey:null},sg],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,sg],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,sg,tg,ug],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[vg,{alias:null,args:null,concreteType:"ComposedBlockWithEntities",kind:"LinkedField",name:"message_richtext",plural:!0,selections:[wg,xg,yg,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[D],storageKey:null},A,U],storageKey:null},zg,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Ag,Bg,Cg,{alias:null,args:Eg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[Fg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},Gg,Mb,Hg,Lg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[D,b,Ig,Kg],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[Aa,n,za,qa,V,Ng,{alias:null,args:Dg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[W,{alias:"files",args:Og,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ng,Pg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Qg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Rg,Sg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[V],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,b,F,Ug,Wg,Xg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b,Yg,f,Zg,Ug,$g,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,ah,bh,ch,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[dh,b,eh,fh],storageKey:null},gh,hh,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,lb,Ua,ih,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[F,b],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:d,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[x],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,jh],type:"ApplicationReferralXMA",abstractKey:null},kh,mh,{kind:"InlineFragment",selections:[a,nh],type:"XFBP2MXMA",abstractKey:null},oh],storageKey:null};Ib={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[qa,i,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,C,Xa,M,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[qa,i,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,C,Xa,M],storageKey:null}],storageKey:null};N={kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"};Lb={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[pa,Ib,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[N,b],storageKey:null}],storageKey:null},Ib],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:sa,storageKey:null};B={kind:"Literal",name:"sizing",value:"cover-fill"};O={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};Be={kind:"InlineFragment",selections:[Yb,Zb,E,{alias:"preview",args:[bg,B,cg],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[fg,B,gg],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,p,o,O,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:Bf,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},k],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[O,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},pa,ac,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};Ke={kind:"InlineFragment",selections:[Yb,Zb,E,Wb,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},pa,Vb,ac],type:"MessageAnimatedImage",abstractKey:null};P={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};rg={kind:"InlineFragment",selections:[Yb,Zb,E,t,s,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Za,P],type:"MessageAudio",abstractKey:null};Pg={kind:"InlineFragment",selections:[Yb,Zb,E,n,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},Ld,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Za,P,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null}],type:"MessageFile",abstractKey:null};V=[D,Be,Ke,rg,$b,Pg];Ug={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:V,storageKey:null};x={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};ya={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:d,storageKey:null};Fa={kind:"InlineFragment",selections:[ya],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null};C={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};M={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null};Ib={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null};sa={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null};bg={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null};cg={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null};fg={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Dc,storageKey:null};B={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null};gg={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]};q={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null};Bf={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:l,storageKey:"square_image(size:60)"};O={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null};Wb={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null};Vb={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null};Yb={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null};Zb={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null};Dc={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null};var ph={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},qh={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},rh={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},sh={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},th={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},uh={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},vh={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},wh={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},xh={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},yh={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},zh={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},Ah={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[yh,zh],storageKey:null},Bh={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},Ch={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},Dh={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},Eh={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},Fh={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},Gh={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},Ih={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},Jh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:l,storageKey:null},Kh={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},Lh={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},Mh={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},Nh=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],Oh={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:Nh,storageKey:null},Ph={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:d,storageKey:null},Qh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},Rh={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null};hc={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:hc,storageKey:null};var Sh={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Th={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},Uh={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},Vh={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Wh={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Xh={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Yh={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:d,storageKey:null},Zh={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},$h={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:d,storageKey:null},ai=[na],bi={alias:"last_read_receipt",args:ma,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:ai,storageKey:null}],storageKey:"read_receipts(last:1)"},ci={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},di={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},gi={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,di,ei,{alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},fi],storageKey:null}],storageKey:null},hi={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,lb],storageKey:null}],storageKey:null};di={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,di,ei,{alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},fi],storageKey:null}],storageKey:null};ei={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null};fi={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null};Q={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[Q,Yd],storageKey:null}],storageKey:null};Yd={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null};var ii={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},ji={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},ki={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},li={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},mi={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},ni={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},oi={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},pi={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},qi={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},ri={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[qi],storageKey:null}],type:"User",abstractKey:null},si={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},ti={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},si],storageKey:null},ui={alias:null,args:null,kind:"ScalarField",name:"eligible_profile_selling_invoice_actions",storageKey:null},vi={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},wi={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},xi={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},yi={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},zi={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:gd,storageKey:null},Ai={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:[W],storageKey:null},Bi={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},Ci={kind:"InlineFragment",selections:[b,Ce],type:"Page",abstractKey:null},Di={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},Ei={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Fi={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},Gi={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Ii={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null};yh={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[yh,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null};var Ki={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Li={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Mi={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ni={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Oi={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Pi={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Qi=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Pi],Ri={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Qi,storageKey:null},Si={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Ti={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:"profile_picture(height:20,width:20)"}],storageKey:null},Ui={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},Vi={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null},Xi={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Yi={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,j,g,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[ih,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},fc],storageKey:null},Zi={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},$i={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null},aj={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},bj={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},cj={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},dj={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},ej={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},fj={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},gj={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},hj={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[X,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},c],storageKey:null},ij={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},jj={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[ij,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null}],storageKey:null},kj={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},lj={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,b,Ig],storageKey:null}],storageKey:null},mj={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},nj={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},oj={kind:"InlineFragment",selections:d,type:"Profile",abstractKey:"__isProfile"},pj={kind:"InlineFragment",selections:d,type:"MessengerViewerGroupThread",abstractKey:null};ka={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[ka],storageKey:null}],type:"MessageThread",abstractKey:null};var qj={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},rj={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[A,U,g,xg],storageKey:null};si={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},b,si,y,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};var sj={kind:"InlineFragment",selections:[nj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[A,U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[D,oj,pj,ka],storageKey:null},qj],storageKey:null}],storageKey:null},rj,Lb,J,Ug,si],type:"UserMessage",abstractKey:null},tj={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null},uj={kind:"InlineFragment",selections:[tj,c],type:"VoiceCallMessage",abstractKey:null};V=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:V,storageKey:null}];var vj={kind:"InlineFragment",selections:[tj,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[W,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},wj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},c],type:"ThreadNameMessage",abstractKey:null};dg={alias:"preview",args:dg,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:"image(height:280,width:280)"};var xj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[dg,pa,ac],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null},yj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:d,storageKey:null},c],type:"ParticipantsAddedMessage",abstractKey:null},zj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:d,storageKey:null},c],type:"ParticipantLeftMessage",abstractKey:null},Aj={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};Aj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,e,Aj,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,e,Aj,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:Nh,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};Nh={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,Je,Ie,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},Rh,Qh,Xh,Wh,Ph,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:d,storageKey:null},hc,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},Zh],storageKey:null};T=[Nh];var Bj={kind:"InlineFragment",selections:T,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},Cj={kind:"InlineFragment",selections:T,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},Dj={kind:"InlineFragment",selections:T,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},Ej={kind:"InlineFragment",selections:T,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Fj={kind:"InlineFragment",selections:T,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Gj={kind:"InlineFragment",selections:T,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Hj={kind:"InlineFragment",selections:T,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};T={kind:"InlineFragment",selections:T,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};Nh={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},Nh],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};var Ij={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Jj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};zh={kind:"InlineFragment",selections:[zh,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};var Kj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Lj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Mj={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Nj={kind:"InlineFragment",selections:[Mj,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},fi],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Oj={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},Pj={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Qj={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Rj={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Sj={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Tj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Uj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Vj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},Wj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Xj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Yj={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Zj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Vj,Wj,Xj,Yj],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},$j={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},h,L,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},lh,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},ak={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"submitted_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_conversation_instance_id",storageKey:null}],type:"BizInboxFormBuilderSubmitNotifyAdminText",abstractKey:null},bk={kind:"InlineFragment",selections:[ed,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"customer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rating_feedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeform_feedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"instance_id",storageKey:null}],type:"BizInboxCSATSurveyCustomerSubmitNotifyAdminText",abstractKey:null},dk={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},ek={kind:"InlineFragment",selections:[ed,dk,Qj,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},fk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},gk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};fc={kind:"InlineFragment",selections:[fc],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};dk={kind:"InlineFragment",selections:[dk,Qj,X,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var hk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},ik={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},jk={kind:"InlineFragment",selections:[ik],type:"MessengerAdContextAdminText",abstractKey:null},kk={kind:"InlineFragment",selections:[dj,$f,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},lk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},mk=[y],nk={kind:"InlineFragment",selections:mk,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},ok={kind:"InlineFragment",selections:mk,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};mk={kind:"InlineFragment",selections:mk,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var pk={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},qk={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},rk={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},sk={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},tk={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},uk={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},vk={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};Vj={kind:"InlineFragment",selections:[Vj,Wj,Xj,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Yj],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};Wj={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Xj={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null};Yj=[y,Wj,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Xj,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];var wk={kind:"InlineFragment",selections:Yj,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Yj={kind:"InlineFragment",selections:Yj,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};Wj={kind:"InlineFragment",selections:[y,Wj,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null};var xk={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};ik={kind:"InlineFragment",selections:[ik,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var yk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},zk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},Ak={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},Bk={kind:"InlineFragment",selections:[Ak,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};Ak={kind:"InlineFragment",selections:[Ak,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var Ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},Dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},Ek={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null};Tg={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[D,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,T,Nh,Ij,Jj,zh,Kj,Lj,Nj,{kind:"InlineFragment",selections:[ya,If,Oj,Pj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Qj,lh,Tg,Rj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Sj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Tj,Uj,Zj,$j,ak,bk,ck,ek,fk,gk,fc,dk,hk,jk,kk,lk,nk,ok,mk,{kind:"InlineFragment",selections:[pk,qk,rk,Mj,sk,tk,uk,vk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[W,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Vj,wk,Yj,Wj,xk,ik,yk,zk,Bk,Ak,Ck,Dk,Ek],storageKey:null},x,c],type:"GenericAdminTextMessage",abstractKey:null};V=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:Ab,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:d,storageKey:null},c];Ab={kind:"InlineFragment",selections:V,type:"P2PPaymentRequestMessage",abstractKey:null};V={kind:"InlineFragment",selections:V,type:"P2PPaymentMessage",abstractKey:null};jj=[Yi,D,X,Zi,$i,aj,na,bj,cj,$f,dj,oa,ej,fj,C,gj,hj,jj,kj,lj,mj,M,sj,uj,vj,wj,xj,yj,zj,Tg,Ab,V,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[Pc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Yi,D,X,Zi,$i,aj,na,bj,cj,$f,dj,oa,ej,fj,C,gj,hj,jj,kj,lj,mj,M,sj,uj,vj,wj,xj,yj,zj,Tg,Ab,V],storageKey:null}],storageKey:null}];lj={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null};sj={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null};vj={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null};xj={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null};Tg={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null};gd={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:gd,storageKey:null};var Fk={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},Gk={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},Hk={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},Ik={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},Jk={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null};qi={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[qi,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Xj,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Pi,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},yf,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null};Xj={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Qi,storageKey:null};Pi={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null};Qi={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};l={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:"profile_picture(height:60,width:60)"};var Kk={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Lk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Mk={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Nk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Ok={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Pk={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Qk={alias:null,args:null,kind:"ScalarField",name:"company_title",storageKey:null};md={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:md,storageKey:null},Vg],storageKey:null};var Rk={kind:"InlineFragment",selections:[Qi,n,l,ob,Lk,Mk,Y,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Sk={kind:"InlineFragment",selections:[n,l,Kk,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Mk,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Y,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Tk=[n,l,Y],Uk={kind:"InlineFragment",selections:Tk,type:"SmsMessagingParticipant",abstractKey:null},Vk={kind:"InlineFragment",selections:[l,Y],type:"InstagramMessagingUser",abstractKey:null},Z=[l],Wk={kind:"InlineFragment",selections:Z,type:"LiveChatOnlyPerson",abstractKey:null};Tk={kind:"InlineFragment",selections:Tk,type:"UnavailableMessagingActor",abstractKey:null};var Xk={kind:"InlineFragment",selections:Z,type:"UnifiedMessagingInstagramUser",abstractKey:null},Yk={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},Zk=[n,l,Kk],$k={kind:"InlineFragment",selections:Zk,type:"Group",abstractKey:null};Zk={kind:"InlineFragment",selections:Zk,type:"Event",abstractKey:null};j={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},j,g],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"};g=[n,l,ob,Y];var al={kind:"InlineFragment",selections:g,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"};g={kind:"InlineFragment",selections:g,type:"XFBWorkroomsSystemUser",abstractKey:null};var bl={kind:"InlineFragment",selections:Z,type:"MessengerCallGuestUser",abstractKey:null},cl={kind:"InlineFragment",selections:Z,type:"WorkVCEndpointUser",abstractKey:null},dl={kind:"InlineFragment",selections:Z,type:"WECMailboxAccount",abstractKey:null};Z={kind:"InlineFragment",selections:Z,type:"WECCustomer",abstractKey:null};var el={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},fl={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null};hd={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:hd,storageKey:null};var gl=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],hl={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null},il={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},jl={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null};ai={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:ai,storageKey:null}],storageKey:null}]};var $=[D,a],kl={kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},ll={kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},ml={kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},nl={kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null};ta={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[D,ta,ua,wa,s,xa,t,N,kl,ll,ml,nl],storageKey:null};ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[D,h,n],storageKey:null};wa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[D,a,{kind:"InlineFragment",selections:[Ja,v,w,Ka],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};s={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[D,Va,z],storageKey:null};Ja={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[Ha,Ia,wa,La,Ma,a,Na,Oa,Pa,Qa,Ra,Sa,y,s,Wa,ra],storageKey:null};v=[D,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},u,fb,gb,h,Ta,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[D,cb,eb,db,jb,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];w={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:v,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[D,kb,I,mb,K],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:v,storageKey:null},lb,nb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:v,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};Va={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[D,a,b,F,pb],storageKey:null};z=[wb,a];Wa={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:z,storageKey:null},yb,a],storageKey:null};ra={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,L,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:z,storageKey:null},n,a],storageKey:null};u=[D,b,a,F,pb];fb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:u,storageKey:null};gb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:u,storageKey:null};Ta={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[eb,Va,rb,sb,cb,tb,ub,vb,Wa,Bb,Cb,Db,ra,a,Eb,Fb,Gb,w],storageKey:null};jb=[Ha,Ia,wa,La,Ma,a,Na,Oa,Pa,Qa,Ra,Sa,y,s];kb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:jb,storageKey:null};I={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:jb,storageKey:null};mb=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,L,Pb,Ka,Qb,b,Rb,Sb,I,kb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[D,Ub,Tb,Xb,$b,bc,N,kl,ll,ml,nl],storageKey:null}],storageKey:null}];K=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[D,a,b],storageKey:null},a];nb={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[D,va,a],storageKey:null};v={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,vd,wd,xd,yd,Pb,Qb,zd,Ad,kb],storageKey:null}],storageKey:null};yb=[b,a];pb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[D,xa,Mg,N,kl,ll,ml,nl],storageKey:null};u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[D,wb,N,kl,ll,ml,nl],storageKey:null};Ha={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:z,storageKey:null};Ia={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[Ha],storageKey:null};wa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$,storageKey:null};La={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[D,a,Ya,{kind:"InlineFragment",selections:[E,t,Za,$a,ab,bb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[cb,eb,db,w],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[eb,Va,rb,sb,cb,tb,ub,vb,Wa,Bb,Cb,Db,ra,Eb,Fb,Gb,w],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[zb,Hb,fb,gb,Jb,Kb,Gb,Ta,Mb,Db,Nb,Eb,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[zb,Hb,fb,gb,Jb,Kb,a,Gb,Ta,Mb,Db,Nb,Eb,w],storageKey:null},w],type:"PeerToPeerPaymentRequest",abstractKey:null},w,{kind:"InlineFragment",selections:[Ob,kb,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:mb,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[Ob,kb,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:mb,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},cc,ec,ic,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[jc,kc,lc,mc,nc,oc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[D,qc,pc,N],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[rc,c,sc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[uc,vc,wc,xc,yc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[D,a,{kind:"InlineFragment",selections:[zc,Ac,Bc,tc,Cc,Ec,Gc,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,L,Hc,Ic,{alias:null,args:Jc,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[Kc,a],storageKey:"images(first:1)"},Lc],storageKey:null}],storageKey:null},Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,xc,yc,Xc],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[Yc,Zc,Fc,$c],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[ad,bd,cd,dd,ed,fd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[qa,i,ta,za,Aa,Ba,Ca,Da,Ea,ua,Ga,Ja,Xa],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[id,jd,kd,ld,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[D,b,N],storageKey:null},nd,od,pd,qd,rd,b,sd],type:"Event",abstractKey:null},td,ud,{kind:"InlineFragment",selections:[b,vd,wd,xd,yd,Pb,Qb,zd,Ad,I,kb],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[vd,Bd,Cd,Sb,wd,Dd,Ed,Fd,Gd,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[Hd,Id,Jd,Kd,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[Md,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Zd,Pc,$d,ae,be,ce,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:mb,storageKey:null},de,ee,fe,ge],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[he,ie,je,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[ke,b,le,L,ib,me,ne,a],storageKey:null},hb,oe,pe,m,qe,re,H,se,te,ue,ve,we,xe],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[ye,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$,storageKey:null},ze,Ae,nb,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[ze,nb],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Ce,De,r,Ee,b,Fe,Ge],type:"Page",abstractKey:null},Le,{kind:"InlineFragment",selections:[Me,{alias:null,args:Ne,concreteType:"MPersonalRemindersListToPersonalRemindersConnection",kind:"LinkedField",name:"personal_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MPersonalRemindersListToPersonalRemindersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"node",plural:!1,selections:[He,Ie,Je,a],storageKey:null}],storageKey:null}],storageKey:'personal_reminders(orderby:"m_personal_reminder_list_ordering")'}],type:"MPersonalRemindersList",abstractKey:null},{kind:"InlineFragment",selections:[Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,af,{alias:null,args:null,concreteType:"AirlineBoardingPassesConnection",kind:"LinkedField",name:"boarding_passes",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineBoardingPassMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[bf,cf,df,ef,ff,gf,hf,lf,tf,a],storageKey:null}],storageKey:null}],type:"AirlineBoardingPassCollectionMessageAttachment",abstractKey:null},qf,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,yf,zf,Af,Xd,gc,v,Df,Ef],storageKey:null},Ff,Gf,R,Hf,de],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[yf,zf,Af,Xd,gc,v,Wd,Cf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[Qd,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:yb,storageKey:null},de],type:"MessengerRetailShipment",abstractKey:null},rf,{kind:"InlineFragment",selections:[of,uf,Oe,mf,qb,Kf,Lf,Mf,Jf,Nf,wf,Of,vf,Pf,xf,Qf,Rf,Qe,Ve,Sf,Tf,Uf,Te,Ue,Vf,Wf,Xf,Yf,{alias:null,args:null,concreteType:"AirlineItineraryLegsConnection",kind:"LinkedField",name:"itinerary_legs",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItineraryLeg",kind:"LinkedField",name:"nodes",plural:!0,selections:[Zf,{alias:null,args:null,concreteType:"AirlineItinerarySegmentsConnection",kind:"LinkedField",name:"segments",plural:!1,selections:[{alias:null,args:null,concreteType:"AirlineItinerarySegmentMessageAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[nf,jf,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"AirlineItineraryMessageAttachment",abstractKey:null},{kind:"InlineFragment",selections:[S,kf,b,pf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[sf],type:"UserLeadGenInfo",abstractKey:null},G,{kind:"InlineFragment",selections:[b,Ld,k,$a,ab],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[t,Za,$a,ab,E,o,dc,p],type:"WECMessageVideo",abstractKey:null},ag,{kind:"InlineFragment",selections:[$a,eg,hg],type:"WECMessageImage",abstractKey:null},ig,{kind:"InlineFragment",selections:[jg,kg,lg,mg,ng,og,pg],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[qg],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[D,ob,a],storageKey:null}],storageKey:null},sg],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[sg],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[sg,tg,ug],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[vg,{alias:null,args:null,concreteType:"ComposedBlockWithEntities",kind:"LinkedField",name:"message_richtext",plural:!0,selections:[wg,xg,yg,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[D,N],storageKey:null},A,U],storageKey:null},zg,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Ag,Bg,Cg,{alias:null,args:Eg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[Fg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},Gg,Mb,Hg,Lg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[D,b,Ig,Kg,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[Aa,n,za,qa,pb,Ng,{alias:null,args:Dg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[W,{alias:"files",args:Og,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ng,u],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Qg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[u],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Rg,Sg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[pb],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[b,F,Ia,Wg,Xg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,Yg,f,Zg,Ia,wa,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[ah,bh,ch,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[dh,b,eh,fh,a],storageKey:null},gh,hh,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,lb,Ua,ih,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[F,b,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[I],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[jh],type:"ApplicationReferralXMA",abstractKey:null},kh,mh,{kind:"InlineFragment",selections:[nh],type:"XFBP2MXMA",abstractKey:null},oh],storageKey:null};Ma={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[qa,i,ta,za,Aa,Ba,Ca,Da,Ea,ua,Ga,Ja,Xa,La,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[qa,i,ta,za,Aa,Ba,Ca,Da,Ea,ua,Ga,Ja,Xa,La],storageKey:null}],storageKey:null};Na={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[pa,Ma,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[D,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[D,b,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},Ma],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null};Oa=[D,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},Be,Ke,rg,$b,Pg,N];Pa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:Oa,storageKey:null};Qa={kind:"TypeDiscriminator",abstractKey:"__isMessage"};Ra={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[ij,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$,storageKey:null}],storageKey:null};Sa={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[D,a,b,Ig],storageKey:null},a],storageKey:null};y={kind:"InlineFragment",selections:[nj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[A,U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[D,oj,pj,ka,N],storageKey:null},qj],storageKey:null}],storageKey:null},rj,Na,J,Pa,si],type:"UserMessage",abstractKey:null};s=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:Oa,storageKey:null}];jb={kind:"InlineFragment",selections:[tj,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[W,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:s,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};Ka={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[dg,pa,ac,a],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null};Rb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[D,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,T,Nh,Ij,Jj,zh,Kj,Lj,Nj,{kind:"InlineFragment",selections:[ya,If,Oj,Pj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[D,{kind:"InlineFragment",selections:[Qj,lh,Ha,Rj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Sj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Tj,Uj,Zj,$j,ak,bk,ck,ek,fk,gk,fc,dk,hk,jk,kk,lk,nk,ok,mk,{kind:"InlineFragment",selections:[pk,qk,rk,Mj,sk,tk,uk,vk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[W,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:s,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Vj,wk,Yj,Wj,xk,ik,yk,zk,Bk,Ak,Ck,Dk,Ek],storageKey:null},x,c],type:"GenericAdminTextMessage",abstractKey:null};Ub=[D,Qa,Yi,X,Zi,$i,aj,na,bj,cj,$f,dj,oa,ej,fj,C,gj,hj,Ra,kj,Sa,mj,M,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[Pc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[D,Qa,Yi,X,Zi,$i,aj,na,bj,cj,$f,dj,oa,ej,fj,C,gj,hj,Ra,kj,Sa,mj,M,a,y,uj,jb,wj,Ka,yj,zj,Rb,Ab,V],storageKey:null}],storageKey:null},a,y,uj,jb,wj,Ka,yj,zj,Rb,Ab,V];Tb={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:yb,storageKey:null},Vg],storageKey:null};Xb={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:K,storageKey:null};return{fragment:{argumentDefinitions:[aa,ba,ca,da,ea,fa,ga,ha,ia],kind:"Fragment",metadata:null,name:"MessengerThreadsQuery",selections:[{alias:null,args:ja,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[a,la,b,{alias:"last_message",args:ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:d,storageKey:null}],storageKey:null},na,oa,{kind:"InlineFragment",selections:[Lb,J,Ug],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Fa],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},C,M],storageKey:null}],storageKey:"messages(last:1)"},Ib,{alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[sa,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[bg,cg],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},fg,B,gg,q,Bf,wb,O,Wb,Vb,Yb,Zb,P,Dc,ph,qh,rh,sh,th,uh,vh,wh,{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[xh,Ah,Bh],storageKey:null},{alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,Ch,Dh,Eh,Fh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gh,Hh,Ih,Jh],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:d,storageKey:null},Kh,Lh,Mh,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[Oh],storageKey:null},{alias:null,args:Jc,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ph,Je,Qh,Rh,hc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Sh],storageKey:null},Th,Uh,Vh,Ie,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[X],storageKey:null},Wh,Xh,Yh,Zh],storageKey:null}],storageKey:"event_reminders(first:1)"},$h,bi,{alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[ci,Yc,gi,hi,di],storageKey:null},{alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[ei,fi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,sc,Ae,ze,Q,Yd,ii,ji,ki,li,mi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:xb,storageKey:null},ni,oi],storageKey:null},pi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a,ri],storageKey:null},ti,ui],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[vi,a,b,F,$g,wi,xi,yi,zi,Ai,Bi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[vi,a,b,F,wi,xi,yi,sd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[Ci],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null},xi,Di,Ei,Fi,Gi,Hi,Ii,Ji,yh,{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Ki,Li,Mi,Ni,Oi,Ri,Si,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ti],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:xb,storageKey:null},A,U],storageKey:null},zg,e],storageKey:null},Ui],storageKey:null},Vi,Wi,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:Jg,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[X,Xi,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:jj,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Yg,lj,F,Ai,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[sj],storageKey:null}],storageKey:null}],storageKey:null},{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:jj,storageKey:null}]},L,vj,xj,{alias:null,args:Jc,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Tg,gd,{alias:null,args:Jc,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Fk,Gk],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Hk,Ik,Jk,qi,Xj,{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Pi,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,D,b,{kind:"InlineFragment",selections:[Qi,n,l,ob,Kk,Lk,Mk,Y,Nk,Ok,Pk,{alias:null,args:null,concreteType:"ScimCompanyUser",kind:"LinkedField",name:"scim_company_user",plural:!1,selections:[Qk],storageKey:null},md],type:"User",abstractKey:null},Rk,Sk,Uk,Vk,Wk,Tk,Xk,{kind:"InlineFragment",selections:[n,l,Kk,Yk,Y,md],type:"ReducedMessagingActor",abstractKey:null},$k,Zk,j,al,g,bl,cl,dl,Z,{kind:"InlineFragment",selections:[l,el,fl,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[hd,W],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[hd],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:gl,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[hl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:jj,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[il,jl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null}]},ai],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ba,ga,aa,ea,fa,da,ca,ia,ha],kind:"Operation",name:"MessengerThreadsQuery",selections:[{alias:null,args:ja,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[a,la,b,{alias:"last_message",args:ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[D,c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$,storageKey:null},a],storageKey:null},na,oa,C,M,a,{kind:"InlineFragment",selections:[Na,J,Pa],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[D,Fa],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"},Ib,{alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[sa,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[bg,cg,a],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null},fg,B,q,Bf,wb,O,Wb,Vb,Yb,Zb,P,Dc,ph,qh,rh,sh,th,uh,vh,wh,{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[xh,Ah,Bh,a],storageKey:null},{alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,Ch,Dh,Eh,Fh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gh,Hh,Ih,Jh,a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$,storageKey:null},Kh,Lh,Mh,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[D,Oh,a],storageKey:null},{alias:null,args:Jc,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ph,Je,Qh,Rh,hc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Sh,a],storageKey:null},Th,Uh,Vh,Ie,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[X,a],storageKey:null},Wh,Xh,Yh,Zh],storageKey:null}],storageKey:"event_reminders(first:1)"},$h,bi,{alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[ci,Yc,gi,hi,di,a],storageKey:null},{alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[ei,fi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,sc,Ae,ze,Q,Yd,ii,ji,ki,li,mi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[D,wb,a],storageKey:null},ni,oi],storageKey:null},pi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[D,a,ri],storageKey:null},ti,ui],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[D,a,{kind:"InlineFragment",selections:[vi,b,F,wa,wi,xi,yi,zi,Ai,Bi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[vi,b,F,wi,xi,yi,sd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[D,Ci,N],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null},xi,Di,Ei,Fi,Gi,Hi,Ii,Ji,yh,{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Ki,Li,Mi,Ni,Oi,Ri,Si,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ti,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[D,wb,N,{kind:"InlineFragment",selections:d,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},A,U],storageKey:null},zg,e],storageKey:null},Ui],storageKey:null},Vi,Wi,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[X,Xi,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:Ub,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Yg,lj,F,Ai,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[sj,a],storageKey:null}],storageKey:null}],storageKey:null},L,vj,xj,{alias:null,args:Jc,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Tg,gd,{alias:null,args:Jc,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Fk,Gk,a],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Hk,Ik,Jk,qi,Xj,{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Pi,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[D,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},a,b,{kind:"InlineFragment",selections:[Qi,n,l,ob,Kk,Lk,Mk,Y,Nk,Ok,Pk,{alias:null,args:null,concreteType:"ScimCompanyUser",kind:"LinkedField",name:"scim_company_user",plural:!1,selections:[Qk,a],storageKey:null},Tb],type:"User",abstractKey:null},Rk,Sk,Uk,Vk,Wk,Tk,Xk,{kind:"InlineFragment",selections:[n,l,Kk,Yk,Y,Tb],type:"ReducedMessagingActor",abstractKey:null},$k,Zk,j,al,g,bl,cl,dl,Z,{kind:"InlineFragment",selections:[l,el,fl,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Xb,W],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Xb],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null},gg,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:Ub,storageKey:null}]},{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:gl,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[hl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:Ub,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[il,jl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null}]},ai],storageKey:null}]},params:{id:"7095844110446047",metadata:{},name:"MessengerThreadsQuery",operationKind:"query",text:null}}}();ba("relay-runtime").PreloadableQueryRegistry.set(aa.params.id,aa);ea.exports=aa}),null);
__d("useZenonOverflowMenuActionsLogger",["ZenonCallsHooks","ZenonLoggingContext","killswitch","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=c("requireDeferred")("RtcWebOverflowMenuActionsFalcoEvent").__setRef("useZenonOverflowMenuActionsLogger");function a(){var a=j(c("ZenonLoggingContext")),b=a.peerID,d=a.roomID,e=c("ZenonCallsHooks").useServerInfoData(),f=c("ZenonCallsHooks").useCallParticipantsIDs().length;return i(function(a){if(c("killswitch")("RTC_WWW_NAVLINK_OVERFLOW_LOGGING"))return;c("promiseDone")(k.load().then(function(c){c.log(function(){return babelHelpers["extends"]({call_size:""+f,conference_name:d,peer_id:b,server_info_data:e},a)})}))},[f,b,d,e])}g["default"]=a}),98);
__d("useZenonCoExperienceActionItemsHelper",["CometRelay","useZenonCoExperienceActionItemsHelper_actionItem.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useZenonCoExperienceActionItemsHelper_actionItem.graphql"),a);var c=d("CometRelay").ModuleResource.read(a);return{actionItem:a,hook:c,integration_boundary_name:a.integration_boundary_name,typename:a.__typename}}g["default"]=a}),98);
__d("useZenonRoomName",["fbt","$InternalEnum","GraphQLGender","RelayHooks","ZenonActorHooks","intlList","react","useZenonRoomName_app.graphql","useZenonRoomName_link.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||d("react")).useMemo,m=i!==void 0?i:i=b("useZenonRoomName_link.graphql"),n=j!==void 0?j:j=b("useZenonRoomName_app.graphql"),o=b("$InternalEnum").Mirrored(["DerivedFromLinkOwnerName","DerivedFromNamedDoor","DerivedFromThreadParticipants","MissingDoor","LinkWithoutOwnerName","ThreadWithoutOtherParticipants","ThreadWithParticipantsThatFailedToLoad","OtherFailure"]);function a(a){a=d("RelayHooks").useFragment(n,a);var b=a.door,c=d("RelayHooks").useFragment(m,(b==null?void 0:b.id)!=null?b:null);a=d("ZenonActorHooks").useZenonActor();var e=a[0];return l(function(){if(b==null)return[null,o.MissingDoor];if((c==null?void 0:c.name)!=null&&(c==null?void 0:c.name.length)>0)return[c.name,o.DerivedFromNamedDoor];if(b.thread_name!=null&&b.thread_name!=="")return[b.thread_name,o.DerivedFromNamedDoor];if((c==null?void 0:c.link_owner)!=null)return p({actorID:e,linkOwner:c.link_owner});return b.all_participants!=null&&b.first_four_participants!=null?q({actorID:e,allParticipants:b.all_participants,firstFourParticipants:b.first_four_participants}):[null,o.OtherFailure]},[e,b,c])}function p(a){var b=a.actorID;a=a.linkOwner;if(a.id===b)return[h._("__JHASH__YvUSKI4SAX1__JHASH__"),o.DerivedFromLinkOwnerName];else{b=(b=a.short_name)!=null?b:a.name;if(b==null)return[null,o.LinkWithoutOwnerName];else return[h._("__JHASH__-jHJ6FRrQRR__JHASH__",[h._name("name of user who created the Messenger Room",b,new(c("GraphQLGender"))(a.gender).toIntlVariationsEnum())]),o.DerivedFromLinkOwnerName]}}function q(a){var b=a.actorID,d=a.allParticipants;a=a.firstFourParticipants;d=d.count-1;if(d===1){var e;e=(e=a.nodes.find(function(a){return a.id!==b}))==null?void 0:e.messaging_actor.name;if(e!=null)return[e,o.DerivedFromThreadParticipants]}e=a.nodes.filter(function(a){return a.id!==b}).slice(0,3).map(function(a){var b;a=a.messaging_actor;return h._("__JHASH__jP0ccGzkFia__JHASH__",[h._name("name of participant",(b=a.short_name)!=null?b:a.name,new(c("GraphQLGender"))(a.gender).toIntlVariationsEnum())])});if(d===0)return[null,o.ThreadWithoutOtherParticipants];else if(e.length===0)return[null,o.ThreadWithParticipantsThatFailedToLoad];else if(e.length<d){a=d-e.length;return[c("intlList")([].concat(e,[h._("__JHASH__JJ5QyJyPw0q__JHASH__",[h._plural(a,"number of additional participants",a)])]),c("intlList").CONJUNCTIONS.NONE),o.DerivedFromThreadParticipants]}else return[c("intlList")(e,c("intlList").CONJUNCTIONS.NONE),o.DerivedFromThreadParticipants]}a.Result=o;g["default"]=a}),98);
__d("MessengerSharedMediaActionsLoader",["JSResource"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("JSResource").loadAll([c("JSResource")("MessengerSharedMediaActions").__setRef("MessengerSharedMediaActionsLoader")],function(c){c.deletePhotos(a,b)})}g.deletePhotos=a}),98);
__d("CallbackManagerController",["ErrorGuard"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$2=[],this.$1=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=Boolean(c)?c:{};var d=this.$4(b,a,c);if(d)return 0;this.$1.push({fn:b,request:a,options:c});d=this.$1.length-1;this.$2.push(d);return d};c.unsubscribe=function(a){delete this.$1[a]};c.reset=function(){this.$1=[]};c.getRequest=function(a){return this.$1[a]};c.runPossibleCallbacks=function(a){var b=this,c=this.$2;this.$2=[];var d=[];c.forEach(function(c){var e=b.$1[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$2.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$1[a];if(!d)return;delete b.$1[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();f["default"]=a}),66);
__d("KeyedCallbackManager",["CallbackManagerController","FBLogger"],(function(a,b,c,d,e,f){a=function(){function a(){this.$2={},this.$1=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("FBLogger")("KeyedCallbackManager").mustfix("KeyedCallbackManager.executeOrEnqueue: key %s is invalid",JSON.stringify(a));return c});return this.$1.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.reset=function(){this.$1.reset(),this.$2={}};c.getUnavailableResources=function(a){var b=this;a=this.$1.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$2[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){var b=this;a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!b.$2[a]})};c.addResourcesAndExecute=function(a){Object.assign(this.$2,a),this.$1.runPossibleCallbacks()};c.setResource=function(a,b){this.$2[a]=b,this.$1.runPossibleCallbacks()};c.getResource=function(a){return this.$2[a]};c.getAllResources=function(){return this.$2};c.dumpResources=function(){var a=this,b={};Object.keys(this.$2).forEach(function(c){var d=a.$2[c];typeof d==="object"&&(d=babelHelpers["extends"]({},d));b[c]=d});return b};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$2[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();f["default"]=a}),66);
__d("MercuryMessageIDs.bs",["KeyedCallbackManager","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("KeyedCallbackManager"))();function a(a,b){var d=a.filter(function(a){return a.indexOf("id")===-1}),e=function(d){return c("bs_curry")._1(b,a.map(function(a){var b=d[a];if(b!==void 0)return b;else return a}))};return h.executeOrEnqueue(d,e)}function b(a,b){h.setResource(a,b)}g.getServerIDs=a;g.addServerID=b}),98);
__d("MessengerAttachmentTransformerForSend.bs",["MessengerAttachmentTransformer.bs","MessengerMessageTransformer.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,e){b=b.node;if(b==null)return{attach_type:"error"};if(b.__typename==="ExtensibleMessageAttachment"){var f=b.story_attachment,g=b.genie_attachment,h;if(g==null)h=null;else{g=g.genie_message;var i;if(g==null)i=null;else{g=g.story_attachment;i={story_attachment:g==null?null:d("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(g)}}h={genie_message:i}}g={genie_attachment:h,legacy_attachment_id:b.legacy_attachment_id,story_attachment:f==null?null:d("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(f)}}else g=null;i=b.__typename==="Sticker"?b:null;h=b.__typename;var j;switch(h){case"MessageAnimatedImage":case"MessageAudio":case"MessageFile":case"MessageImage":case"MessageVideo":j=[b];break;default:j=null}f=d("MessengerMessageTransformer.bs").unsafeCastBlobAttachments({blob_attachments:j});h=d("MessengerAttachmentTransformer.bs").transformAttachment(a,{blob_attachments:f,extensible_attachment:g,sticker:i},c,e);if(h.length!==0)return h[0];else return{}}function a(a,b,c,d){return b.map(function(b){return h(a,b,c,d)})}g._transform=h;g.transform=a}),98);
__d("MessengerFolders.bs",["MercuryFoldersConfig","MessengerEnvironment","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";d=c("qex")._("1997")===!0&&c("MessengerEnvironment").messengerdotcom?["inbox","pending","other","action:archived","marketplace_folder"]:["inbox","pending","other","action:archived"];var h=d.filter(function(a){if(a==="pending")return!c("MercuryFoldersConfig").hide_message_filtered;else if(a==="other")return!c("MercuryFoldersConfig").hide_message_requests;else return!0});function a(a){return[].concat(h)}function b(a){if(a.is_archived)return"action:archived";var b=a.thread_type;if(!(b==null)&&b===5&&c("gkx")("965951"))return"marketplace_folder";else return a.folder}g.getSupportedFolders=a;g.getFromMeta=b}),98);
__d("MessengerThreadFetchLoggerUtil",["FBLogger","MercuryIDs","QuickPerformanceLogger","performanceAbsoluteNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1,k=new Map();a=function(a){try{(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(25296904,"8295"),j);a=d("MercuryIDs").isValid(a)?d("MercuryIDs").tokenize(a).value:a;k.set(a,j);j++}catch(a){c("FBLogger")("mercury").catching(a).warn("Logging thread info fetch encountered error")}};b=function(a,b){try{a=d("MercuryIDs").isValid(a)?d("MercuryIDs").tokenize(a).value:a;var e=k.get(a);e!=null&&((h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(25296904,"8295"),b,e),k["delete"](a))}catch(a){c("FBLogger")("mercury").catching(a).warn("Logging thread info fetch encountered error")}};e=function(a,b,d){d===void 0&&(d=(i||(i=c("performanceAbsoluteNow")))());a=k.get(a);a!=null&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(25296904,"8295"),b,{instanceKey:a,timestamp:d})};g.markerStart=a;g.markerEnd=b;g.markerPoint=e}),98);
__d("bs_caml_external_polyfill",[],(function(a,b,c,d,e,f){"use strict";var g=function(){if(typeof globalThis!=="undefined")return globalThis;if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof a!=="undefined")return a;if(typeof this!=="undefined")return this;throw new Error("Unable to locate global `this`")};b=function(a){var b=g();if(b[a]===void 0)throw new Error(a+" not polyfilled by ReScript yet\n");return b[a]};c=function(a,b){var c=g();c[a]=b;return 0};f.getGlobalThis=g;f.resolve=b;f.register=c}),null);
__d("bs_caml_io",[],(function(a,b,c,d,e,f){"use strict";var g={buffer:"",output:function(a,b){a=b.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write)return process.stdout.write(b);else{b[a]==="\n";return}}},h={buffer:"",output:function(a,b){a=b.length-1|0;b[a]==="\n"}};function i(a){if(a.buffer!==""){a.output(a,a.buffer);a.buffer="";return}}function j(a,b,c,d){b=c===0&&d===b.length?b:b.slice(c,d);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&a===g)return process.stdout.write(b);c=b.lastIndexOf("\n");c<0?a.buffer=a.buffer+b:(a.buffer=a.buffer+b.slice(0,c+1|0),i(a),a.buffer=a.buffer+b.slice(c+1|0))}function a(a,b){return j(a,String.fromCharCode(b),0,1)}function b(a){return{hd:g,tl:{hd:h,tl:0}}}var k;f.stdin=k;f.stdout=g;f.stderr=h;f.caml_ml_flush=i;f.caml_ml_output=j;f.caml_ml_output_char=a;f.caml_ml_out_channels_list=b}),null);
__d("bs_caml_sys",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof process==="undefined"||process.env===void 0)throw{RE_EXN_ID:"Not_found",Error:new Error()};a=process.env[a];if(a!==void 0)return a;throw{RE_EXN_ID:"Not_found",Error:new Error()}}var g=function(a){if(typeof process!=="undefined"&&process.platform==="win32")return"Win32";else return"Unix"};function b(a){if(typeof process==="undefined"||process.uptime===void 0)return-1;else return process.uptime()}function c(a){return 127}var h=function(a){return typeof process==="undefined"||process.cwd===void 0?"/":process.cwd()};function d(a){if(typeof process==="undefined")return["",[""]];a=process.argv;if(a==null)return["",[""]];else return[a[0],a]}function e(a){if(typeof process!=="undefined")return process.exit(a)}function i(a){throw{RE_EXN_ID:"Failure",_1:"caml_sys_is_directory not implemented",Error:new Error()}}function j(a){throw{RE_EXN_ID:"Failure",_1:"caml_sys_file_exists not implemented",Error:new Error()}}f.caml_sys_getenv=a;f.caml_sys_time=b;f.os_type=g;f.caml_sys_system_command=c;f.caml_sys_getcwd=h;f.caml_sys_get_argv=d;f.caml_sys_exit=e;f.caml_sys_is_directory=i;f.caml_sys_file_exists=j}),null);
__d("bs_pervasives",["bs_caml_bytes","bs_caml_exceptions","bs_caml_external_polyfill","bs_caml_format","bs_caml_io","bs_caml_js_exceptions","bs_caml_string","bs_caml_sys","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){throw{RE_EXN_ID:"Failure",_1:a,Error:new Error()}}function c(a){throw{RE_EXN_ID:"Invalid_argument",_1:a,Error:new Error()}}var h=b("bs_caml_exceptions").create("Pervasives.Exit");function d(a){if(a>=0)return a;else return-a|0}function e(a){return a^-1}var i=-2147483648;function j(a){if(isFinite(a))if(Math.abs(a)>=22250738585072014e-324)return 0;else if(a!==0)return 1;else return 2;else if(isNaN(a))return 4;else return 3}function k(a){if(a<0||a>255)throw{RE_EXN_ID:"Invalid_argument",_1:"char_of_int",Error:new Error()};return a}function l(a){if(a)return"true";else return"false"}function m(a){switch(a){case"false":return!1;case"true":return!0;default:throw{RE_EXN_ID:"Invalid_argument",_1:"bool_of_string",Error:new Error()}}}function n(a){switch(a){case"false":return!1;case"true":return!0;default:return}}function o(a){try{return b("bs_caml_format").caml_int_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}function p(a){var c=a.length,d=0;while(!0){var e=d;if(e>=c)return a+".";var f=b("bs_caml_string").get(a,e);if(f>=48){if(f>=58)return a;d=e+1|0;continue}if(f!==45)return a;d=e+1|0;continue}}function q(a){return p(b("bs_caml_format").caml_format_float("%.12g",a))}function r(a){try{return b("bs_caml_format").caml_float_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}function s(a,b){if(a)return{hd:a.hd,tl:s(a.tl,b)};else return b}var t=(g=b("bs_caml_io")).stdin,u=g.stdout,v=g.stderr;function w(a,c,d){a=b("bs_caml_external_polyfill").resolve("caml_ml_open_descriptor_out")(b("bs_caml_external_polyfill").resolve("caml_sys_open")(d,a,c));b("bs_caml_external_polyfill").resolve("caml_ml_set_channel_name")(a,d);return a}function x(a){return w({hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:7,tl:0}}}},438,a)}function y(a){return w({hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:6,tl:0}}}},438,a)}function z(a){a=b("bs_caml_io").caml_ml_out_channels_list(void 0);while(!0){var c=a;if(!c)return;try{b("bs_caml_io").caml_ml_flush(c.hd)}catch(a){var d=b("bs_caml_js_exceptions").internalToOCamlException(a);if(d.RE_EXN_ID!=="Sys_error")throw d}a=c.tl;continue}}function A(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_output_bytes")(a,c,0,c.length)}function B(a,c){return b("bs_caml_io").caml_ml_output(a,c,0,c.length)}function C(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw{RE_EXN_ID:"Invalid_argument",_1:"output",Error:new Error()};return b("bs_caml_external_polyfill").resolve("caml_ml_output_bytes")(a,c,d,e)}function D(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw{RE_EXN_ID:"Invalid_argument",_1:"output_substring",Error:new Error()};return b("bs_caml_io").caml_ml_output(a,c,d,e)}function E(a,c){return b("bs_caml_external_polyfill").resolve("caml_output_value")(a,c,0)}function F(a){b("bs_caml_io").caml_ml_flush(a);return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}function G(a){try{b("bs_caml_io").caml_ml_flush(a)}catch(a){}try{return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}catch(a){return}}function H(a,c,d){a=b("bs_caml_external_polyfill").resolve("caml_ml_open_descriptor_in")(b("bs_caml_external_polyfill").resolve("caml_sys_open")(d,a,c));b("bs_caml_external_polyfill").resolve("caml_ml_set_channel_name")(a,d);return a}function I(a){return H({hd:0,tl:{hd:7,tl:0}},0,a)}function J(a){return H({hd:0,tl:{hd:6,tl:0}},0,a)}function K(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw{RE_EXN_ID:"Invalid_argument",_1:"input",Error:new Error()};return b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,c,d,e)}function L(a,c,d,e){while(!0){var f=e,g=d;if(f<=0)return;var h=b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,c,g,f);if(h===0)throw{RE_EXN_ID:"End_of_file",Error:new Error()};e=f-h|0;d=g+h|0;continue}}function M(a,b,c,d){if(c<0||d<0||c>(b.length-d|0))throw{RE_EXN_ID:"Invalid_argument",_1:"really_input",Error:new Error()};return L(a,b,c,d)}function N(a,c){var d=b("bs_caml_bytes").caml_create_bytes(c);M(a,d,0,c);return b("bs_caml_bytes").bytes_to_string(d)}function O(a){var c=function(a,c,d){while(!0){var e=d,f=c;if(!e)return a;var g=e.hd,h=g.length;b("bs_caml_bytes").caml_blit_bytes(g,0,a,f-h|0,h);d=e.tl;c=f-h|0;continue}},d=function(d,e){while(!0){var f=e,g=d,h=b("bs_caml_external_polyfill").resolve("caml_ml_input_scan_line")(a);if(h===0){if(g)return c(b("bs_caml_bytes").caml_create_bytes(f),f,g);throw{RE_EXN_ID:"End_of_file",Error:new Error()}}if(h>0){var i=b("bs_caml_bytes").caml_create_bytes(h-1|0);b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,i,0,h-1|0);b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a);if(!g)return i;var j=(f+h|0)-1|0;return c(b("bs_caml_bytes").caml_create_bytes(j),j,{hd:i,tl:g})}j=b("bs_caml_bytes").caml_create_bytes(-h|0);b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,j,0,-h|0);e=f-h|0;d={hd:j,tl:g};continue}};return b("bs_caml_bytes").bytes_to_string(d(0,0))}function P(a){try{return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}catch(a){return}}function Q(a){return b("bs_caml_io").caml_ml_output_char(u,a)}function R(a){return B(u,a)}function S(a){return A(u,a)}function T(a){return B(u,String(a))}function U(a){return B(u,p(b("bs_caml_format").caml_format_float("%.12g",a)))}function V(a){b("bs_caml_io").caml_ml_output_char(u,10);return b("bs_caml_io").caml_ml_flush(u)}function W(a){return b("bs_caml_io").caml_ml_output_char(v,a)}function X(a){return B(v,a)}function aa(a){return A(v,a)}function ba(a){return B(v,String(a))}function ca(a){return B(v,p(b("bs_caml_format").caml_format_float("%.12g",a)))}function da(a){b("bs_caml_io").caml_ml_output_char(v,10);return b("bs_caml_io").caml_ml_flush(v)}function ea(a){b("bs_caml_io").caml_ml_flush(u);return O(t)}function fa(a){return b("bs_caml_format").caml_int_of_string((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ga(a){return o((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ha(a){return b("bs_caml_format").caml_float_of_string((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ia(a){return r((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ja(a){return a._1}var Y={contents:z};function ka(a){var c=Y.contents;Y.contents=function(d){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(c,void 0)}}function Z(a){return b("bs_curry")._1(Y.contents,void 0)}function la(a){Z(void 0);return b("bs_caml_sys").caml_sys_exit(a)}var ma=2147483647,na=Infinity,oa=-Infinity,pa=17976931348623157e292,qa=22250738585072014e-324,ra=2220446049250313e-31,sa=g.caml_ml_flush,ta=g.caml_ml_output_char;g=g.caml_ml_output_char;function ua(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_output_int")(a,c)}function va(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_out")(a,c)}function wa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_out")(a)}function xa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size")(a)}function ya(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_set_binary_mode")(a,c)}function za(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a)}function Aa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a)}function Ba(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_int")(a)}function Ca(a){return b("bs_caml_external_polyfill").resolve("caml_input_value")(a)}function Da(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_in")(a,c)}function Ea(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_in")(a)}function Fa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size")(a)}function Ga(a){return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}function Ha(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_set_binary_mode")(a,c)}function $(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_out_64")(a,c)}function Ia(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_out_64")(a)}function Ja(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size_64")(a)}function Ka(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_in_64")(a,c)}function La(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_in_64")(a)}function Ma(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size_64")(a)}$={seek_out:$,pos_out:Ia,out_channel_length:Ja,seek_in:Ka,pos_in:La,in_channel_length:Ma};f.invalid_arg=c;f.failwith=a;f.Exit=h;f.abs=d;f.max_int=ma;f.min_int=i;f.lnot=e;f.infinity=na;f.neg_infinity=oa;f.max_float=pa;f.min_float=qa;f.epsilon_float=ra;f.classify_float=j;f.char_of_int=k;f.string_of_bool=l;f.bool_of_string=m;f.bool_of_string_opt=n;f.int_of_string_opt=o;f.string_of_float=q;f.float_of_string_opt=r;f.$at=s;f.stdin=t;f.stdout=u;f.stderr=v;f.print_char=Q;f.print_string=R;f.print_bytes=S;f.print_int=T;f.print_float=U;f.print_newline=V;f.prerr_char=W;f.prerr_string=X;f.prerr_bytes=aa;f.prerr_int=ba;f.prerr_float=ca;f.prerr_newline=da;f.read_line=ea;f.read_int=fa;f.read_int_opt=ga;f.read_float=ha;f.read_float_opt=ia;f.open_out=x;f.open_out_bin=y;f.open_out_gen=w;f.flush=sa;f.flush_all=z;f.output_char=ta;f.output_string=B;f.output_bytes=A;f.output=C;f.output_substring=D;f.output_byte=g;f.output_binary_int=ua;f.output_value=E;f.seek_out=va;f.pos_out=wa;f.out_channel_length=xa;f.close_out=F;f.close_out_noerr=G;f.set_binary_mode_out=ya;f.open_in=I;f.open_in_bin=J;f.open_in_gen=H;f.input_char=za;f.input_line=O;f.input=K;f.really_input=M;f.really_input_string=N;f.input_byte=Aa;f.input_binary_int=Ba;f.input_value=Ca;f.seek_in=Da;f.pos_in=Ea;f.in_channel_length=Fa;f.close_in=Ga;f.close_in_noerr=P;f.set_binary_mode_in=Ha;f.LargeFile=$;f.string_of_format=ja;f.exit=la;f.at_exit=ka;f.valid_float_lexem=p;f.unsafe_really_input=L;f.do_at_exit=Z}),null);
__d("MessengerGraphQLThreadFetcher.bs",["ChatReliabilityInstrumentation","MercuryServerRequestsConfig","MessengerServerPayloadTransformer.bs","MessengerThreadFetchLoggerUtil","MessengerThreadsQuery.graphql","MessengerWebGraphQLHelper","ODS","Promise","bs_caml_array","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_js_null_undefined","bs_pervasives","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={contents:!0};function k(a,b,e,f,g){if(a==null)if(f)return{actions:null,delivery_receipts:[],end_of_history:{fbid:b,type:"user"},roger:null,thread:void 0};else return{actions:null,delivery_receipts:[],end_of_history:void 0,roger:null,thread:void 0};f=[];var h=d("MessengerServerPayloadTransformer.bs").getThreadFBID(a),i=d("MessengerServerPayloadTransformer.bs").getOtherUserID(a);h=i==null?h==null?c("bs_pervasives").failwith("No thread ID"):h:i;h!==b&&c("bs_pervasives").failwith("Thread ID mismatch");i=d("MessengerServerPayloadTransformer.bs").transformThread(e,a,g);h=c("bs_js_null_undefined").fromOption(d("MessengerServerPayloadTransformer.bs").transformMessages(e,a,g));g=d("MessengerServerPayloadTransformer.bs").transformReadReceipts(e,a);if(g!==void 0){e={};e[b]=c("bs_caml_option").valFromOption(g);g=e}else g=null;e=d("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(e.length>=1){e=c("bs_caml_array").get(e,0);i.is_canonical?f.push({other_user_fbid:b,thread_fbid:null,time:c("bs_caml_format").caml_float_of_string(e.timestamp_precise)}):f.push({other_user_fbid:null,thread_fbid:b,time:c("bs_caml_format").caml_float_of_string(e.timestamp_precise)})}e=d("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);if(e!==void 0)if(c("bs_caml_option").valFromOption(e).has_previous_page)return{actions:h,delivery_receipts:f,end_of_history:void 0,roger:g,thread:i};else return{actions:h,delivery_receipts:f,end_of_history:{fbid:b,type:"thread"},roger:g,thread:i};else return{actions:h,delivery_receipts:f,end_of_history:void 0,roger:g,thread:i}}function l(a){d("MessengerThreadFetchLoggerUtil").markerPoint(a.id,"sendThreadInfoFetchRequest");return{id:c("MessengerThreadsQuery.graphql").params.id,variables:{before:a.timestamp,id:a.id,is_work_teamwork_not_putting_muted_in_unreads:!1,load_delivery_receipts:a.loadDeliveryReceipts,load_messages:a.limit>0,load_read_receipts:a.loadReadReceipts,message_limit:a.limit,source:a.source,threadlistViewFieldsOnly:c("gkx")("1950744")}}}var m=c("bs_caml_exceptions").create("MessengerGraphQLThreadFetcher.SessionLoggedOut");function a(a,e,f){if(!j.contents)return(i||(i=b("Promise"))).reject({RE_EXN_ID:m});var g=e.map(l);return(i||(i=b("Promise"))).all(d("MessengerWebGraphQLHelper").execAll(g,{actorID:f?a:null,batchName:"MessengerGraphQLThreadFetcher",msgrRegion:c("MercuryServerRequestsConfig").msgrRegion}))["catch"](function(a){var f;try{f=c("bs_caml_array").get(a.errors,0).should_end_session}catch(a){f=!1}f&&(j.contents=!1);(h||(h=d("ODS"))).bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.failure");e.forEach(function(a){d("MessengerThreadFetchLoggerUtil").markerEnd(a.id,"FAIL")});d("ChatReliabilityInstrumentation").logERROR("fetch_thread_fail");return(i||(i=b("Promise"))).reject(a)}).then(function(b){(h||(h=d("ODS"))).bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.success");return b.map(function(b,g){b=b.message_thread;g=c("bs_caml_array").get(e,g);d("MessengerThreadFetchLoggerUtil").markerPoint(g.id,"getThreadInfoFetchResponse");return k(b,g.id,a,g.isCanonical,f)})})}g.canMakeRequests=j;g._transformPayload=k;g._getQueryParams=l;g.SessionLoggedOut=m;g.fetchAll=a}),98);
__d("MercuryActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_GROUP_ADMINS:"ma-type:add_group_admins",ADD_PARTICIPANTS:"ma-type:add-participants",ADS_CONVERSION_UPDATE:"ma-type:ads_conversion_update",APPROVAL_MODE:"ma-type:approval-mode",APPROVAL_QUEUE:"ma-type:approval-queue",BLOCK_STATUS_CHANGED:"ma-type:block-status-changed",BLURRED_IMAGE_STATUS:"ma-type:blurred-image-status",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FLAG:"ma-type:change_flag",CHANGE_FOLDER:"ma-type:change-folder",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",CHANGE_PAGE_FOLLOW_UP_STATUS:"ma-type:change-page-follow-up-status",CHANGE_PINNED_STATUS:"ma-type:change-pinned-status",CHANGE_PRIORITIZATION_STATUS:"ma-type:change-prioritization-status",CHANGE_READ_STATUS:"ma-type:change_read_status",CHANGE_UNRESPONDED_STATUS:"ma-type:change-unresponded-status",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",CREATE_OMNI_M_SUGGESTIONS:"ma-type:create-omni-m-suggestions",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_MONTAGE_MESSAGES:"ma-type:delete-montage-messages",DELETE_THREAD:"ma-type:delete-thread",DESCRIPTION_CHANGED:"ma-type:description-changed",EVENT_RSVP_CHANGED:"ma-type:event-rsvp-changed",GROUPS_SYNC_METADATA_UPDATE:"ma-type:groups-sync-metadata-update",GROUPS_SYNC_STATUS_CHANGED:"ma-type:groups-sync-status-changed",HANDOVER_THREAD_TO_HUMAN_AGENT:"ma-type:handover-thread-to-human-agent",IS_PIN_PROTECTED:"ma-type:is_pin_protected",JOINABLE_MODE:"ma-type:joinable-mode",LIVE_LOCATION_UPDATE:"ma-type:live-location-update",LOG_MESSAGE:"ma-type:log-message",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",MONTAGE_DIRECT_EXPIRE:"ma-type:montage-direct-expire",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",MUTATE_TAGS:"ma-type:mutate_tags",NEW_MONTAGE_MESSAGE:"ma-type:new-montage-message",PIN_MESSAGE:"ma-type:pin-message",PROMOTE_GROUP_ADMINS:"ma-type:promote-group-admins",REACTION_UPDATE:"ma-type:reaction-update",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",REMOVE_MESSAGE:"ma-type:remove-message",REPLACE_MESSAGE:"ma-type:replace-message",SEND_MESSAGE:"ma-type:send-message",SUGGESTED_REPLY_UPDATE:"ma-type:suggested_reply_update",UNPIN_MESSAGE:"ma-type:unpin-message",UNSUBSCRIBE_STATUS_UPDATE:"ma-type:unsubscribe-status-update",UNWRAP_MESSAGE:"ma-type:unwrap-message",UPDATE_BIZ_INBOX_TAGS:"ma-type:update-biz-inbox-tags",UPDATE_COMM_ITEM_OWNER:"ma-type:update-comm-item-owner",UPDATE_COMM_STATUS:"ma-type:update-comm-status",UPDATE_CONNECTIVITY_STATUS:"ma-type:update-connectivity-status",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UPDATE_JOINABLE_LINK:"ma-type:update-joinable-link",UPDATE_RTC_CALL_DATA:"ma-type:update-rtc-call-data",UPDATE_SECONDARY_LANGUAGE_BODY:"ma-type:upade-secondary-language-body",UPDATE_SNIPPET:"ma-type:update-snippet",UPDATE_THREAD_THEME:"ma-type:update-thread-theme",USER_GENERATED_MESSAGE:"ma-type:user-generated-message"});f["default"]=a}),66);
__d("MercuryLogMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"});f["default"]=a}),66);
__d("MercuryMessageDeliveryState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1});f["default"]=a}),66);
__d("MercuryPayloadSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_PINNED_MESSAGES:"client_change-pinned_messages",CLIENT_CHANGE_PINNED_STATUS:"client_change-pinned_status",CLIENT_CHANGE_PAGE_FOLLOW_UP_STATUS:"client_change_page_follow_up_status",CLIENT_CHANGE_PRIORITIZATION_STATUS:"client_change_prioritization_status",CLIENT_CHANGE_UNRESPONDED_STATUS:"client_change_unresponded_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_HANDOVER_THREAD_TO_HUMAN_AGENT:"client_handover_thread_to_human_agent",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",CLIENT_UPDATE_BIZ_INBOX_TAGS:"client_update_biz_inbox_tags",CLIENT_UPDATE_COMM_STATUS:"client_update_comm_status",CLIENT_UPDATE_COMM_ITEM_OWNER:"client_update_comm_item_owner",CLIENT_CHANGE_SAVED_MESSAGE_STATUS:"client_update_saved_message_status",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_PINNED_MESSAGES:"server_change-pinned_messages",SERVER_CHANGE_PINNED_STATUS:"server_change_pinned_status",SERVER_CHANGE_PAGE_FOLLOW_UP_STATUS:"server_change_page_follow_up_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"});f["default"]=a}),66);
__d("MercuryViewer",["CurrentUser","MercuryAssert"],(function(a,b,c,d,e,f,g){"use strict";var h="fbid:"+c("CurrentUser").getID();function a(){return h}function b(a){d("MercuryAssert").isParticipantID(a);return a===h}g.getID=a;g.isViewer=b}),98);
__d("MessengerMessage.bs",["MercuryMessageDeliveryState","MercuryViewer","URI","Utils.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_js_json","isMessengerDotComURI"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f){d={action_type:d,ad_client_token:null,ad_id:null,attachments:null,author:c,author_email:"",body:null,commerce_message_type:null,creator_info:null,customizations:[],ephemeral_ttl_mode:null,error_data:null,folder:"inbox",has_attachment:null,is_filtered_content:!1,is_filtered_content_account:!1,is_filtered_content_bh:!1,is_filtered_content_invalid_app:!1,is_filtered_content_quasar:!1,is_forwarded:!1,is_one_way_sent:!1,is_sponsored:!1,is_spoof_warning:!1,is_unread:null,log_message_body:null,log_message_data:null,log_message_type:null,m_suggestions:null,message_id:a,message_source:null,message_unsendability_status:null,meta_ranges:null,montage_reply_data:null,offline_threading_id:null,other_user_fbid:null,platform_xmd:null,preview_attachments:null,profile_ranges:null,ranges:null,raw_attachments:null,reactions:null,removed_timestamp:null,replied_to_message:null,secondary_language_body:null,skip_bump_thread:!1,source:"",source_tags:[],status:null,sticker_id:null,subject:null,tags:[],thread_fbid:null,thread_id:b,threading_id:null,timestamp:e,unsender:null,verse_group_role_xmd:null};return Object.assign(d,f)}function b(a){var b=a.offline_threading_id;if(b==null)return!1;else return b===a.message_id}function e(a){if(c("bs_caml_obj").caml_equal(a.action_type,"ma-type:user-generated-message"))return!0;a=a.log_message_type;if(a==null)return!0;else return!(c("bs_caml_obj").caml_equal(a,"log:subscribe")||c("bs_caml_obj").caml_equal(a,"log:unsubscribe")||c("bs_caml_obj").caml_equal(a,"log:error-msg")||c("bs_caml_obj").caml_equal(a,"log:live-listen"))}function f(a){var b=a.ranges;if(b==null)return;b=b.map(function(a){var b=a.entity;if(b==null)return a;var e=d("Utils.bs").isTruthy(b.external),f=b.url;if(e)return a;if(f==null)return a;e=new(h||(h=c("URI")))(f);f=c("isMessengerDotComURI")(h.getRequestURI());var g=e.getDomain();if(!f)return a;return!(g==null)&&g!==""?a:babelHelpers["extends"]({},a,{entity:babelHelpers["extends"]({},b,{url:e.setProtocol("https").setDomain("www.facebook.com").toString()})})});Object.assign(a,{ranges:b})}function j(a){if(c("bs_caml_obj").caml_equal(a,"unknown")||c("bs_caml_obj").caml_equal(a,"server_initial_data")||c("bs_caml_obj").caml_equal(a,"server_fetch_thread_info"))return!0;else return c("bs_caml_obj").caml_equal(a,"server_thread_sync")}function k(a){a=a.author;if(a==null)return!1;else return a===d("MercuryViewer").getID()}function l(a){a=a.author;if(a==null)return!1;else return a!==d("MercuryViewer").getID()}function m(a){a=a.status;if(a==null)return!1;else if(c("bs_caml_obj").caml_equal(a,0)||c("bs_caml_obj").caml_equal(a,3)||c("bs_caml_obj").caml_equal(a,5))return!0;else return c("bs_caml_obj").caml_equal(a,7)}function n(a){a=a.status;if(a==null)return!0;else return c("bs_caml_obj").caml_equal(a,1)}function o(a,b){return(i||(i=c("bs_caml"))).caml_float_compare(a.timestamp,b.timestamp)}function p(a){a=a.status;if(a==null)return!1;else if(c("bs_caml_obj").caml_equal(a,4)||c("bs_caml_obj").caml_equal(a,5))return!0;else return c("bs_caml_obj").caml_equal(a,10)}function q(a){a=a.error_data;if(!(a==null))return c("bs_caml_option").nullable_to_opt(a.description)}function r(a,b){if(p(a))return c("MercuryMessageDeliveryState").ERROR;else if(m(a))return c("MercuryMessageDeliveryState").SENDING;else if(n(a))if(a.is_one_way_sent||a.timestamp>b)return c("MercuryMessageDeliveryState").SENT;else return c("MercuryMessageDeliveryState").DELIVERED;else return c("MercuryMessageDeliveryState").UNKNOWN}function s(a,b){if(p(a))return{type:"Error"};else if(m(a))return{type:"Sending"};else if(n(a))if(a.timestamp<=b&&!a.is_one_way_sent)return{type:"Delivered"};else return{type:"Sent"};else return{type:"NoneStatus"}}function t(a){try{a=c("bs_caml_option").some(JSON.parse(a))}catch(b){a=void 0}if(a===void 0)return;a=c("bs_js_json").classify(c("bs_caml_option").valFromOption(a));if(typeof a==="number")return;if(a.TAG!==2)return;a=a._0.persona;if(a===void 0)return;a=c("bs_js_json").classify(c("bs_caml_option").valFromOption(a));if(typeof a==="number"||a.TAG!==2)return;else return c("bs_caml_option").some(a._0)}function u(a){if(a==null)return null;a=a.platform_xmd;if(a==null)return null;a=t(a);if(a===void 0)return null;a=c("bs_caml_option").valFromOption(a);var b=a.id,d=a.name;a=a.profile_picture_url;if(b!==void 0&&d!==void 0&&a!==void 0)return{id:c("bs_caml_option").valFromOption(b),name:c("bs_caml_option").valFromOption(d),profile_picture_url:c("bs_caml_option").valFromOption(a)};else return null}function v(a){var b=a.log_message_type;if(!(b==null)&&c("bs_caml_obj").caml_equal(b,"log:error-msg"))return c("bs_caml_obj").caml_equal(a.action_type,"ma-type:log-message");else return!1}function w(a,b){var c=a.thread_fbid,d=a.other_user_fbid;a=a.is_from_iris;if(!(b==null)&&b)return!1;if(!(c==null)||!(d==null)||a)return!0;else return!1}a=a;b=b;e=e;f=f;j=j;k=k;l=l;var x=m,y=n;o=o;var z=p;q=q;r=r;s=s;var A=t;u=u;v=v;w=w;g.makeFakeMessage=a;g.isLocalMessage=b;g.isTitanMessage=e;g.finalizeRanges=f;g.shouldSortForPayloadSource=j;g.isOutbound=k;g.isInbound=l;g.isSending=x;g.isSent=y;g.compare=o;g.hasError=z;g.getError=q;g.getDeliveryState=r;g.getGutterItemStatus=s;g.getPersonaData=A;g.getPersona=u;g.isErrorLogMessage=v;g.hasServerTimestamp=w}),98);
__d("MessengerMessageDFFFetcher.bs",["MessengerMessageQuery.graphql","MessengerMessageTransformer.bs","MessengerThreadMetadataQuery.graphql","MessengerWebGraphQLHelper","Promise","bs_caml_array"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g={id:c("MessengerThreadMetadataQuery.graphql").params.id,variables:{id:e.thread_id,source:e.source}};e={id:c("MessengerMessageQuery.graphql").params.id,variables:{source:e.source,thread_and_message_id:{message_id:e.message_id,thread_id:e.thread_id}}};return(h||(h=b("Promise"))).all([d("MessengerWebGraphQLHelper").exec(g,{actorID:a,batchName:"MessengerMessageDFFFetcher",msgrRegion:null}),d("MessengerWebGraphQLHelper").exec(e,{actorID:a,batchName:"MessengerMessageDFFFetcher",msgrRegion:null})]).then(function(e){var g=c("bs_caml_array").get(e,0);e=c("bs_caml_array").get(e,1);g=g.message_thread;e=e.message;if(g==null)throw{Error:new Error(),RE_EXN_ID:"Not_found"};if(!(e==null))return(h||(h=b("Promise"))).resolve(d("MessengerMessageTransformer.bs").transformMessage(a,e,{folder:g.folder.toLowerCase(),other_user_fbid:g.thread_key.other_user_id,thread_fbid:g.thread_key.thread_fbid,thread_id:null},f));throw{Error:new Error(),RE_EXN_ID:"Not_found"}})}g.fetch_=a}),98);
__d("MessengerPersonas.bs",["bs_js_null_undefined"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){if(a==null)return;var b=h[a.id];if(b!==void 0)return;else{h[a.id]=a;return}}function b(a){return c("bs_js_null_undefined").fromOption(h[a])}g.personas=h;g.addPersona=a;g.getNow=b}),98);
__d("MessengerRealtimeAttachmentTransformer.bs",["MessengerAttachmentTransformer.bs","MessengerMessageTransformer.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("MessengerMessageTransformer.bs").unsafeCastBlobAttachments(b),f=b.extensible_attachment,g;if(f==null)g=null;else{var h=f.story_attachment,i=f.genie_attachment,j;if(i==null)j=null;else{i=i.genie_message;var k;if(i==null)k=null;else{i=i.story_attachment;k={story_attachment:i==null?null:d("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(i)}}j={genie_message:k}}g={genie_attachment:j,legacy_attachment_id:f.legacy_attachment_id,story_attachment:h==null?null:d("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(h)}}return d("MessengerAttachmentTransformer.bs").transformAttachment(a,{blob_attachments:e,extensible_attachment:g,sticker:b.sticker},null,c)}g.transform=a}),98);
__d("MessengerSharedPhotosVideosBaseData.bs",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return g[a]}function h(a,b){g[a]=b}function b(a,b){var c=g[a];if(c===void 0)return;var d=c.actualData;if(d===void 0)return;var e=d.edges;if(e.length===0)return;e=e.filter(function(a){return!b.some(function(b){return b===a.node.legacy_attachment_id})});c=c.fetchingState;e={edges:e,hasNextPage:d.hasNextPage,newestItemCursor:d.newestItemCursor,oldestItemCursor:d.oldestItemCursor};d={actualData:e,fetchingState:c};return h(a,d)}f.data=g;f.get=a;f.set=h;f.localRemove=b}),null);
__d("MessengerThreadFetcher.bs",["FBIDCheck","LogHistory","MercuryDispatcher","MercuryIDs","MercuryThreadIDMap","MessengerGraphQLThreadFetcher.bs","Promise","bs_belt_Array","bs_caml_option","bs_curry","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a,b){var e=b.other_user_fbid;if(e==null){b=b.thread_fbid;if(b==null)throw{_1:"Encountered thread with no server identifier",Error:new Error(),RE_EXN_ID:"Invalid_argument"};b=[b,d("MercuryIDs").getThreadIDFromThreadFBID(b)]}else b=[e,d("MercuryIDs").getThreadIDFromUserID(e)];e=b[1];b=b[0];a=c("MercuryThreadIDMap").getForFBID(a);var f={},g=a.getClientIDFromServerIDNow(b);if(g==null){c("gkx")("1199097")&&d("LogHistory").getInstance("MessengerThreadFetcher").debug("setServerIDToClientID",e);a.setServerIDToClientID(b,e);f[b]=e;return[e,f]}else return[g,f]}function k(a,e,f){var g=!d("FBIDCheck").isUser_deprecated(a);return d("MessengerGraphQLThreadFetcher.bs").fetchAll(a,[{id:e,isCanonical:f,limit:0,loadDeliveryReceipts:!1,loadReadReceipts:!1,source:null,timestamp:null}],g).then(function(d){d=c("bs_belt_Array").get(d,0);if(d===void 0)return(h||(h=b("Promise"))).resolve(!1);d=c("bs_caml_option").valFromOption(d).thread;if(d==null)return(h||(h=b("Promise"))).resolve(!1);var e=j(a,d);c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[],newlyAddedClientIDs:e[1],payload_source:"server_fetch_thread_info",pinned_thread_ids:[],preprocessed:!0,threads:[Object.assign(d,{thread_id:e[0]})]});return(h||(h=b("Promise"))).resolve(!0)})}function l(a,d,e){return k(a,d,e).then(function(e){var f=i.get(a);if(f==null)return(h||(h=b("Promise"))).resolve(!1);var g=f.get(d);if(g==null)return(h||(h=b("Promise"))).resolve(!1);else{c("bs_belt_Array").forEach(g[1],function(a){return c("bs_curry")._1(a,e)});f["delete"](d);return(h||(h=b("Promise"))).resolve(e)}})["catch"](function(f){var g=i.get(a);if(g==null)return(h||(h=b("Promise"))).resolve(!1);f=g.get(d);if(f==null)return(h||(h=b("Promise"))).resolve(!1);var j=f[1];f=f[0];var m=Math.imul(Math.pow(2,Math.min(f,5))|0,1e3),n=new(h||(h=b("Promise")))(function(f,i){c("setTimeoutAcrossTransitions")(function(i){k(a,d,e).then(function(a){f(a);c("bs_belt_Array").forEach(j,function(b){return c("bs_curry")._1(b,a)});g["delete"](d);return(h||(h=b("Promise"))).resolve(a)})["catch"](function(b){return l(a,d,e)})},m)});g.set(d,[f+1|0,j]);return n})}function a(a,b,c,d){var e=i.get(a);if(e==null){var f=new Map();f.set(b,[0,[d]]);i.set(a,f);l(a,b,c);return}f=e.get(b);f==null?(e.set(b,[0,[d]]),l(a,b,c)):f[1].push(d)}g.$$fetch=a}),98);
__d("IrisProtocolMessageLifetime",[],(function(a,b,c,d,e,f){a=Object.freeze({TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:3e4,TTL_1MINUTE:6e4,TTL_3MINUTES:18e4,TTL_5MINUTES:3e5,TTL_10MINUTES:6e5,TTL_15MINUTES:9e5,TTL_30MINUTES:18e5,TTL_1HOUR:36e5,TTL_2HOURS:72e5,TTL_4HOURS:144e5,TTL_8HOURS:288e5,TTL_12HOURS:432e5,TTL_24HOURS:864e5,TTL_36HOURS:1296e5,TTL_72HOURS:2592e5});f["default"]=a}),66);
__d("MSuggestionDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ExplicitRegistrationDispatcher"))({strict:!1});g["default"]=a}),98);
__d("MSuggestionActions",["MSuggestionDispatcher","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SAVE_ALL_SUGGESTIONS:null,REMOVE_ALL_SUGGESTIONS:null,REMOVE_SUGGESTIONS_BY_TYPE:null});function a(a,b){c("MSuggestionDispatcher").dispatch({type:h.SAVE_ALL_SUGGESTIONS,threadID:a,suggestions:b})}function b(a){a&&c("MSuggestionDispatcher").dispatch({type:h.REMOVE_ALL_SUGGESTIONS,threadID:a})}function d(a,b){c("MSuggestionDispatcher").dispatch({type:h.REMOVE_SUGGESTIONS_BY_TYPE,threadID:a,typeID:b})}g.Types=h;g.saveAllSuggestions=a;g.removeAllSuggestions=b;g.removeSuggestionsByType=d}),98);
__d("MercuryMessageCustomizations",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=JSON.parse(a),c=[];Object.keys(b).forEach(function(a){c.push({customization_type:a,customization_value:b[a]})});return c}f.parseCustomizations=a}),66);
__d("MercuryProfileRanges",[],(function(a,b,c,d,e,f){"use strict";function g(a){return!a.id&&a.i?{id:a.i,offset:a.o,length:a.l,type:a.t}:a}e.exports={extractFromDelta:function(a){a=(a=a)!=null?(a=a.data)!=null?a.prng:a:a;if(!a)return[];var b=[];try{b=JSON.parse(a);if(b.length>0)return b.map(g)}catch(a){}return b}}}),null);
__d("MercurySyncDeltaTypes",[],(function(a,b,c,d,e,f){"use strict";a={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};b=a;f["default"]=b}),66);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};b=a;f["default"]=b}),66);
__d("MessageThreadReadStateEffect",["MessageThreadReadState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.messageMetadata.threadReadStateEffect;if(d!=null){var e=c("MessageThreadReadState")[d];return e===void 0&&typeof d==="number"?d:e}d=b.messageMetadata.skipBumpThread;return d===!0?c("MessageThreadReadState").KEEP_AS_IS:a!==b.messageMetadata.actorFbId?c("MessageThreadReadState").MARK_UNREAD:c("MessageThreadReadState").KEEP_AS_IS}g.extractThreadStateEffectFromDelta=a}),98);
__d("MessengerApprovalModeTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN:0,APPROVALS:1});f["default"]=a}),66);
__d("MessengerGroupsSyncStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING_OPT_IN:"PENDING_OPT_IN",OPT_IN:"OPT_IN",PENDING_OPT_OUT:"PENDING_OPT_OUT",OPT_OUT:"OPT_OUT",UNSET:"UNSET",UNSUPPORTED:"UNSUPPORTED"});f["default"]=a}),66);
__d("MessengerDeltaTransformer.bs",["Bootloader","DateConsts","FBIDCheck","FBIDForMercury","IrisProtocolMessageLifetime","MSuggestionActions","MercuryDispatcher","MercuryIDs","MercuryMessageCustomizations","MercuryProfileRanges","MercuryServerRequests","MercurySyncDeltaTypes","MercuryThreadIDMap","MessageLiveLocationClientSyncProtocolStopReason","MessageThreadReadState","MessageThreadReadStateEffect","MessageUnsendabilityStatus.bs","MessengerApprovalModeTypes","MessengerGroupsSyncStatus","MessengerGroupsSyncStatus.bs","MessengerMessageDFFFetcher.bs","MessengerParticipantsFetcher.bs","MessengerRealtimeAttachmentTransformer.bs","MessengerState.bs","MessengerThreadFetcher.bs","MontageActions","PageCommItemStatus","Promise","bs_belt_Array","bs_belt_Option","bs_caml_array","bs_caml_obj","bs_caml_option","bs_curry","bs_js_json","bs_js_null_undefined","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){try{return JSON.parse(a)}catch(a){return{}}}var j=c("gkx")("780647")?{_0:void 0,TAG:0}:{_0:void 0,TAG:1};function k(a,b){var e=c("bs_belt_Option").map(c("bs_caml_option").nullable_to_opt(b.otherUserFbId),function(a){return a.toString()});b=c("bs_belt_Option").map(c("bs_caml_option").nullable_to_opt(b.threadFbId),function(a){return a.toString()});a=c("MercuryThreadIDMap").getForFBID(a);e=e!==void 0?[c("bs_caml_option").some(d("MercuryIDs").getThreadIDFromUserID(d("FBIDForMercury").ofStringExn(e))),e]:b!==void 0?[c("bs_caml_option").some(d("MercuryIDs").getThreadIDFromThreadFBID(d("FBIDForMercury").ofStringExn(b))),b]:[void 0,void 0];b=e[1];e=e[0];if(b!==void 0&&e!==void 0)if(a.hasClientIDForServerID(b))return c("bs_caml_option").nullable_to_opt(a.getClientIDFromServerIDNow(b));else return c("bs_caml_option").valFromOption(e)}function l(a,b,c,d){if(!(a==null))return[a.toString(),{otherUserFbId:null,threadFbId:a}];if(b==null)return[void 0,void 0];a=c.toString()!==d?c:b;return[a.toString(),{otherUserFbId:a,threadFbId:null}]}function m(a,b){var e=parseInt(b.messageMetadata.timestamp,10),f=d("MessageThreadReadStateEffect").extractThreadStateEffectFromDelta(a,b),g={contents:b.messageMetadata.actorFbId.toString()},h=!d("FBIDCheck").isUser_deprecated(a),j=b.attachments;j=j==null?[]:c("bs_belt_Array").keepMapU(j,function(b){var e=b.mercury;if(e==null){b=b.mercuryJSON;b=b==null?null:i(b)}else b=e;if(b==null)return;e=b.extensible_attachment;var f=b.blob_attachment;b=b.sticker_attachment;b=e==null?f==null?b==null?[]:d("MessengerRealtimeAttachmentTransformer.bs").transform(a,{blob_attachments:null,extensible_attachment:null,sticker:b},h):d("MessengerRealtimeAttachmentTransformer.bs").transform(a,{blob_attachments:[f],extensible_attachment:null,sticker:null},h):d("MessengerRealtimeAttachmentTransformer.bs").transform(a,{blob_attachments:null,extensible_attachment:c("bs_js_null_undefined").fromOption(e==null?void 0:c("bs_caml_option").some(e)),sticker:null},h);f=c("bs_belt_Array").get(b,0);if(f!==void 0){e=c("bs_caml_option").valFromOption(f).share;if(e==null)b=g.contents;else{e=e.target;if(e==null)b=g.contents;else{e=e.genie_id;b=e==null?g.contents:e}}}else b=g.contents;g.contents=b;return f});var l=b.messageMetadata.tags;l=l==null?void 0:c("bs_js_null_undefined").fromOption(c("bs_belt_Array").get(l,0));var m=b.data,n;if(m==null)n=null;else{var o=m.adminSignatureCreatorID;n=o!==void 0?{creatorID:m.adminSignatureCreatorID,creatorName:m.adminSignatureCreatorName,creatorType:m.adminSignatureCreatorType,labelType:m.adminSignatureLabelType,pageID:m.adminSignaturePageID,profileURI:m.adminSignatureProfileURI}:null}o=g.contents;m=c("bs_caml_obj").caml_equal(f,c("MessageThreadReadState").MARK_UNREAD)&&a!==o;var p=k(a,b.messageMetadata.threadKey);if(p!==void 0){var q=b.ttl,r=b.messageMetadata.threadKey.threadFbId,s=b.messageMetadata.threadKey.otherUserFbId,t=b.body,u=b.data;if(u==null){var v=b.untypedData;v=v==null?!1:c("bs_belt_Option").getWithDefault(v.is_sponsored,"false")==="true"}else v=c("bs_belt_Option").getWithDefault(u.is_sponsored,"false")==="true";u=b.data;var w=b.data,x;if(w==null)x=null;else{w=w.customization;x=w!==void 0?d("MercuryMessageCustomizations").parseCustomizations(w):null}w=b.data;var y=b.data,z=b.data,A;if(z==null)A=null;else{z=z.mib_direct_message_data;A=z!==void 0?i(z):null}z=b.data;var B;if(z==null)B=null;else{z=z.message_source_data;if(z!==void 0){z=i(z);z=c("bs_js_json").classify(z);if(typeof z==="number"||z.TAG!==2)B=null;else{z=z._0.message_source;B=z!==void 0?c("bs_js_null_undefined").fromOption(z):null}}else B=null}z=b.messageMetadata.skipBumpThread;var C=b.data,D;if(C==null)D=null;else{C=C.montage_reply_data;D=C!==void 0?i(C):null}C=b.data;var E;if(C==null)E=null;else{C=C.meta_ranges;E=C!==void 0?i(C):null}return{action_type:"ma-type:user-generated-message",attachments:j,author:d("MercuryIDs").getParticipantIDFromUserID(d("FBIDForMercury").ofStringExn(o)),author_email:o+"@facebook.com",body:t==null?"":t,comm_status:h?c("PageCommItemStatus").TODO:null,commerce_message_type:u==null?null:c("bs_js_null_undefined").fromOption(u.commerce_message_type),creator_info:n,customizations:x,ephemeral_ttl_mode:q==null?0:c("bs_belt_Option").getWithDefault(c("IrisProtocolMessageLifetime")[q],0),folder:null,has_attachment:j.length!==0,html_body:null,is_filtered_content:!1,is_filtered_content_account:!1,is_filtered_content_bh:!1,is_filtered_content_invalid_app:!1,is_filtered_content_quasar:!1,is_forwarded:c("bs_belt_Option").getWithDefault(c("bs_caml_option").nullable_to_opt(b.messageMetadata.tags),[]).some(function(a){if(a==="action:copy_message"||a==="copy_self_message"||a==="action:copy_attachment")return!0;else return a==="copy_self_attachment"}),is_from_iris:!0,is_one_way_sent:c("bs_belt_Option").getWithDefault(c("bs_caml_option").nullable_to_opt(b.messageMetadata.tags),[]).some(function(a){return a==="one_way_message"}),is_sponsored:v,is_spoof_warning:!1,is_unread:m,message_id:b.messageMetadata.messageId,message_source:B,message_unsendability_status:d("MessageUnsendabilityStatus.bs").fromNullableString(b.messageMetadata.unsendType),meta_ranges:E,mib_direct_message_data:A,montage_reply_data:D,offline_threading_id:b.messageMetadata.offlineThreadingId,other_user_fbid:s==null?null:s.toString(),platform_xmd:w==null?null:c("bs_js_null_undefined").fromOption(w.platform_xmd),profile_ranges:d("MercuryProfileRanges").extractFromDelta(b),ranges:void 0,skip_bump_thread:z==null?!1:z,source:l,subject:null,tags:b.messageMetadata.tags,thread_fbid:r==null?null:r.toString(),thread_id:p,thread_read_state_effect:f,threading_id:null,timestamp:e,verse_group_role_xmd:y==null?null:c("bs_js_null_undefined").fromOption(y.verse_group_role_id)}}throw{_1:"invalid thread id",Error:new Error(),RE_EXN_ID:"Invalid_argument"}}function n(a,b,d,e){c("Bootloader").loadModules(["MessengerWebDeltasTypedLogger.bs"],function(f){f=c("bs_curry")._1(f.messengerWebDeltasTypedLogger);f=f.setDeltaEvent(a).setDeltaType(b).setIgnoreReason(d).setSyncSeqID(e);f.log()},"MessengerDeltaTransformer.bs")}function o(a){return n("DELTA_RECEIVED",a,null,null)}function p(a,b){return n("DELTA_IGNORED",a,b,null)}function q(a,b,e,f,g){return d("MessengerThreadFetcher.bs").$$fetch(a,b,e,function(b){if(b){c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[f],newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});return o(g)}else return p(g,"thread fetch failed")})}function r(a,b,e,f){var g=b.other_user_fbid;if(g==null){var h=b.thread_fbid;if(h==null)throw{_1:"invalid thread id",Error:new Error(),RE_EXN_ID:"Invalid_argument"};h=[h,!1]}else h=[g,!0];g=h[1];h=h[0];var i=c("MercuryThreadIDMap").getForFBID(a);i=i.getClientIDFromServerIDNow(h);var j=i==null?null:d("MessengerState.bs").getThreadMetaNow(a,i),k=b.action_type,l=c("gkx")("1143875");if(i==null)if(f.TAG===0)return p(e,"thread not already loaded, not required to be loaded");else return q(a,h,g,b,e);if(j==null)if(f.TAG===0){if(l)return p(e,"thread not already loaded, not required to be loaded")}else{if(l)return q(a,h,g,b,e);if(l)return p(e,"thread not already loaded, not required to be loaded")}k==="ma-type:update-biz-inbox-tags"?c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[b],from_client:!0,payload_source:"client_update_biz_inbox_tags"}):k==="ma-type:handover-thread-to-human-agent"?c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[b],from_client:!0,payload_source:"client_handover_thread_to_human_agent"}):c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[b],newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});return o(e)}function s(a,b){var c=a.threadId,e=d("MercuryIDs").isGroupChat(c);c=d("MercuryIDs").getThreadFBIDFromThreadID(c);b={action_type:"ma-type:pin-message",actor_fbid:a.actorFbid,other_user_fbid:e?null:c,pin_message_action:{message:{is_content_loaded:!0,message:b,message_id:a.pinnedMessage.pinnedMessageId,pinning_time:a.pinnedMessage.timestamp}},thread_fbid:e?c:null,thread_id:a.threadId};return r(a.viewerFBID,b,"DeltaClientDelta.deltaUpdatePinnedMessage",j)}function t(a,e,f){var g=a.viewerFBID,i=a.pinnedMessage.pinnedMessageId,j=d("MessengerState.bs").getMessageFromID(a.viewerFBID,i);if(j!==void 0)return s(a,c("bs_caml_option").valFromOption(j));else{d("MessengerMessageDFFFetcher.bs").fetch_(g,{message_id:i,source:null,thread_id:d("MercuryIDs").getThreadFBIDFromThreadID(a.threadId)},!1).then(function(d){s(a,d);c("bs_curry")._1(e,d);return(h||(h=b("Promise"))).resolve()})["catch"](function(d){s(a,null);c("bs_curry")._1(f,d);return(h||(h=b("Promise"))).resolve()});return}}function u(a,b){var d=b.threadKey.threadFbId,e=d==null?void 0:c("bs_caml_option").some(d);if(d==null){d=b.threadKey.otherUserFbId;var f=d==null?void 0:c("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:c("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:c("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=k(a,c("bs_caml_option").valFromOption(f));if(d!==void 0)return{action_type:"ma-type:reaction-update",messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,other_user_fbid:null,reaction:b.reaction,senderId:b.senderId.toString(),thread_fbid:e.toString(),thread_id:d,userId:b.userId.toString()}}function v(a){return a/Math.pow(10,8)}function w(a,b){var e=b.threadKey.threadFbId,f=e==null?void 0:c("bs_caml_option").some(e),g=b.threadKey.otherUserFbId,h=g==null?void 0:c("bs_caml_option").some(g);e=e==null?g==null?[void 0,void 0]:[h,{otherUserFbId:null,threadFbId:c("bs_js_null_undefined").fromOption(h)}]:[f,{otherUserFbId:c("bs_js_null_undefined").fromOption(f),threadFbId:null}];g=e[1];h=e[0];if(h===void 0)return;if(g===void 0)return;f=k(a,c("bs_caml_option").valFromOption(g));if(f===void 0)return;if(b.messageLiveLocations.length!==1)return;e=c("bs_caml_array").get(b.messageLiveLocations,0);a=e.expirationTime;g=e.stopReason;b=g==null?Date.now()/d("DateConsts").MS_PER_SEC>a:!0;g=e.coordinate;g=g==null?null:{latitude:v(g.latitude),longitude:v(g.longitude)};var i=e.destination;i=i==null?null:{label:i.label,latitude:v(i.latitude),longitude:v(i.longitude)};var j=e.stopReason;j=j==null?null:j===c("MessageLiveLocationClientSyncProtocolStopReason").EXPIRED||j===c("MessageLiveLocationClientSyncProtocolStopReason").CANCELED?"EXPIRED":j===c("MessageLiveLocationClientSyncProtocolStopReason").ARRIVED?"ARRIVED":null;return{action_type:"ma-type:live-location-update",liveLocation:{coordinate:g,expiration_time:a,is_expired:b,live_location_id:e.id.toString(),location_title:e.locationTitle,sender:{id:e.senderId.toString()},sender_destination:i,stop_reason:j},messageId:e.messageId,other_user_fbid:null,thread_fbid:h.toString(),thread_id:f}}function x(a,b){var c=b.threadKey.threadFbId;if(c==null)return;a=k(a,{otherUserFbId:null,threadFbId:c});if(a!==void 0)return{action_type:"ma-type:event-rsvp-changed",actor_fbid:b.actorFbId.toString(),other_user_fbid:null,rsvp_status:b.rsvpStatus,thread_fbid:c.toString(),thread_id:a}}function y(a,b){var d=b.threadKey.otherUserFbId;if(d==null)return;a=k(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:update-comm-status",comm_status:b.isFollowUp?c("PageCommItemStatus").FOLLOW_UP:c("PageCommItemStatus").TODO,other_user_fbid:null,thread_fbid:d.toString(),thread_id:a}}function z(a,b){var e=b.threadKey.otherUserFbId;if(e==null){var f=b.threadKey.thread_fbid;if(f==null)throw{_1:"invalid thread id",Error:new Error(),RE_EXN_ID:"Invalid_argument"};f=[f,!1]}else f=[e,!0];f=f[0];var g=c("MercuryThreadIDMap").getForFBID(a);g=g.getClientIDFromServerIDNow(f);f=g==null?null:d("MessengerState.bs").getThreadMetaNow(a,g);if(f==null)return;var h=[];f.biz_inbox_tags.forEach(function(a){h.includes(a)||h.push(a)});g=h.length;f=b.bizInboxTags.length;var i=g>f?h.filter(function(a){return!b.bizInboxTags.includes(a.toLowerCase())}):b.bizInboxTags.filter(function(a){return!h.includes(a.toUpperCase())});if(i.length===0)return;var j=g>f?null:i[0].toUpperCase();g=g>f?i[0].toUpperCase():null;f=k(a,{otherUserFbId:e,threadFbId:null});if(f!==void 0)return{action_type:"ma-type:update-biz-inbox-tags",thread_fbid:e.toString(),other_user_fbid:null,thread_id:f,add_biz_inbox_tag:j,remove_biz_inbox_tag:g}}function A(a,e){var f=[];e.forEach(function(a){a=d("MercuryIDs").getUserIDFromParticipantID(a);if(!(a==null)){f.push(a);return}});return d("MessengerParticipantsFetcher.bs").$$fetch({ids:f}).then(function(d){var e=[],f=[];d.forEach(function(a){var b=a.id;a.is_messenger_blocked||a.is_facebook_blocked?e.push(b):f.push(b)});c("MercuryDispatcher").getForFBID(a).handleUpdate({from_client:!0,message_blocked_ids:e,message_unblocked_ids:f});return(h||(h=b("Promise"))).resolve()})["catch"](function(a){return(h||(h=b("Promise"))).resolve()})}function B(a,b){var e=b.actorFbid.toString(),f=d("FBIDForMercury").ofStringExn(e);if(c("bs_caml_obj").caml_notequal(f,a))f=c("bs_caml_option").some(d("MercuryIDs").getParticipantIDFromUserID(a));else{var g=b.threadKey.otherUserFbId;if(g==null)f=void 0;else{g=d("FBIDForMercury").ofString(g.toString());f=g!==void 0?c("bs_caml_option").some(d("MercuryIDs").getParticipantIDFromUserID(c("bs_caml_option").valFromOption(g))):void 0}}if(f===void 0)return;g=c("bs_caml_option").valFromOption(f);f=b.threadKey.otherUserFbId;if(f==null)return;A(a,[g]);a=k(a,{otherUserFbId:f,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:block-status-changed",actorFbid:e,canViewerReply:b.canViewerReply,message_blocked_ids:[g],other_user_fbid:f.toString(),reason:b.reason,thread_fbid:null,thread_id:a}}function C(a,b){var d=b.threadKey.threadFbId;if(d==null){var e=b.threadKey.otherUserFbId;e=e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]}else e=[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e===void 0)return;if(d===void 0)return;a=k(a,c("bs_caml_option").valFromOption(d));if(a!==void 0)return{action_type:"ma-type:montage-direct-expire",keep_expiry_timestamp:b.keepExpiryTimestamp,messageId:b.messageId,other_user_fbid:null,thread_fbid:e,thread_id:a,timestamp:b.timestamp}}function D(a,b){var d=m(a,b.message),e=b.repliedToMessage;if(e==null)return c("bs_caml_option").some(d);a=m(a,e);e=b.status;var f;if(e==null)f=void 0;else switch(e){case 0:f=c("bs_caml_option").some("VALID");break;case 1:f=c("bs_caml_option").some("DELETED");break;case 2:f=c("bs_caml_option").some("TEMPORARILY_UNAVAILABLE");break;default:f=void 0}if(f!==void 0)return c("bs_caml_option").some(Object.assign(d,{replied_to_message:{message:a,status:c("bs_caml_option").valFromOption(f)}}))}function E(a,b){var e=b.threadKey.threadFbId,f=e==null?void 0:c("bs_caml_option").some(e);if(e==null){e=b.threadKey.otherUserFbId;var g=e==null?void 0:c("bs_caml_option").some(e);e=e==null?[void 0,void 0]:[g,{otherUserFbId:c("bs_js_null_undefined").fromOption(g),threadFbId:null}]}else e=[f,{otherUserFbId:null,threadFbId:c("bs_js_null_undefined").fromOption(f)}];g=e[1];f=e[0];if(f===void 0)return;if(g===void 0)return;e=k(a,c("bs_caml_option").valFromOption(g));if(e!==void 0)return{action_type:"ma-type:groups-sync-status-changed",actor_fbid:b.actorFbid.toString(),groups_sync_status_string:d("MessengerGroupsSyncStatus.bs").fromNullableString(b.groupsSyncStatus),other_user_fbid:null,thread_fbid:f.toString(),thread_id:e}}function F(a,b){var d=b.threadKey.threadFbId,e=d==null?void 0:c("bs_caml_option").some(d);if(d==null){d=b.threadKey.otherUserFbId;var f=d==null?void 0:c("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:c("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:c("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];d=b.syncAction===0?c("bs_caml_option").some(c("MessengerGroupsSyncStatus").OPT_IN):b.syncAction===1?c("bs_caml_option").some(c("MessengerGroupsSyncStatus").OPT_OUT):void 0;if(e===void 0)return;if(d===void 0)return;if(f===void 0)return;a=k(a,c("bs_caml_option").valFromOption(f));if(a===void 0)return;f=b.syncedFbGroupId;return{action_type:"ma-type:groups-sync-metadata-update",actor_fbid:b.actorFbid.toString(),emoji_codepoints:b.emojiCodePoints,fb_group_id:f==null?null:f.toString(),groups_sync_action:c("bs_caml_option").valFromOption(d),other_user_fbid:null,source_surface:b.sourceSurface,thread_fbid:e.toString(),thread_id:a}}function G(a,b){var c=b.threadKey.threadFbId;if(c==null)return;a=k(a,{otherUserFbId:null,threadFbId:c});if(a!==void 0)return{action_type:"ma-type:description-changed",group_thread_description_string:b.threadDescription,other_user_fbid:null,thread_fbid:c.toString(),thread_id:a}}function H(a){return"#"+a.slice(2)}function I(a,b){var d=b.threadKey.threadFbId,e=d==null?void 0:c("bs_caml_option").some(d);if(d==null){d=b.threadKey.otherUserFbId;var f=d==null?void 0:c("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:c("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:c("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=k(a,c("bs_caml_option").valFromOption(f));if(d===void 0)return;a=b.fallbackColor!==""?H(b.fallbackColor):"";f=b.reactionPack;var g;if(f==null)g=[void 0,void 0];else{var h=f.reactionAssets;f=f.fontAsset;g=[h==null?void 0:h.map(function(a){return{keyframeAssetUri:a.keyframeAssetUri,reactionEmoji:a.reactionEmoji,reactionName:a.reactionName}}),f==null?void 0:f.assetUri]}h=g[1];f=g[0];g=b.gradientColors;if(!(g==null)&&g.length!==0){g=c("bs_belt_Array").map(g,H);return{action_type:"ma-type:update-thread-theme",footer_color:c("bs_caml_array").get(g,g.length-1|0),gradient_colors:g,header_color:c("bs_caml_array").get(g,0),other_user_fbid:null,reactionFont:h,reactions:f,solid_color:a,theme_id:b.themeId.toString(),thread_fbid:e.toString(),thread_id:d}}return{action_type:"ma-type:update-thread-theme",footer_color:a,gradient_colors:[],header_color:a,other_user_fbid:null,reactionFont:h,reactions:f,solid_color:a,theme_id:b.themeId.toString(),thread_fbid:e.toString(),thread_id:d}}function J(a,b,d){var e=b.pinnedMessage,f=l(b.threadKey.threadFbId,b.threadKey.otherUserFbId,b.actorFbid,a);f=f[1];var g=function(a){},h=function(a){d.contents={_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"error on fetching pinned message payload",TAG:1}};if(f===void 0){d.contents={_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"transform failed",TAG:1};return}f=k(a,c("bs_caml_option").valFromOption(f));if(f!==void 0)return t({actorFbid:b.actorFbid.toString(),pinnedMessage:e,threadId:f,viewerFBID:a},g,h);else{d.contents={_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"transform failed",TAG:1};return}}function K(a,b){var d=l(b.threadKey.threadFbId,b.threadKey.otherUserFbId,b.actorFbid,a),e=d[1];d=d[0];if(d===void 0)return;if(e===void 0)return;e=c("bs_caml_option").valFromOption(e);a=k(a,e);if(a!==void 0)return{action_type:"ma-type:unpin-message",actor_fbid:b.actorFbid.toString(),other_user_fbid:e.otherUserFbId===null?null:d,thread_fbid:e.threadFbId===null?null:d,thread_id:a,unpin_message_action:{message_id:b.pinnedMessage.pinnedMessageId}}}function L(a,b){var d=b.threadKey.threadFbId;if(d==null){var e=b.threadKey.otherUserFbId;e=e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]}else e=[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e===void 0)return;if(d===void 0)return;a=k(a,c("bs_caml_option").valFromOption(d));if(a!==void 0)return{action_type:"ma-type:change-pinned-status",is_pinned:b.isPinned,other_user_fbid:null,thread_fbid:e,thread_id:a,thread_pin_timestamp:b.timestamp}}function M(a,b){var d=b.threadKey.threadFbId,e=b.threadKey.otherUserFbId;e=d==null?e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]:[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e===void 0)return;if(d===void 0)return;a=k(a,c("bs_caml_option").valFromOption(d));if(a!==void 0)return{action_type:"ma-type:mutate_tags",messageId:b.messageId,other_user_fbid:null,tags_to_add:b.isSaved?["message:save"]:[],tags_to_delete:b.isSaved?[]:["message:save"],thread_fbid:e,thread_id:a}}function N(a,b){var c=b.threadKey.threadFbId;if(c==null)return;a=k(a,{otherUserFbId:null,threadFbId:c});if(a!==void 0)return{action_type:"ma-type:update-joinable-link",joinable_link:b.privateGroupLink,other_user_fbid:null,thread_fbid:c.toString(),thread_id:a}}function O(a){a=a.directives;if(a==null)return;a=c("bs_belt_Array").get(a,0);if(a===void 0)return;a=c("bs_caml_option").valFromOption(a).data;if(a==null)return;a=a.add_actions;if(a==null)return;var b=a.actions;if(b==null)return;b=c("bs_belt_Array").get(b,0);if(b===void 0)return;b=c("bs_caml_option").valFromOption(b).thread_key;if(b==null)return;var e=b.thread_fbid;b=b.other_user_fbid;if(e==null){if(b==null)return;b=b}else b=e;return{action_type:"ma-type:create-omni-m-suggestions",other_user_fbid:null,suggestions:a,thread_fbid:d("MercuryIDs").getThreadIDFromThreadFBID(d("FBIDForMercury").ofStringExn(b)),thread_id:b}}function P(a,b){var d=b.threadKey.threadFbId;if(d==null)return;a=k(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:"ma-type:promote-group-admins",other_user_fbid:null,promoted_admins:c("bs_belt_Array").map(b.promotedAdmins,function(a){return{admin_fbid:a.adminFbId.toString(),admin_type:a.adminType}}),thread_fbid:d.toString(),thread_id:a}}function Q(a,b){var c=b.threadKey.threadFbId,e=b.threadKey.otherUserFbId;if(c==null){if(e==null)return;var f=k(a,{otherUserFbId:e,threadFbId:null});if(f!==void 0)return{action_type:"ma-type:remove-message",author:d("MercuryIDs").getParticipantIDFromUserID(b.senderID),messageId:b.messageID,other_user_fbid:e.toString(),removed_timestamp:b.deletionTimestamp,thread_fbid:null,thread_id:f};else return}e=k(a,{otherUserFbId:null,threadFbId:c});if(e!==void 0)return{action_type:"ma-type:remove-message",author:d("MercuryIDs").getParticipantIDFromUserID(b.senderID),messageId:b.messageID,other_user_fbid:null,removed_timestamp:b.deletionTimestamp,thread_fbid:c.toString(),thread_id:e}}function R(a,b){var c=b.threadKey.otherUserFbId;if(c==null)return;a=k(a,{otherUserFbId:c,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:unsubscribe-status-update",other_user_fbid:null,page_unsubscribe_status:b.unSubscribeStatus,thread_fbid:c.toString(),thread_id:a}}function S(a,b){var c=b.threadKey.otherUserFbId;if(c==null)return;a=k(a,{otherUserFbId:c,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:blurred-image-status",blurred_image_uri:b.blurredImageUri,image_id:b.imageId,image_message_id:b.messageId,other_user_fbid:null,should_show:b.shouldShow,thread_fbid:c.toString(),thread_id:a}}function T(a,b){var c=b.threadKey.otherUserFbId;if(c==null)return;a=k(a,{otherUserFbId:c,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:is_pin_protected",is_pin_protected:b.isPinProtected,other_user_fbid:null,thread_fbid:c.toString(),thread_id:a}}function U(a,b){var c=b.threadKey.otherUserFbId;if(c==null)return;a=k(a,{otherUserFbId:c,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:update-connectivity-status",other_user_fbid:c.toString(),subtitle_type:b.subtitleType,thread_connectivity_status:b.threadConnectivityStatus,thread_fbid:c.toString(),thread_id:a}}function V(a,b){var c=b.threadkey.otherUserFbId;if(c==null)return;a=k(a,{otherUserFbId:c,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:ads_conversion_update",conversion_detection_data:{classifier:b.classifier,conversion_type:b.conversionType,currency_amount:b.currencyAmount,currency_code:b.currencyCode,icebreaker_key:b.icebreakerKey,icebreaker_message:b.icebreakerMessage,is_eligible:b.isEligible,page_reply:b.pageReply,shipping_provider:b.shippingProvider,timestamp:b.timestamp,tracking_number:b.trackingNumber,trigger_id:b.triggerId},other_user_fbid:c.toString(),thread_fbid:c.toString(),thread_id:a}}function W(a,b){if(b===void 0||b.threadkey===void 0)return;var c=b.threadkey.otherUserFbId;if(c==null)return;a=k(a,{otherUserFbId:c,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:suggested_reply_update",other_user_fbid:c.toString(),suggested_reply_data:{suggestion_content:b.suggestionContent,suggestion_type:b.suggestionType,trigger_id:b.triggerId,triggered_timestamp:b.triggeredTimestamp},thread_fbid:c.toString(),thread_id:a}}function X(a,b){if(b===void 0||b.threadkey===void 0)return;b=b.threadkey.otherUserFbId;if(b==null)return;a=k(a,{otherUserFbId:b,threadFbId:null});if(a!==void 0)return{action_type:"ma-type:handover-thread-to-human-agent",other_user_fbid:b.toString(),thread_fbid:b.toString(),thread_id:a}}function aa(a,b){var d=b.threadKey.threadFbId,e=d==null?void 0:c("bs_caml_option").some(d);if(d==null){d=b.threadKey.otherUserFbId;var f=d==null?void 0:c("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:c("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:c("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=k(a,c("bs_caml_option").valFromOption(f));if(d!==void 0)return{action_type:"ma-type:upade-secondary-language-body",messageId:b.messageId,other_user_fbid:null,secondary_language_body:b.secondaryLanguageBody,thread_fbid:e.toString(),thread_id:d}}var ba=function(a){return String.fromCharCode.apply(null,a)};function ca(a,b){b=JSON.parse(ba(b.payload));b=c("bs_js_json").classify(b);if(typeof b==="number")return{_0:"DeltaClientDelta",_1:"malformed payload",TAG:1};if(b.TAG!==2)return{_0:"DeltaClientDelta",_1:"malformed payload",TAG:1};b=b._0.deltas;if(b===void 0)return{_0:"DeltaClientDelta",_1:"client delta has no deltas",TAG:1};b=c("bs_js_json").classify(c("bs_caml_option").valFromOption(b));if(typeof b==="number")return{_0:"DeltaClientDelta",_1:"delta is not an array",TAG:1};if(b.TAG!==3)return{_0:"DeltaClientDelta",_1:"delta is not an array",TAG:1};b=c("bs_belt_Array").get(b._0,0);if(b===void 0)return{_0:"DeltaClientDelta",_1:"client delta is missing",TAG:1};b=c("bs_js_json").classify(c("bs_caml_option").valFromOption(b));if(typeof b==="number")return{_0:"DeltaClientDelta",_1:"client delta is not an object",TAG:1};if(b.TAG!==2)return{_0:"DeltaClientDelta",_1:"client delta is not an object",TAG:1};b=b._0;var e=!1,f={contents:{_0:void 0,TAG:2}},g=b.deltaMessageReaction;if(g!==void 0){e=!0;g=u(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaMessageReaction",j):f.contents={_0:"DeltaClientDelta.deltaMessageReaction",_1:"transform failed",TAG:1}}g=b.liveLocationData;if(g!==void 0&&!e){e=!0;g=w(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.liveLocationData",j):f.contents={_0:"DeltaClientDelta.liveLocationData",_1:"transform failed",TAG:1}}g=b.deltaUpdateGroupEventRSVPStatus;if(g!==void 0&&!e){e=!0;g=x(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdateGroupEventRSVPStatus",j):f.contents={_0:"DeltaClientDelta.deltaUpdateGroupEventRSVPStatus",_1:"transform failed",TAG:1}}g=b.deltaPageThreadFollowUpData;if(g!==void 0&&!e){e=!0;g=y(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPageThreadFollowUpData",j):f.contents={_0:"DeltaClientDelta.deltaPageThreadFollowUpData",_1:"transform failed",TAG:1}}g=b.deltaChangeViewerStatus;if(g!==void 0&&!e){e=!0;g=B(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaChangeViewerStatus",j):f.contents={_0:"DeltaClientDelta.deltaChangeViewerStatus",_1:"transform failed",TAG:1}}g=b.deltaMontageDirectExpire;if(g!==void 0&&!e){e=!0;g=C(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaMontageDirectExpire",j):f.contents={_0:"DeltaClientDelta.deltaMontageDirectExpire",_1:"transform failed",TAG:1}}g=b.deltaMessageReply;if(g!==void 0&&!e){e=!0;g=D(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaMessageReply",j):f.contents={_0:"DeltaClientDelta.deltaMessageReply",_1:"transform failed",TAG:1}}g=b.deltaUpdateGroupsSyncStatus;if(g!==void 0&&!e){e=!0;g=E(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdateGroupsSyncStatus",j):f.contents={_0:"DeltaClientDelta.deltaUpdateGroupsSyncStatus",_1:"transform failed",TAG:1}}g=b.deltaUpdateGroupsSyncMetadata;if(g!==void 0&&!e){e=!0;g=F(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdateGroupsSyncMetadata",j):f.contents={_0:"DeltaClientDelta.deltaUpdateGroupsSyncMetadata",_1:"transform failed",TAG:1}}g=b.deltaGroupThreadDescription;if(g!==void 0&&!e){e=!0;g=G(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaGroupThreadDescription",j):f.contents={_0:"DeltaClientDelta.deltaGroupThreadDescription",_1:"transform failed",TAG:1}}g=b.deltaUpdateThreadTheme;if(g!==void 0&&!e){e=!0;g=I(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdateThreadTheme",j):f.contents={_0:"DeltaClientDelta.deltaUpdateThreadTheme",_1:"transform failed",TAG:1}}g=b.deltaUpdateSavedMessage;if(g!==void 0&&!e){e=!0;g=M(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdateSavedMessage",j):f.contents={_0:"DeltaClientDelta.deltaUpdateSavedMessage",_1:"transform failed",TAG:1}}g=b.deltaUpdatePinnedThread;if(g!==void 0&&!e){e=!0;g=L(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdatePinnedThread",j):f.contents={_0:"DeltaClientDelta.deltaUpdatePinnedThread",_1:"transform failed",TAG:1}}g=b.deltaUpdatePinnedMessage;if(g!==void 0&&!e){g=c("bs_caml_option").valFromOption(g);e=!0;if(g.pinnedMessageAction===0)J(a,g,f);else{g=K(a,g);g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdatePinnedMessage",j):f.contents={_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"transform failed",TAG:1}}}g=b.deltaUpdatePrivateGroupJoinableLink;if(g!==void 0&&!e){e=!0;g=N(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaUpdatePrivateGroupJoinableLink",j):f.contents={_0:"DeltaClientDelta.deltaUpdatePrivateGroupJoinableLink",_1:"transform failed",TAG:1}}g=b.deltaOmniMDirectivesV2;if(g!==void 0&&!e){e=!0;g=O(c("bs_caml_option").valFromOption(g));if(g!==void 0){g=c("bs_caml_option").valFromOption(g);f.contents={_0:"DeltaClientDelta.deltaOmniMDirectivesV2",TAG:0};d("MSuggestionActions").saveAllSuggestions(g.thread_id,g.suggestions)}else f.contents={_0:"DeltaClientDelta.deltaOmniMDirectivesV2",_1:"transform failed",TAG:1}}g=b.deltaPromoteGroupThreadAdmin;if(g!==void 0&&!e){e=!0;g=P(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPromoteGroupThreadAdmin",j):f.contents={_0:"DeltaClientDelta.deltaPromoteGroupThreadAdmin",_1:"transform failed",TAG:1}}g=b.deltaRecallMessageData;if(g!==void 0&&!e){e=!0;g=Q(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaRecallMessageData",j):f.contents={_0:"DeltaClientDelta.deltaRecallMessageData",_1:"transform failed",TAG:1}}g=b.deltaPageUnSubscribeStatus;if(g!==void 0&&!e){e=!0;g=R(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPageUnSubscribeStatus",j):f.contents={_0:"DeltaClientDelta.deltaPageUnSubscribeStatus",_1:"transform failed",TAG:1}}g=b.deltaPageBlurredImageStatus;if(g!==void 0&&!e){e=!0;g=S(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPageBlurredImageStatus",j):f.contents={_0:"DeltaClientDelta.deltaPageBlurredImageStatus",_1:"transform failed",TAG:1}}g=b.deltaPaymentPinProtectionStatusData;if(g!==void 0){if(!e){e=!0;g=T(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPaymentPinProtectionStatusData",j):f.contents={_0:"DeltaClientDelta.deltaPaymentPinProtectionStatusData",_1:"transform failed",TAG:1}}}else e||(f.contents={_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(b).join(","),TAG:1});g=b.deltaThreadConnectivityStatusUpdate;if(g!==void 0){if(!e){e=!0;g=U(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaThreadConnectivityStatusUpdateData",j):f.contents={_0:"DeltaClientDelta.deltaThreadConnectivityStatusUpdateData",_1:"transform failed",TAG:1}}}else e||(f.contents={_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(b).join(","),TAG:1});g=b.deltaMessengerAdsConversionUpdate;if(g!==void 0){if(!e){e=!0;g=V(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaMessengerAdsConversionUpdate",j):f.contents={_0:"DeltaClientDelta.deltaMessengerAdsConversionUpdate",_1:"transform failed",TAG:1}}}else e||(f.contents={_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(b).join(","),TAG:1});g=b.deltaMessengerBusinessSuggestedReplyUpdate;if(g!==void 0){if(!e){e=!0;g=W(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaMessengerBusinessSuggestedReplyUpdate",j):f.contents={_0:"DeltaClientDelta.deltaMessengerBusinessSuggestedReplyUpdate",_1:"transform failed",TAG:1}}}else e||(f.contents={_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(b).join(","),TAG:1});g=b.deltaSecondaryLanguageBody;if(g!==void 0&&!e){e=!0;g=aa(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.secondaryLanguageBody",j):f.contents={_0:"DeltaClientDelta.secondaryLanguageBody",_1:"transform failed",TAG:1}}g=b.deltaPageThreadBizInboxTagsUpdate;if(g!==void 0&&!e){g=c("bs_caml_option").valFromOption(g);e=!0;g=z(a,g);g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPageThreadBizInboxTagsUpdate",j):f.contents={TAG:1,_0:"DeltaClientDelta.deltaPageThreadBizInboxTagsUpdate",_1:"transform failed"}}g=b.deltaPageThreadBizInboxSuggestedReplyUpdate;if(g!==void 0&&!e){g=g;e=!0;g=W(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaPageThreadBizInboxSuggestedReplyUpdate",j):f.contents={TAG:1,_0:"DeltaClientDelta.deltaPageThreadBizInboxSuggestedReplyUpdate",_1:"transform failed"}}g=b.deltaHandoverThreadToHumanAgentUpdate;if(g!==void 0){if(!e){e=!0;g=X(a,c("bs_caml_option").valFromOption(g));g!==void 0?r(a,c("bs_caml_option").valFromOption(g),"DeltaClientDelta.deltaHandoverThreadToHumanAgentUpdate",j):f.contents={_0:"DeltaClientDelta.deltaHandoverThreadToHumanAgentUpdate",_1:"transform failed",TAG:1}}}else e||(f.contents={_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(b).join(","),TAG:1});return f.contents}function da(a,b){var e=[],f=[],g=b.folders,h=0;g==null||g.length===0?h=1:c("bs_belt_Array").forEachU(g,function(a){e.push({action_id:null,action_type:"mga-type:mark-all-read",folder:d("MessengerState.bs").irisMapping[a],timestamp:parseInt(b.watermarkTimestamp,10)})});h===1&&c("bs_belt_Array").forEachU(b.threadKeys,function(d){var e=k(a,d);if(e===void 0)return;var g=parseInt(b.watermarkTimestamp,10);c("MercuryServerRequests").getForFBID(a).updateLastActionTimestamp(g);f.push({action_type:"ma-type:change_read_status",folder:"inbox",mark_as_read:!0,other_user_fbid:d.otherUserFbId,thread_fbid:d.threadFbId,thread_id:e,timestamp:g})});return[e,f]}function Y(a){if(a==null)return null;else return a.toString()}function Z(a){a=a.skipBumpThread;if(!(a==null)&&a)return j;else return{_0:void 0,TAG:1}}function $(a,b){var e;switch(b.TAG){case 0:var f=b._0,g=m(a,f);r(a,g,"deltaNewMessage",Z(f.messageMetadata));e={_0:void 0,TAG:2};break;case 1:g=b._0;r(a,Object.assign(m(a,g.newMessage),{action_type:"ma-type:replace-message",replaced_message_id:g.replacedMessageId}),"deltaReplaceMessage",j);e={_0:void 0,TAG:2};break;case 2:f=b._0;g=f.threadKey.otherUserFbId;var h;if(g==null){var i=f.threadKey.threadFbId;if(i==null)h=void 0;else{var l=c("MercuryThreadIDMap").getForFBID(a);l=l.getClientIDFromServerIDNow(i.toString());h=l==null?void 0:c("bs_caml_option").some(l)}}else{i=d("FBIDForMercury").ofString(g.toString());h=i!==void 0?c("bs_caml_option").some(d("MercuryIDs").getThreadIDFromUserID(c("bs_caml_option").valFromOption(i))):void 0}if(h!==void 0){l={};g=parseInt(f.deliveredWatermarkTimestampMs,10);l[c("bs_caml_option").valFromOption(h)]=g;c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[],delivery_receipts:l,newlyAddedClientIDs:{},pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaDeliveryReceipt",TAG:0}}else e={_0:"DeltaDeliveryReceipt",_1:"no thread id",TAG:1};break;case 3:i=da(a,b._0);f=i[1];h=i[0];h.length!==0&&c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[],global_actions:h,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});f.length!==0&&c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:f,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e=h.length===0&&f.length===0?{_0:"DeltaMarkRead",_1:"no local or global action",TAG:1}:{_0:"DeltaMarkRead",TAG:0};break;case 4:var n=b._0;g=c("bs_belt_Array").keepMapU(n.threadKeys,function(b){var d=k(a,b);if(d===void 0)return;var e=parseInt(n.watermarkTimestamp,10);c("MercuryServerRequests").getForFBID(a).updateLastActionTimestamp(e);return{action_type:"ma-type:change_read_status",folder:"inbox",mark_as_read:!1,other_user_fbid:b.otherUserFbId,thread_fbid:b.threadFbId,thread_id:d,timestamp:e}});c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:g,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaMarkUnread",TAG:0};break;case 5:l=b._0;r(a,Object.assign(m(a,l),{action_type:"ma-type:log-message",log_message_body:l.messageMetadata.adminText,log_message_data:{removed_participants:[d("MercuryIDs").getParticipantIDFromUserID(l.leftParticipantFbId)]},log_message_type:"log:unsubscribe"}),"DeltaParticipantLeftGroupThread",Z(l.messageMetadata));e={_0:void 0,TAG:2};break;case 6:i=b._0;r(a,Object.assign(m(a,i),{action_type:"ma-type:log-message",log_message_body:i.messageMetadata.adminText,log_message_data:{added_participants:c("bs_belt_Array").map(i.addedParticipants,function(a){return d("MercuryIDs").getParticipantIDFromUserID(a.userFbId)})},log_message_type:"log:subscribe"}),"DeltaParticipantsAddedToGroupThread",Z(i.messageMetadata));e={_0:void 0,TAG:2};break;case 7:h=b._0;r(a,Object.assign(m(a,h),{action_type:"ma-type:log-message",log_message_body:h.messageMetadata.adminText,log_message_data:{name:h.name},log_message_type:"log:thread-name"}),"DeltaThreadName",Z(h.messageMetadata));e={_0:void 0,TAG:2};break;case 8:f=b._0;g={action:parseInt(f.actionTimestampMs,10),watermark:parseInt(f.watermarkTimestampMs,10)};l=f.threadKey.otherUserFbId;i=l==null?c("bs_caml_option").nullable_to_opt(f.actorFbId):l.toString();h=f.threadKey.otherUserFbId;if(h==null){l=f.threadKey.threadFbId;f=l==null?void 0:l.toString()}else f=h.toString();if(i!==void 0)if(f!==void 0){l=c("MercuryThreadIDMap").getForFBID(a);h=l.getClientIDFromServerIDNow(f);if(h==null)e={_0:"DeltaReadReceipt",_1:"No clientID for serverID: "+f,TAG:1};else{l={};f={};i=d("MercuryIDs").getParticipantIDFromUserID(d("FBIDForMercury").ofStringExn(i));f[i]=g;l[h]=f;c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[],newlyAddedClientIDs:{},pinned_thread_ids:[],preprocessed:!0,roger:l});e={_0:"DeltaReadReceipt",TAG:0}}}else e={_0:"DeltaReadReceipt",_1:"serverID is invalid",TAG:1};else e={_0:"DeltaReadReceipt",_1:"userID is invalid",TAG:1};break;case 9:i=b._0;r(a,Object.assign(m(a,i),{action_type:"ma-type:log-message",log_message_body:i.messageMetadata.adminText,log_message_data:{message_type:i.type,untypedData:i.untypedData},log_message_type:"log:generic-admin-text",message_unsendability_status:d("MessageUnsendabilityStatus.bs").fromNullableString(i.messageMetadata.unsendType)}),"DeltaAdminTextMessage",Z(i.messageMetadata));e={_0:void 0,TAG:2};break;case 10:g=b._0;h=k(a,{otherUserFbId:g.threadKey.otherUserFbId,threadFbId:g.threadKey.threadFbId});f=h!==void 0?{action_type:"ma-type:delete-messages",message_ids:g.messageIds,other_user_fbid:Y(g.threadKey.otherUserFbId),thread_fbid:Y(g.threadKey.threadFbId),thread_id:h}:void 0;l=g.threadKey.threadFbId;i=g.folder;if(f!==void 0){h=c("bs_caml_option").valFromOption(f);l==null||i==null?(r(a,h,"DeltaMessageDelete",j),e={_0:void 0,TAG:2}):(i==="FOLDER_MONTAGE"?d("MontageActions").requestUpdate(l.toString()):r(a,h,"DeltaMessageDelete",j),e={_0:void 0,TAG:2})}else e={_0:"DeltaMessageDelete",_1:"transform failed",TAG:1};break;case 11:g=b._0;f=k(a,{otherUserFbId:g.threadKey.otherUserFbId,threadFbId:g.threadKey.threadFbId});if(f!==void 0){i=g.action;r(a,{action_type:"ma-type:change-archived-status",archived:i==null?!1:i==="ACTION_ARCHIVED",other_user_fbid:Y(g.threadKey.otherUserFbId),thread_fbid:Y(g.threadKey.threadFbId),thread_id:f},"DeltaThreadAction",j);e={_0:void 0,TAG:2}}else e={_0:"DeltaThreadAction",_1:"transform failed",TAG:1};break;case 12:l=c("bs_belt_Array").keepMapU(b._0.threadKeys,function(b){var c=k(a,b);if(c!==void 0)return{action_type:"ma-type:delete-thread",other_user_fbid:b.otherUserFbId,thread_fbid:b.threadFbId,thread_id:c}});c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:l,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaThreadDelete",TAG:0};break;case 13:h=b._0;i=k(a,{otherUserFbId:null,threadFbId:h.messageMetadata.threadKey.threadFbId});i!==void 0?(r(a,{action_id:null,action_type:"ma-type:remove_group_admins",other_user_fbid:null,removed_admin_ids:h.removedAdminFbIds,thread_fbid:Y(h.messageMetadata.threadKey.threadFbId),thread_id:i},"DeltaAdminRemovedFromGroupThread",j),e={_0:void 0,TAG:2}):e={_0:"DeltaAdminRemovedFromGroupThread",_1:"transform failed",TAG:1};break;case 14:g=b._0;f=k(a,g.threadKey);if(f!==void 0){l=[{action_type:"ma-type:change-mute-settings",mute_until:parseInt(g.expireTime,10),other_user_fbid:g.threadKey.otherUserFbId,thread_fbid:g.threadKey.threadFbId,thread_id:f}];c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:l,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaThreadMuteSettings",TAG:0}}else e={_0:"DeltaThreadMuteSettings",_1:"invalid thread ID",TAG:1};break;case 15:h=b._0;i=h.jsonBlob;if(i==null)e={_0:"DeltaPagesManagerEvent",_1:"no jsonBlob",TAG:1};else{try{g=JSON.parse(i)}catch(a){g={}}f=c("bs_js_json").classify(g);if(typeof f==="number"||f.TAG!==2)e={_0:"DeltaPagesManagerEvent",_1:"jsonBlob is not an object",TAG:1};else{l=f._0;i=l.type;if(i!==void 0){g=c("bs_js_json").classify(c("bs_caml_option").valFromOption(i));if(typeof g==="number"||g.TAG!==1)e={_0:"DeltaPagesManagerEvent",_1:"type is not a number",TAG:1};else if(g._0===1){f=l.flagData;if(f!==void 0){i=c("bs_js_json").classify(c("bs_caml_option").valFromOption(f));if(typeof i==="number"||i.TAG!==2)g=!1;else{l=i._0.state;if(l!==void 0){f=c("bs_js_json").classify(c("bs_caml_option").valFromOption(l));g=f===1}else g=!1}}else g=!1;i=k(a,h.threadKey);if(i!==void 0){l=[{action_type:"ma-type:change_flag",mark_as_flag:g,other_user_fbid:h.threadKey.otherUserFbId,thread_fbid:h.threadKey.threadFbId,thread_id:i}];c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:l,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaPagesManagerEvent",TAG:0}}else e={_0:"DeltaPagesManagerEvent",_1:"threadID is invalid",TAG:1}}else e={_0:"DeltaPagesManagerEvent",_1:"type is not pagesFlag",TAG:1}}else e={_0:"DeltaPagesManagerEvent",_1:"no type on jsonBlob",TAG:1}}}break;case 16:f=b._0;g=k(a,{otherUserFbId:null,threadFbId:f.messageMetadata.threadKey.threadFbId});g!==void 0?(r(a,{action_id:null,action_type:"ma-type:approval-mode",approval_mode:c("bs_js_null_undefined").fromOption(c("MessengerApprovalModeTypes")[f.mode]),other_user_fbid:null,thread_fbid:Y(f.messageMetadata.threadKey.threadFbId),thread_id:g},"DeltaApprovalMode",j),e={_0:void 0,TAG:2}):e={_0:"DeltaApprovalMode",_1:"transform failed",TAG:1};break;case 17:h=b._0;i=k(a,{otherUserFbId:h.messageMetadata.threadKey.otherUserFbId,threadFbId:h.messageMetadata.threadKey.threadFbId});if(i!==void 0){l=h.inviterFbId;if(l==null){f=h.recipientFbId;if(!(f==null)){g=d("MercuryIDs").getParticipantIDFromUserID(d("FBIDForMercury").ofStringExn(f));r(a,{action_id:null,action_type:"ma-type:approval-queue",added_id:h.action==="REQUESTED"?g:null,other_user_fbid:Y(h.messageMetadata.threadKey.otherUserFbId),removed_id:h.action==="REMOVED"?g:null,thread_fbid:Y(h.messageMetadata.threadKey.threadFbId),thread_id:i},"DeltaApprovalQueue",j)}}else{if(h.action==="REQUESTED"){f=h.requestSource;var q;if(f==null)q=0;else switch(f){case"ADD":q=0;break;case"JOIN_THROUGH_LINK":q=1;break;default:q=0}g={inviter:{id:l},request_source:q,request_timestamp:h.requestTimestamp,requester:{id:h.recipientFbId}}}else g=null;r(a,{action_id:null,action_type:"ma-type:approval-queue",added_group_id:g,other_user_fbid:Y(h.messageMetadata.threadKey.otherUserFbId),removed_group_id:h.action==="REMOVED"?h.recipientFbId:null,thread_fbid:Y(h.messageMetadata.threadKey.threadFbId),thread_id:i},"DeltaApprovalQueue",j)}e={_0:void 0,TAG:2}}else e={_0:"DeltaApprovalQueue",_1:"transform failed",TAG:1};break;case 18:f=b._0;r(a,m(a,f.deltaNewMessage),"DeltaGenieMessage",Z(f.deltaNewMessage.messageMetadata));e={_0:void 0,TAG:2};break;case 19:l=b._0;g=l.messageMetadata.threadKey;if(g==null)h=void 0;else{i=g.threadFbId;h=i==null?void 0:i}f=l.initiator;if(f==null)g=void 0;else{i=f.userFbId;g=i==null?void 0:i.toString()}f=k(a,{otherUserFbId:null,threadFbId:h});f!==void 0?(r(a,{action_type:"ma-type:update-rtc-call-data",call_state:l.callState,initiator_fbid:g,other_user_fbid:null,server_info_data:l.serverInfoData,thread_fbid:Y(h),thread_id:f},"DeltaRTCCallData",j),e={_0:void 0,TAG:2}):e={_0:"DeltaRTCCallData",_1:"transform failed",TAG:1};break;case 20:i=b._0;g=k(a,i.threadKey);if(g!==void 0){l=[{action_type:"ma-type:change-folder",new_folder:d("MessengerState.bs").irisMapping[i.folder],other_user_fbid:i.threadKey.otherUserFbId,thread_id:g}];c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:l,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaThreadFolder",TAG:0}}else e={_0:"DeltaThreadFolder",_1:"threadID is invalid",TAG:1};break;case 21:h=b._0;f=k(a,h.threadKey);if(f!==void 0){i=[{action_type:"ma-type:mutate_tags",messageId:h.messageId,tags_to_add:h.tagsToAdd,tags_to_delete:h.tagsToDelete,thread_id:f}];c("MercuryDispatcher").getForFBID(a).handleUpdate({actions:i,newlyAddedClientIDs:{},payload_source:"client_channel_message",pinned_thread_ids:[],preprocessed:!0});e={_0:"DeltaMutateMessageTags",TAG:0}}else e={_0:"DeltaMutateMessageTags",_1:"threadID is invalid",TAG:1};break;case 22:e=ca(a,b._0);break}switch(e.TAG){case 0:return o(e._0);case 1:return p(e._0,e._1);case 2:return}}function a(a,b){if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").NewMessage))return $(a,{_0:b,TAG:0});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ReplaceMessage))return $(a,{_0:b,TAG:1});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").DeliveryReceipt))return $(a,{_0:b,TAG:2});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").MarkRead))return $(a,{_0:b,TAG:3});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").MarkUnread))return $(a,{_0:b,TAG:4});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ParticipantLeftGroupThread))return $(a,{_0:b,TAG:5});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ParticipantsAddedToGroupThread))return $(a,{_0:b,TAG:6});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ThreadName))return $(a,{_0:b,TAG:7});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ReadReceipt))return $(a,{_0:b,TAG:8});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").AdminTextMessage))return $(a,{_0:b,TAG:9});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").MessageDelete))return $(a,{_0:b,TAG:10});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ThreadAction))return $(a,{_0:b,TAG:11});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ThreadDelete))return $(a,{_0:b,TAG:12});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").AdminRemovedFromGroupThread))return $(a,{_0:b,TAG:13});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ThreadMuteSettings))return $(a,{_0:b,TAG:14});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").PagesManagerEvent))return $(a,{_0:b,TAG:15});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ApprovalMode))return $(a,{_0:b,TAG:16});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ApprovalQueue))return $(a,{_0:b,TAG:17});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ClientPayload))return $(a,{_0:b,TAG:22});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").GenieMessage))return $(a,{_0:b,TAG:18});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").RtcCallData))return $(a,{_0:b,TAG:19});else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").MarkFolderSeen)){o("DeltaMarkFolderSeen");return d("MessengerState.bs").send(c("bs_caml_option").some(a),[{_0:{_0:b,TAG:70},TAG:0}])}else if(c("bs_caml_obj").caml_equal(b["class"],c("MercurySyncDeltaTypes").ThreadFolder))return $(a,{_0:b,TAG:20});else return}e=a;f=t;g.transform=e;g.fetchAndUpdatePinnedMessage=f}),98);
__d("MercuryTagHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.find(function(a){return a!=null?a.startsWith(b):!1});return a==null?a:a.substr(a.indexOf(":")+1)}f.get=a}),66);
__d("EmojiLikeUtils",["EmojiLikeConstants","MercuryTagHelper"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){!a.tags?a.tags=[h(b)]:a.tags.push(h(b));return a}function h(a){var b=d("EmojiLikeConstants").TAG_PREFIX_NEW;return b+":"+a}function b(a,b){!a.tags?a.tags=[i(b)]:a.tags.push(i(b));return a}function i(a){return d("EmojiLikeConstants").SOURCE_TAG_PREFIX+":"+a}function c(a){return j(a)!=null}function j(a){if(!a.tags)return null;var b=d("MercuryTagHelper").get(a.tags,d("EmojiLikeConstants").TAG_PREFIX_NEW);return b?b:d("MercuryTagHelper").get(a.tags,d("EmojiLikeConstants").TAG_PREFIX_OLD)}g.setEmojiSize=a;g.setEmojiSource=b;g.isEmojiLike=c;g.getEmojiSize=j}),98);
__d("MercuryAttachment",["cx","EmojiLikeUtils","MercuryAudioType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a===Object(a)},i="_1c_u",j=new Set(["animated_image","photo","video","third_party_sticker"]),k={getAttachIconClass:function(a){switch(a){case"attach:image":return"_y2-";case"attach:video":return"_y2_";case"attach:music":return"_y30";case"attach:voice":return"_y31";case"attach:text":return"_y32";case"attach:pdf":return"_1k9k";case"attach:richtext":return"_1k9l";case"attach:spreadsheet":return"_1k9p";case"attach:presentation":return"_1k9r";case"attach:archive":return"_1k9s";case"attach:ms:word":return"_y33";case"attach:ms:xls":return"_y34";case"attach:ms:ppt":return"_y35"}return"_y36"},getAttachIconClassByMime:function(a){return k.getAttachIconClass(k.getAttachTypeByMime(a))},getAttachTypeByMime:function(a){if(!a)return"attach:unknown";if(a.startsWith("image"))return"attach:image";else if(a.startsWith("video"))return"attach:video";else if(a.startsWith("audio"))return"attach:music";else if(a.startsWith("text/plain"))return"attach:text";else if(a=="text/pdf"||a=="application/pdf"||a=="application/vnd.pdf"||a=="application/x-pdf")return"attach:pdf";else if(a=="text/richtext"||a=="application/rtf"||a=="application/x-iwork-pages-sffkey")return"attach:richtext";else if(a=="text/csv"||a=="application/x-iwork-numbers-sffkey")return"attach:spreadsheet";else if(a=="application/x-iwork-keynote-sffkey")return"attach:presentation";else if(a=="application/vnd.ms-cab-compressed"||a=="application/x-7z-compressed"||a=="application/x-ace-compressed"||a=="application/x-apple-diskimage"||a=="application/x-compress"||a=="application/x-compressed"||a=="application/x-gzip"||a=="application/x-rar-compressed"||a=="application/x-tar"||a=="application/x-zip-compressed"||a=="application/zip")return"attach:archive";else if(a=="application/msword"||a.startsWith("application/vnd.ms-word")||a.startsWith("application/vnd.openxmlformats-officedocument.wordprocessingml"))return"attach:ms:word";else if(a.startsWith("application/vnd.ms-excel")||a.startsWith("application/vnd.openxmlformats-officedocument.spreadsheetml"))return"attach:ms:xls";else if(a.startsWith("application/vnd.ms-powerpoint")||a.startsWith("application/vnd.openxmlformats-officedocument.presentationml"))return"attach:ms:ppt";else return"attach:unknown"},convertRaw:function(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d.attach_type==="photo")b.push(d);else if(d.filename){var e=k.getAttachTypeByMime(d.filetype);d={attach_type:"file",name:d.filename,icon_type:e,url:""};b.push(d)}}return b},get:function(a){var c=[];a.attachments?c=a.attachments:a.raw_attachments&&(c=k.convertRaw(a.raw_attachments));var d=b("EmojiLikeUtils").getEmojiSize(a);d&&(c=c.concat([{attach_type:"emoji_like",size:d}]));if(!(a.attachments&&a.attachments.length>0)){if(a.sticker_id)return c.concat([{attach_type:"sticker"}]);if(a.preview_attachments&&a.preview_attachments.length>0)return c.concat(a.preview_attachments)}return c},resizeContain:function(a,b){var c=a.width/a.height,d=b.width/b.height;if(d<c)return{width:Math.ceil(Math.min(a.height*d,b.width)),height:Math.ceil(Math.min(a.height,b.height))};else return{width:Math.ceil(Math.min(a.width,b.width)),height:Math.ceil(Math.min(a.width/d,b.height))}},isBubblePreferred:function(a){return k.isFileAttachment(a)},isPhotoAttachment:function(a){return(k==null?void 0:k.getAttachTypeByMime)&&k.getAttachTypeByMime(a.mime_type)==="attach:pdf"?!1:!!(a.attach_type=="photo"||a.attach_type=="animated_image"||a.attach_type=="third_party_sticker"||a.attach_type=="file"&&a.preview_url)},isPhotoGroupAttachment:function(a){return j.has(a.attach_type)},isSinglePhotoGroupAttachment:function(a){return!!(a.attachments&&a.attachments.length===1&&a.attachments[0]&&k.isPhotoGroupAttachment(a.attachments[0]))},isVideoAttachment:function(a){return a.attach_type=="video"},isShareAttachment:function(a){return a.attach_type=="share"},isFileAttachment:function(a){return a.attach_type=="file"},isErrorAttachment:function(a){return a.attach_type=="error"},isStickerAttachment:function(a){return a.attach_type=="sticker"},isEmojiLikeAttachment:function(a){return a.attach_type==="emoji_like"},isVoiceAttachment:function(a){return!a.metadata?!1:a.metadata.type===b("MercuryAudioType").AudioClip||a.metadata.type===b("MercuryAudioType").VoiceMessageWithTranscript},hasAttribution:function(a){return!!a.app_attribution},isLightweightActionAttachment:function(a){return!!(k.isShareAttachment(a)&&a.share&&a.share.target!=null&&a.share.target.lwa_type!=null)},isSingleVideoAttachment:function(a){a=k.get(a).filter(h).filter(function(a){return k.isVideoAttachment(a)});return a.length===1},isSharedVideoAttachment:function(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&k.isSharedVideoAttachment(a.share.target.attachment))},isSharedVideoAttachmentMessage:function(a){a=k.get(a).filter(h).filter(function(a){return k.isSharedVideoAttachment(a)||k.isGenieSharedVideoAttachment(a)});return a.length===1},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(i);return a&&a.length?a[0]:b}};e.exports=k}),null);
__d("MercuryDisplayTimeFilterMessageRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderFilteredContent:function(a){if(a.is_filtered_content_bh)return g._("__JHASH__zH3Y3eDlxMz__JHASH__");if(a.is_filtered_content_account)return g._("__JHASH__7dTPmPxOQlf__JHASH__");if(a.is_filtered_content_quasar)return g._("__JHASH__ZCS10nAE6Mv__JHASH__");return a.is_filtered_content_invalid_app?g._("__JHASH__wqIrrYv8Hvd__JHASH__"):g._("__JHASH__z3hvkOPOzkg__JHASH__")}};e.exports=a}),null);
__d("MercuryMessageClientState",[],(function(a,b,c,d,e,f){a=Object.freeze({DO_NOT_SEND_TO_SERVER:"do_not_send_to_server",SEND_TO_SERVER:"send_to_server"});b=a;f["default"]=b}),66);
__d("MercuryMessagingLightswitch",[],(function(a,b,c,d,e,f){"use strict";a={guard:function(a){return},shouldRun:function(){return!1}};b=a;f["default"]=b}),66);
__d("MercurySingletonProvider",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$2=a}var c=a.prototype;c.getForFBID=function(a){this.$1[a]||(this.$1[a]=new this.$2(a));return this.$1[a]};c.get=function(){return this.getForFBID(b("CurrentUser").getID())};c.resetAll=function(){var a=this.$1;this.$1={};return a};a.mock=function(a){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};return a}();e.exports=a}),null);
__d("MessengerMQTTConnectionEvents",[],(function(a,b,c,d,e,f){"use strict";a="messenger-mqtt-delta";b="messenger-mqtt-stream-disconnect";c="messenger-mqtt-stream-connecting";d="messenger-mqtt-stream-connect";e="Connected";var g="Disconnected",h="Connecting",i="messenger-mqtt-typ";f.DELTA_EVENT=a;f.STREAM_DISCONNECT=b;f.STREAM_CONNECTING=c;f.STREAM_CONNECT=d;f.STATE_CONNECTED=e;f.STATE_DISCONNECTED=g;f.STATE_CONNECTING=h;f.TYP=i}),66);
__d("MercurySyncEventsProxy",["Arbiter","ChannelConstants","LogHistory","MercuryMessagingLightswitch","MercurySingletonProvider","MessengerMQTTConnectionEvents"],(function(a,b,c,d,e,f,g){"use strict";var h=d("LogHistory").getInstance("mercury_event_proxy"),i={DELTA:"DELTA",FAKE_DFF:"FAKE_DFF",FLOW:"FLOW",FLOW_REJECT:"FLOW_REJECT",INIT:"MercurySyncDeltaHandler/initSeqID",CONNECTED:"CONNECTED",RECONNECTING:"RECONNECTING",SHUTDOWN:"SHUTDOWN",TYP:"TYP"};a=function(){a.getArbiterTypeForFBID=function(a,b){return a+"/"+b};a.getForFBID=function(a){return j.getForFBID(a)};a.get=function(){return j.get()};function a(a){this.$2=[],this.$1=a,this.init()}var b=a.prototype;b.getArbiterType=function(b){return a.getArbiterTypeForFBID(this.$1,b)};b.init=function(){var a=this,b,e;this.$2.forEach(function(a){return c("Arbiter").unsubscribe(a)});this.$2=[(e=c("Arbiter")).subscribe((b=d("MessengerMQTTConnectionEvents")).DELTA_EVENT,function(b){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return c("Arbiter").inform.apply(c("Arbiter"),[a.getArbiterType(i.DELTA)].concat(e))}),e.subscribe(b.STREAM_CONNECT,function(b){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return c("Arbiter").inform.apply(c("Arbiter"),[a.getArbiterType(i.CONNECTED)].concat(e))}),e.subscribe(b.STREAM_DISCONNECT,function(b){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return c("Arbiter").inform.apply(c("Arbiter"),[a.getArbiterType(i.SHUTDOWN)].concat(e))}),e.subscribe(b.STREAM_CONNECTING,function(b){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return c("Arbiter").inform.apply(c("Arbiter"),[a.getArbiterType(i.RECONNECTING)].concat(e))}),e.subscribe(d("ChannelConstants").getArbiterType(d("ChannelConstants").FAKE_DFF),function(b){c("MercuryMessagingLightswitch").guard(function(){h.debug("fakedff",JSON.stringify({fbid:a.$1}))});for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];c("Arbiter").inform.apply(c("Arbiter"),[a.getArbiterType(i.FAKE_DFF)].concat(e))}),e.subscribe(b.TYP,function(b){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];c("Arbiter").inform.apply(c("Arbiter"),[a.getArbiterType(i.TYP)].concat(e))})]};return a}();a.Events=i;var j=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercuryThreadInfo",["MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return!!(a.is_subscribed&&(a.can_reply===void 0||a.can_reply)&&!a.has_email_participant&&!a.read_only)}function h(a){return a.mute_until==null?void 0:a.mute_until}function i(a){return d("MercuryIDs").tokenize(a.thread_id).type==="root"&&!a.timestamp}function b(a){a=h(a);return a!=null&&(a>Date.now()/1e3||a===-1)}function c(a){return a.mentions_mute_mode===1}function e(a){return a.reactions_mute_mode===1}function f(a){return!!(i(a)&&a.participants&&a.participants.length===0)}function j(a){return!!((a.can_reply||!a.cannot_reply_reason||a.cannot_reply_reason.toLowerCase()==="blocked"||a.cannot_reply_reason.toLowerCase()==="messenger_blockee")&&!a.has_email_participant&&!a.read_only&&a.is_subscribed)}function k(a){return!!(a.is_canonical_user&&(a.message_count===0||!a.timestamp))}g.canReply=a;g.getMuteSetting=h;g.isEmptyLocalThread=i;g.isMuted=b;g.areMentionsMuted=c;g.areReactionsMuted=e;g.isNewEmptyLocalThread=f;g.showSettingsMenu=j;g.isColdOpen=k}),98);
__d("MercuryThreadInformer",["ArbiterMixin","LogHistory","MercuryAssert","MercuryMessagingLightswitch","MercurySingletonProvider","mixin"],(function(a,b,c,d,e,f,g){"use strict";var h=d("LogHistory").getInstance("mercury_informer");a=function(a){babelHelpers.inheritsLoose(b,a);b.get=function(){return i.get()};b.getForFBID=function(a){return i.getForFBID(a)};function b(b){var c;c=a.call(this)||this;c.$MercuryThreadInformer1=b;c.$MercuryThreadInformer2={};c.$MercuryThreadInformer3={};c.$MercuryThreadInformer4={};c.$MercuryThreadInformer5={};c.$MercuryThreadInformer6=!1;c.$MercuryThreadInformer7=!1;c.$MercuryThreadInformer8=!1;c.$MercuryThreadInformer9=!1;c.$MercuryThreadInformer10={};c.$MercuryThreadInformer11={};c.$MercuryThreadInformer12={};c.$MercuryThreadInformer13={};c.$MercuryThreadInformer14={};c.$MercuryThreadInformer15=0;return c}var e=b.prototype;e.informNewMessage=function(a,b){this.inform("new-message",{threadID:a,message:b})};e.informNewLogMessage=function(a,b){this.inform("new-log-message",{threadID:a,message:b})};e.updatedThread=function(a){this.$MercuryThreadInformer3[a]=!0,this.$MercuryThreadInformer16()};e.updateError=function(a){this.$MercuryThreadInformer14=a,this.$MercuryThreadInformer16()};e.invalidatedThread=function(a){this.$MercuryThreadInformer4[a]=!0,this.$MercuryThreadInformer16()};e.deletedThread=function(a){this.$MercuryThreadInformer2[a]=!0,this.$MercuryThreadInformer16()};e.updatedThreadlist=function(){this.$MercuryThreadInformer6=!0,this.$MercuryThreadInformer16()};e.updatedUnseenState=function(){this.$MercuryThreadInformer7=!0,this.$MercuryThreadInformer16()};e.updatedUnseenTimestamp=function(){this.$MercuryThreadInformer8=!0,this.$MercuryThreadInformer16()};e.updatedUnreadState=function(){this.$MercuryThreadInformer9=!0,this.$MercuryThreadInformer16()};e.changedThreadReadState=function(a,b,c){(!this.$MercuryThreadInformer5[a]||this.$MercuryThreadInformer5[a].timestamp<c)&&(this.$MercuryThreadInformer5[a]={mark_as_read:b,timestamp:c}),this.$MercuryThreadInformer16()};e.receivedMessage=function(a){d("MercuryAssert").isThreadID(a.thread_id);var b=a.thread_id;this.$MercuryThreadInformer10[b]||(this.$MercuryThreadInformer10[b]=[]);this.$MercuryThreadInformer10[b].push(a);this.updatedThread(b)};e.reorderedMessages=function(a,b){this.$MercuryThreadInformer11[a]={source:b},this.$MercuryThreadInformer16()};e.updatedMessage=function(a,b,c){this.$MercuryThreadInformer12[a]||(this.$MercuryThreadInformer12[a]={}),this.$MercuryThreadInformer12[a][b]={source:c},this.updatedThread(a)};e.deletedMessage=function(a,b,c,d){this.$MercuryThreadInformer13[a]||(this.$MercuryThreadInformer13[a]={}),this.$MercuryThreadInformer13[a][b]={attachmentIDs:d,source:c},this.updatedThread(a)};e.synchronizeInforms=function(a){this.$MercuryThreadInformer15++;try{a()}catch(a){throw a}finally{this.$MercuryThreadInformer15--,this.$MercuryThreadInformer16()}};e.listen=function(a,b){return this.subscribe("threads-updated",function(c,d){d[a]&&b(a)})};e.$MercuryThreadInformer16=function(){if(!this.$MercuryThreadInformer15){var a=this.$MercuryThreadInformer2,b=this.$MercuryThreadInformer3,c=this.$MercuryThreadInformer4,d=this.$MercuryThreadInformer5,e=this.$MercuryThreadInformer6,f=this.$MercuryThreadInformer7,g=this.$MercuryThreadInformer8,h=this.$MercuryThreadInformer9,i=this.$MercuryThreadInformer10,j=this.$MercuryThreadInformer11,k=this.$MercuryThreadInformer12,l=this.$MercuryThreadInformer13,m=this.$MercuryThreadInformer14;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=!1;this.$MercuryThreadInformer7=!1;this.$MercuryThreadInformer8=!1;this.$MercuryThreadInformer9=!1;this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};this.$MercuryThreadInformer12={};this.$MercuryThreadInformer13={};this.$MercuryThreadInformer14={};var n=Object.keys(b);(n.length||e)&&this.inform("threadlist-updated",n);Object.keys(m).length&&this.$MercuryThreadInformer17("threadlist-error-updated",m);n.length&&this.$MercuryThreadInformer17("threads-updated",b);for(e in c){this.$MercuryThreadInformer17("thread-invalidated",c);break}for(m in d){this.$MercuryThreadInformer17("thread-read-changed",d);break}for(n in a){this.$MercuryThreadInformer17("threads-deleted",a);break}f&&this.$MercuryThreadInformer17("unseen-updated",null);g&&this.$MercuryThreadInformer17("unseen-timestamp-updated",null);h&&this.$MercuryThreadInformer17("unread-updated",null);for(b in i){this.$MercuryThreadInformer17("messages-received",i);break}for(e in j){this.$MercuryThreadInformer17("messages-reordered",j);break}for(c in k){this.$MercuryThreadInformer17("messages-updated",k);break}for(m in l){this.$MercuryThreadInformer17("messages-deleted",l);break}}};e.$MercuryThreadInformer17=function(a,b){a==="threads-updated"&&c("MercuryMessagingLightswitch").guard(function(){h.debug(a,JSON.stringify(b))}),this.inform(a,b)};return b}(c("mixin")(c("ArbiterMixin")));var i=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("ThreadConnectivityStatusGraphQLType.bs",[],(function(a,b,c,d,e,f){"use strict";a="UNCONNECTED";b="IMPLICIT_OR_TWO_WAY_MESSAGING";f.unconnected=a;f.implicitOrTwoWayMessaging=b}),66);
__d("getPageIDFromThreadID",["FBIDCheck","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MercuryIDs").getUserIDFromThreadID(a);return!a||d("FBIDCheck").isUser_deprecated(a)?null:a}g["default"]=a}),98);
__d("MessageRequestUtils",["CurrentUser","MercuryIDs","MessagingTag","ThreadConnectivityStatusGraphQLType.bs","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return(a.folder===c("MessagingTag").PENDING||a.folder===c("MessagingTag").OTHER)&&a.can_reply}function a(a){return a.folder===c("MessagingTag").OTHER}function b(a){return h(a)&&(d("MercuryIDs").isGroupChat(a.thread_id)||!!c("getPageIDFromThreadID")(a.thread_id)||c("CurrentUser").isWorkUser())}function e(a){var b;return!c("CurrentUser").isWorkUser()&&c("CurrentUser").getID()!==a.other_user_fbid&&((b=a.thread_connectivity_data)==null?void 0:b.connectivity_status)===d("ThreadConnectivityStatusGraphQLType.bs").unconnected&&((b=a.thread_connectivity_data)==null?void 0:b.first_sender_id)===a.other_user_fbid}function f(a){if(!a)return!1;if(h(a))return!1;return c("CurrentUser").isWorkUser()||d("MercuryIDs").isGroupChat(a.thread_id)?!0:((a=a.thread_connectivity_data)==null?void 0:a.connectivity_status)===d("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging}g.isMessageRequest=h;g.isFiltered=a;g.shouldShowComposerPendingActions=b;g.shouldShowUnconnectedThreadInfoText=e;g.shouldSendTypingIndicators=f}),98);
__d("MessengerThreadUtils.bs",["CurrentUser","FBIDForMercury","ImmutableObject","MercuryIDs","MessengerObjectAssociationType","MessengerParticipants.bs","bs_caml_obj"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return b.filter(function(b){return c("bs_caml_obj").caml_notequal(b,a)}).length<=1}function i(a,b,e,f){var g=d("MercuryIDs").tokenize(b),i=g.type;g=g.value;var j=e.find(function(b){return b!==a});j=j!==void 0?d("MessengerParticipants.bs").getNow(j):null;var k=c("CurrentUser").isWorkUser();k=!(j==null)&&k&&j.work_foreign_entity_info==null&&j.user_type==="user"?[!1,"recipients_invalid"]:[!0,null];return new(c("ImmutableObject"))({accessibility_label:null,admin_model_status:null,admins:{},approval_mode:0,approval_queue_ids:[],associated_object:null,biz_inbox_suggested_reply:null,biz_inbox_tags:[],can_reply:k[0],can_viewer_report:!1,cannot_reply_reason:k[1],comm_icon_type:[],comm_item_owners:null,comm_source_id:null,comm_status:null,composer_input_disabled:null,conversion_detection_data:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!1,description:null,ephemeral_ttl_mode:0,folder:"inbox",footer_color:null,game_id:null,gradient_colors:[],graphql_token:null,group_approval_queue:null,group_thread_subtype:null,groups_sync_status:null,has_email_participant:!1,has_montage:!1,header_color:null,image_src:null,is_archived:!1,is_business_page_active:!1,is_canonical:h(a,e),is_canonical_neo_user:!1,is_canonical_user:i==="user",is_from_weak_entry_point:!1,is_other_recipient_page:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,is_pin_protected:!1,is_pinned:!1,is_priority:!1,is_subscribed:!0,is_thread_currently_handled_by_ai_agent:!1,is_thread_queue_enabled:!1,joinable_link:null,joinable_mode:{link:"",mode:0},last_message_admin_text_type:null,last_message_id:null,last_message_timestamp:0,last_message_type:null,last_message_unsendability_status:null,last_read_timestamp:0,lightweight_event:null,lightweight_events:{},linked_mentorship_programs:null,marketplace_thread_data:null,mentions_mute_mode:0,message_count:0,mute_until:null,name:"",object_association_type:null,other_user_fbid:i==="user"?d("FBIDForMercury").ofStringExn(g):null,page_comm_item_id:null,page_thread_info:null,page_unsubscribe_status:!1,participant_add_mode:null,participants:Array.from(e),participants_event_status:null,pinned_messages:null,preloaded_participants:[],priority_score:null,reactions:void 0,reactions_mute_mode:0,read_only:!1,recipients_loadable:!1,reverse_gradients_for_radial:null,rtc_call_data:null,server_timestamp:0,snippet:"",snippet_attachments:[],snippet_sender:null,solid_color:null,square_image_src:null,subtitle:null,suggested_reply_data:null,theme_id:null,thread_associated_job_applications:null,thread_associated_page_admin:null,thread_connectivity_data:null,thread_fbid:null,thread_id:b,thread_pin_timestamp:null,thread_type:null,thread_unsendability_status:null,timestamp:0,unread_count:f==null?0:f,unread_mentions_count:0,work_associated_group:null})}function a(a,b,d,e){a=i(a,b,d,null);return c("ImmutableObject").set(a,{associated_object:e,joinable_mode:{link:"",mode:1},name:e.name,object_association_type:c("MessengerObjectAssociationType").GENERAL_CHAT})}g.isCanonicalFromInitialParticipants=h;g.createNewLocalThread=i;g.createNewLocalGroupGeneralThread=a}),98);
__d("bs_belt_Id",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function c(a){a=a.cmp;a=b("bs_curry").__2(a);return{cmp:a}}function d(a){return{cmp:a}}function e(a){a=b("bs_curry").__2(a);return{cmp:a}}function g(a){return a}function h(a){var c=a.hash;c=b("bs_curry").__1(c);a=a.eq;a=b("bs_curry").__2(a);return{hash:c,eq:a}}function i(a,b){return{hash:a,eq:b}}function j(a,c){a=b("bs_curry").__1(a);c=b("bs_curry").__2(c);return{hash:a,eq:c}}f.MakeComparableU=a;f.MakeComparable=c;f.comparableU=d;f.comparable=e;f.MakeHashableU=g;f.MakeHashable=h;f.hashableU=i;f.hashable=j}),null);
__d("ParticipantId.bs",["bs_belt_Id","bs_string"],(function(a,b,c,d,e,f){"use strict";a=b("bs_string").compare;c=b("bs_belt_Id").MakeComparable({cmp:a});d=c.cmp;f.cmp=d}),null);
__d("RemoteAction.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a){}function a(a){return{send:g}}function c(a,b){if(b.send===g){b.send=a;return b}}function d(a){a.send=g}function e(a,c){return b("bs_curry")._1(a.send,c)}f.create=a;f.subscribe=c;f.unsubscribe=d;f.send=e}),null);
__d("ThreadConnectivityStatus.bs",["ThreadConnectivityStatusGraphQLType.bs","bs_caml_obj"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("bs_caml_obj").caml_equal(a,0))return d("ThreadConnectivityStatusGraphQLType.bs").unconnected;else return d("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging}g.toGraphQLValue=a}),98);
__d("ThreadId.bs",["bs_belt_Id","bs_string"],(function(a,b,c,d,e,f){"use strict";a=b("bs_string").compare;c=b("bs_belt_Id").MakeComparable({cmp:a});d=c.cmp;f.cmp=d}),null);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{comment_id:{type:"IntOrPFBID"},reply_comment_id:{type:"IntOrPFBID"},comment_tracking:{type:"String"},idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},story_title:{type:"String"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},topics:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_fundraiser_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},work_learning_entry_point:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},hoist_pending_member_ids_suggested_order:{type:"FBIDKeyset"},hashtags:{type:"Exists",defaultValue:!1},sale_post_id:{type:"FBID"},exp:{type:"String"},invite_short_link_key:{type:"String"},member_modal:{type:"Bool",defaultValue:!1},onboarding:{type:"Enum",enumType:1},email_type:{type:"Enum",enumType:1},link_type:{type:"Enum",enumType:1},module_type:{type:"Enum",enumType:1},user_id:{type:"FBID"}})}),null);
__d("bs_belt_SortArray",["bs_belt_Array","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("bs_belt_internalAVLtree",["bs_belt_SortArray","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return a.h;else return 0}function h(a){if(a!==void 0)return{k:a.k,v:a.v,h:a.h,l:h(a.l),r:h(a.r)};else return a}function i(a,b,c,d){var e=g(a),f=g(d);return{k:b,v:c,h:e>=f?e+1|0:f+1|0,l:a,r:d}}function j(a,b){return{k:a,v:b,h:1,l:void 0,r:void 0}}function k(a,b){if(b!==void 0)if(a!==void 0)return a.h>=b.h;else return!1;else return!0}function a(a,b){if(a.v===b)return a;else return{k:a.k,v:b,h:a.h,l:a.l,r:a.r}}function l(a,b,c,d){var e=a!==void 0?a.h:0,f=d!==void 0?d.h:0;if(e>(f+2|0)){var h=a.l,j=a.r;if(g(h)>=g(j))return i(h,a.k,a.v,i(j,b,c,d));else return i(i(h,a.k,a.v,j.l),j.k,j.v,i(j.r,b,c,d))}if(f<=(e+2|0))return{k:b,v:c,h:e>=f?e+1|0:f+1|0,l:a,r:d};h=d.l;j=d.r;if(g(j)>=g(h))return i(i(a,b,c,h),d.k,d.v,j);else return i(i(a,b,c,h.l),h.k,h.v,i(h.r,d.k,d.v,j))}function m(a){while(!0){var b=a,c=b.l;if(c===void 0)return b.k;a=c;continue}}function c(a){if(a!==void 0)return b("bs_caml_option").some(m(a))}function d(a){if(a!==void 0)return m(a)}function n(a){while(!0){var b=a,c=b.r;if(c===void 0)return b.k;a=c;continue}}function e(a){if(a!==void 0)return b("bs_caml_option").some(n(a))}function o(a){if(a!==void 0)return n(a)}function p(a){while(!0){var b=a,c=b.l;if(c===void 0)return[b.k,b.v];a=c;continue}}function q(a){if(a!==void 0)return p(a)}function r(a){if(a!==void 0)return p(a)}function s(a){while(!0){var b=a,c=b.r;if(c===void 0)return[b.k,b.v];a=c;continue}}function t(a){if(a!==void 0)return s(a)}function aa(a){if(a!==void 0)return s(a)}function u(a,b,c){var d=a.l;if(d!==void 0)return l(u(d,b,c),a.k,a.v,a.r);else{b.contents=a.k;c.contents=a.v;return a.r}}function ba(a){return a===void 0}function v(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d,tl:c};a=d.l;continue}}function w(a,b){if(a===void 0)return;var c=w(a.l,b);if(c!==void 0)return c;c=a.k;var d=a.v,e=b(c,d);if(e)return[c,d];e=w(a.r,b);if(e!==void 0)return e}function ca(a,c){return w(a,b("bs_curry").__2(c))}function x(a,b){while(!0){var c=a;if(c===void 0)return;x(c.l,b);b(c.k,c.v);a=c.r;continue}}function da(a,c){return x(a,b("bs_curry").__2(c))}function y(a,b){if(a===void 0)return;var c=y(a.l,b),d=b(a.v);b=y(a.r,b);return{k:a.k,v:d,h:a.h,l:c,r:b}}function ea(a,c){return y(a,b("bs_curry").__1(c))}function z(a,b){if(a===void 0)return;var c=a.k,d=z(a.l,b),e=b(c,a.v);b=z(a.r,b);return{k:c,v:e,h:a.h,l:d,r:b}}function fa(a,c){return z(a,b("bs_curry").__2(c))}function A(a,b,c){while(!0){var d=b,e=a;if(e===void 0)return d;var f=e.k,g=e.v,h=e.l;e=e.r;b=c(A(h,d,c),f,g);a=e;continue}}function ga(a,c,d){return A(a,c,b("bs_curry").__3(d))}function B(a,b){while(!0){var c=a;if(c===void 0)return!0;if(!b(c.k,c.v))return!1;if(!B(c.l,b))return!1;a=c.r;continue}}function ha(a,c){return B(a,b("bs_curry").__2(c))}function C(a,b){while(!0){var c=a;if(c===void 0)return!1;if(b(c.k,c.v))return!0;if(C(c.l,b))return!0;a=c.r;continue}}function ia(a,c){return C(a,b("bs_curry").__2(c))}function D(a,b,c){if(a!==void 0)return l(D(a.l,b,c),a.k,a.v,a.r);else return j(b,c)}function E(a,b,c){if(a!==void 0)return l(a.l,a.k,a.v,E(a.r,b,c));else return j(b,c)}function F(a,b,c,d){if(a===void 0)return D(d,b,c);if(d===void 0)return E(a,b,c);var e=a.k,f=a.v,g=a.h,h=a.l,j=a.r,k=d.k,m=d.v,n=d.h,o=d.l,p=d.r;if(g>(n+2|0))return l(h,e,f,F(j,b,c,d));else if(n>(g+2|0))return l(F(a,b,c,o),k,m,p);else return i(a,b,c,d)}function G(a,b){if(a===void 0)return b;if(b===void 0)return a;var c={contents:b.k},d={contents:b.v};b=u(b,c,d);return F(a,c.contents,d.contents,b)}function ja(a,c,d,e){if(d!==void 0)return F(a,c,b("bs_caml_option").valFromOption(d),e);else return G(a,e)}function H(a,b){if(a===void 0)return;var c=a.k,d=a.v,e=H(a.l,b),f=b(c,d);a=H(a.r,b);if(f)return F(e,c,d,a);else return G(e,a)}function ka(a,c){return H(a,b("bs_curry").__2(c))}function I(a,c){if(a===void 0)return;var d=a.k,e=a.v,f=I(a.l,c);e=c(d,e);a=I(a.r,c);if(e!==void 0)return F(f,d,b("bs_caml_option").valFromOption(e),a);else return G(f,a)}function la(a,c){return I(a,b("bs_curry").__2(c))}function J(a,b){if(a===void 0)return[void 0,void 0];var c=a.k,d=a.v,e=J(a.l,b),f=e[1];e=e[0];var g=b(c,d);a=J(a.r,b);b=a[1];a=a[0];if(g)return[F(e,c,d,a),G(f,b)];else return[G(e,a),F(f,c,d,b)]}function ma(a,c){return J(a,b("bs_curry").__2(c))}function K(a){var b=a.l;a=a.r;b=b!==void 0?K(b):0;a=a!==void 0?K(a):0;return(1+b|0)+a|0}function L(a){if(a!==void 0)return K(a);else return 0}function M(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;var e=d.k,f=d.v,g=d.l;d=d.r;b={hd:[e,f],tl:M(d,c)};a=g;continue}}function na(a){return M(a,0)}function N(a){while(!0){var b=a;if(b===void 0)return;var c=b.l;b=b.r;var d=g(c)-g(b)|0;if(!(d<=2&&d>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLtree.ml",373,4],Error:new Error()};N(c);a=b;continue}}function O(a,b,c){while(!0){var d=b,e=a,f=e.k,g=e.l;e=e.r;g=g!==void 0?O(g,d,c):d;c[g]=f;d=g+1|0;if(e===void 0)return d;b=d;a=e;continue}}function P(a,b,c){while(!0){var d=b,e=a,f=e.l,g=e.r;f=f!==void 0?P(f,d,c):d;c[f]=e.v;d=f+1|0;if(g===void 0)return d;b=d;a=g;continue}}function Q(a,b,c){while(!0){var d=b,e=a,f=e.l,g=e.k,h=e.r;f=f!==void 0?Q(f,d,c):d;c[f]=[g,e.v];d=f+1|0;if(h===void 0)return d;b=d;a=h;continue}}function oa(b){if(b===void 0)return[];var a=K(b);a=new Array(a);Q(b,0,a);return a}function pa(b){if(b===void 0)return[];var a=K(b);a=new Array(a);O(b,0,a);return a}function qa(b){if(b===void 0)return[];var a=K(b);a=new Array(a);P(b,0,a);return a}function R(a,b,c){switch(c){case 0:return;case 1:var d=a[b];return j(d[0],d[1]);case 2:d=a[b];var e=a[b-1|0];e=e;d=d;return{k:e[0],v:e[1],h:2,l:j(d[0],d[1]),r:void 0};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];f=f;d=d;e=e;return{k:d[0],v:d[1],h:2,l:j(e[0],e[1]),r:j(f[0],f[1])};default:d=c/2|0;e=R(a,b,d);f=a[b-d|0];a=R(a,(b-d|0)-1|0,(c-d|0)-1|0);return i(e,f[0],f[1],a)}}function S(a,b,c){switch(c){case 0:return;case 1:var d=a[b];return j(d[0],d[1]);case 2:d=a[b];var e=a[b+1|0];e=e;d=d;return{k:e[0],v:e[1],h:2,l:j(d[0],d[1]),r:void 0};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];f=f;d=d;e=e;return{k:d[0],v:d[1],h:2,l:j(e[0],e[1]),r:j(f[0],f[1])};default:d=c/2|0;e=S(a,b,d);f=a[b+d|0];a=S(a,(b+d|0)+1|0,(c-d|0)-1|0);return i(e,f[0],f[1],a)}}function ra(a){return S(a,0,a.length)}function T(a,b,c,d){var e=L(a),f=L(b);if(e===f){a=v(a,0);b=v(b,0);while(!0){var g=b,h=a;if(!h)return 0;if(!g)return 0;var i=g.hd,j=h.hd,k=c(j.k,i.k);if(k!==0)return k;k=d(j.v,i.v);if(k!==0)return k;b=v(i.r,g.tl);a=v(j.r,h.tl);continue}}else if(e<f)return-1;else return 1}function sa(a,c,d,e){return T(a,c,d,b("bs_curry").__2(e))}function U(a,b,c,d){var e=L(a),f=L(b);if(e===f){e=v(a,0);f=v(b,0);while(!0){a=f;b=e;if(!b)return!0;if(!a)return!0;var g=a.hd,h=b.hd;if(!(c(h.k,g.k)===0&&d(h.v,g.v)))return!1;f=v(g.r,a.tl);e=v(h.r,b.tl);continue}}else return!1}function ta(a,c,d,e){return U(a,c,d,b("bs_curry").__2(e))}function ua(c,d,a){while(!0){var e=c;if(e===void 0)return;var f=e.k;f=a(d,f);if(f===0)return b("bs_caml_option").some(e.v);c=f<0?e.l:e.r;continue}}function va(b,c,a){while(!0){var d=b;if(d===void 0)return;var e=d.k;e=a(c,e);if(e===0)return d.v;b=e<0?d.l:d.r;continue}}function wa(b,c,a){while(!0){var d=b;if(d!==void 0){var e=d.k;e=a(c,e);if(e===0)return d.v;b=e<0?d.l:d.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function xa(b,c,d,a){while(!0){var e=b;if(e===void 0)return d;var f=e.k;f=a(c,f);if(f===0)return e.v;b=f<0?e.l:e.r;continue}}function ya(b,c,a){while(!0){var d=b;if(d===void 0)return!1;var e=d.k;e=a(c,e);if(e===0)return!0;b=e<0?d.l:d.r;continue}}function V(a){var b=a.l;a.l=b.r;b.r=a;var c=g(a.l),d=g(a.r);a.h=(c>d?c:d)+1|0;c=g(b.l);d=a.h;b.h=(c>d?c:d)+1|0;return b}function W(a){var b=a.r;a.r=b.l;b.l=a;var c=g(a.l),d=g(a.r);a.h=(c>d?c:d)+1|0;c=g(b.r);d=a.h;b.h=(c>d?c:d)+1|0;return b}function za(a){var b=a.l;b=W(b);a.l=b;return V(a)}function Aa(a){var b=a.r;b=V(b);a.r=b;return W(a)}function X(a){var b=g(a.l),c=g(a.r);a.h=(b>c?b:c)+1|0;return a}function Y(a){var b=a.l,c=a.r,d=g(b),e=g(c);if(d>(2+e|0)){var f=b.l;b=b.r;if(k(f,b))return X(V(a));else return X(za(a))}if(e>(2+d|0)){f=c.l;b=c.r;if(k(b,f))return X(W(a));else return X(Aa(a))}a.h=(d>e?d:e)+1|0;return a}function Z(b,c,d,a){if(b===void 0)return j(c,d);var e=b.k;e=a(c,e);if(e===0){b.v=d;return b}var f=b.l,g=b.r;if(e<0){e=Z(f,c,d,a);b.l=e}else b.r=Z(g,c,d,a);return Y(b)}function Ba(c,a){var d=c.length;if(d===0)return;var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b[0],c[0])<0}),f;e>=0?f=S(c,0,e):(e=-e|0,f=R(c,e-1|0,e));for(e=e;e<d;++e){var g=c[e];f=Z(f,g[0],g[1],a)}return f}function $(a,b){var c=b.r,d=b.l;if(d!==void 0){b.l=$(a,d);return Y(b)}else{a.k=b.k;a.v=b.v;return c}}f.copy=h;f.create=i;f.bal=l;f.singleton=j;f.updateValue=a;f.minKey=c;f.minKeyUndefined=d;f.maxKey=e;f.maxKeyUndefined=o;f.minimum=q;f.minUndefined=r;f.maximum=t;f.maxUndefined=aa;f.removeMinAuxWithRef=u;f.isEmpty=ba;f.stackAllLeft=v;f.findFirstByU=w;f.findFirstBy=ca;f.forEachU=x;f.forEach=da;f.mapU=y;f.map=ea;f.mapWithKeyU=z;f.mapWithKey=fa;f.reduceU=A;f.reduce=ga;f.everyU=B;f.every=ha;f.someU=C;f.some=ia;f.join=F;f.concat=G;f.concatOrJoin=ja;f.keepSharedU=H;f.keepShared=ka;f.keepMapU=I;f.keepMap=la;f.partitionSharedU=J;f.partitionShared=ma;f.lengthNode=K;f.size=L;f.toList=na;f.checkInvariantInternal=N;f.fillArray=Q;f.toArray=oa;f.keysToArray=pa;f.valuesToArray=qa;f.fromSortedArrayAux=S;f.fromSortedArrayRevAux=R;f.fromSortedArrayUnsafe=ra;f.cmpU=T;f.cmp=sa;f.eqU=U;f.eq=ta;f.get=ua;f.getUndefined=va;f.getWithDefault=xa;f.getExn=wa;f.has=ya;f.fromArray=Ba;f.updateMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_MapDict",["bs_belt_internalAVLtree","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g;function h(c,d,e,a){if(c===void 0)return b("bs_belt_internalAVLtree").singleton(d,e);var f=c.k,g=a(d,f);if(g===0)return b("bs_belt_internalAVLtree").updateValue(c,e);var i=c.l,j=c.r;c=c.v;if(g<0)return b("bs_belt_internalAVLtree").bal(h(i,d,e,a),f,c,j);else return b("bs_belt_internalAVLtree").bal(i,f,c,h(j,d,e,a))}function i(c,d,e,a){if(c!==void 0){var f=c.k,g=a(d,f);if(g===0){var h=e(b("bs_caml_option").some(c.v));if(h!==void 0)return b("bs_belt_internalAVLtree").updateValue(c,b("bs_caml_option").valFromOption(h));h=c.l;var j=c.r;if(h===void 0)return j;if(j===void 0)return h;var k={contents:j.k},l={contents:j.v};j=b("bs_belt_internalAVLtree").removeMinAuxWithRef(j,k,l);return b("bs_belt_internalAVLtree").bal(h,k.contents,l.contents,j)}h=c.l;k=c.r;l=c.v;if(g<0){j=i(h,d,e,a);if(h===j)return c;else return b("bs_belt_internalAVLtree").bal(j,f,l,k)}g=i(k,d,e,a);if(k===g)return c;else return b("bs_belt_internalAVLtree").bal(h,f,l,g)}j=e(void 0);if(j!==void 0)return b("bs_belt_internalAVLtree").singleton(d,b("bs_caml_option").valFromOption(j));else return c}function a(c,d,e,a){return i(c,d,b("bs_curry").__1(e),a)}function j(c,d,a){var e=c.k,f=c.l,g=c.r,h=a(d,e);if(h===0){if(f===void 0)return g;if(g===void 0)return f;var i={contents:g.k},k={contents:g.v},l=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,i,k);return b("bs_belt_internalAVLtree").bal(f,i.contents,k.contents,l)}if(h<0){if(f===void 0)return c;i=j(f,d,a);if(i===f)return c;else return b("bs_belt_internalAVLtree").bal(i,e,c.v,g)}if(g===void 0)return c;k=j(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLtree").bal(f,e,c.v,k)}function c(b,c,a){if(b!==void 0)return j(b,c,a)}function d(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=h(b,f[0],f[1],a)}return b}function k(c,d,e,a){var f=c.k,g=c.v,h=c.l,i=c.r,j=a(d,f);if(j===0){e.contents=b("bs_caml_option").some(g);return[h,i]}if(j<0){if(h===void 0)return[void 0,c];j=k(h,d,e,a);return[j[0],b("bs_belt_internalAVLtree").join(j[1],f,g,i)]}if(i===void 0)return[c,void 0];j=k(i,d,e,a);return[b("bs_belt_internalAVLtree").join(h,f,g,j[0]),j[1]]}function e(b,c,a){if(b===void 0)return[[void 0,void 0],void 0];var d={contents:void 0};b=k(b,c,d,a);return[b,d.contents]}function l(c,d,e,a){if(c===void 0)if(d!==void 0)return b("bs_belt_internalAVLtree").keepMapU(d,function(a,c){return e(a,void 0,b("bs_caml_option").some(c))});else return;if(d===void 0)return b("bs_belt_internalAVLtree").keepMapU(c,function(a,c){return e(a,b("bs_caml_option").some(c),void 0)});if(c.h>=d.h){var f=c.k,g=c.v,h=c.l,i=c.r,j={contents:void 0},m=k(d,f,j,a);j=j.contents;h=l(h,m[0],e,a);g=e(f,b("bs_caml_option").some(g),j);j=l(i,m[1],e,a);return b("bs_belt_internalAVLtree").concatOrJoin(h,f,g,j)}i=d.k;m=d.v;h=d.l;f=d.r;g={contents:void 0};j=k(c,i,g,a);d=g.contents;c=l(j[0],h,e,a);g=e(i,d,b("bs_caml_option").some(m));h=l(j[1],f,e,a);return b("bs_belt_internalAVLtree").concatOrJoin(c,i,g,h)}function m(c,d,e,a){return l(c,d,b("bs_curry").__3(e),a)}function n(b,c,a){var d=c.length;if(b!==void 0){b=b;var e=0;while(!0){var f=e,g=b;if(f>=d)return g;var h=c[f];g=j(g,h,a);if(g===void 0)return g;e=f+1|0;b=g;continue}}}var o,p=(g=b("bs_belt_internalAVLtree")).isEmpty,q=g.has,r=g.cmpU,s=g.cmp,t=g.eqU,u=g.eq,v=g.findFirstByU,w=g.findFirstBy,x=g.forEachU,y=g.forEach,z=g.reduceU,A=g.reduce,B=g.everyU,C=g.every,D=g.someU,E=g.some,F=g.size,G=g.toList,H=g.toArray,I=g.fromArray,J=g.keysToArray,K=g.valuesToArray,L=g.minKey,M=g.minKeyUndefined,N=g.maxKey,O=g.maxKeyUndefined,P=g.minimum,Q=g.minUndefined,R=g.maximum,S=g.maxUndefined,T=g.get,U=g.getUndefined,V=g.getWithDefault,W=g.getExn,X=g.checkInvariantInternal,Y=g.keepSharedU,Z=g.keepShared,$=g.partitionSharedU,aa=g.partitionShared,ba=g.mapU,ca=g.map,da=g.mapWithKeyU;g=g.mapWithKey;f.empty=o;f.isEmpty=p;f.has=q;f.cmpU=r;f.cmp=s;f.eqU=t;f.eq=u;f.findFirstByU=v;f.findFirstBy=w;f.forEachU=x;f.forEach=y;f.reduceU=z;f.reduce=A;f.everyU=B;f.every=C;f.someU=D;f.some=E;f.size=F;f.toList=G;f.toArray=H;f.fromArray=I;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.checkInvariantInternal=X;f.remove=c;f.removeMany=n;f.set=h;f.updateU=i;f.update=a;f.mergeU=l;f.merge=m;f.mergeMany=d;f.keepU=Y;f.keep=Z;f.partitionU=$;f.partition=aa;f.split=e;f.mapU=ba;f.map=ca;f.mapWithKeyU=da;f.mapWithKey=g}),null);
__d("bs_belt_Map",["bs_belt_MapDict","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_MapDict").fromArray(a,c)}}function c(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_MapDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var a=c.cmp;c=b("bs_belt_MapDict").removeMany(c.data,d,a);return{cmp:a,data:c}}function e(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").set(c.data,d,e,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeMany(c.data,d,a)}}function h(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").updateU(c.data,d,e,a)}}function i(a,c,d){return h(a,c,b("bs_curry").__1(d))}function j(c,d){var a=c.cmp;c=b("bs_belt_MapDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function k(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeU(c.data,d.data,e,a)}}function l(a,c,d){return k(a,c,b("bs_curry").__3(d))}function m(a){return{cmp:a.cmp,data:void 0}}function n(a){return b("bs_belt_MapDict").isEmpty(a.data)}function o(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,c)}function p(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,b("bs_curry").__2(c))}function q(a,c){return b("bs_belt_MapDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_MapDict").forEachU(a.data,b("bs_curry").__2(c))}function s(a,c,d){return b("bs_belt_MapDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__3(d))}function u(a,c){return b("bs_belt_MapDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_MapDict").everyU(a.data,b("bs_curry").__2(c))}function w(a,c){return b("bs_belt_MapDict").someU(a.data,c)}function x(a,c){return b("bs_belt_MapDict").someU(a.data,b("bs_curry").__2(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__2(c))}function A(c,d){var a=c.cmp;c=b("bs_belt_MapDict").partitionU(c.data,d);return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__2(c))}function C(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapU(a.data,c)}}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapWithKeyU(a.data,c)}}function F(a,c){return E(a,b("bs_curry").__2(c))}function G(a){return b("bs_belt_MapDict").size(a.data)}function H(a){return b("bs_belt_MapDict").toList(a.data)}function I(a){return b("bs_belt_MapDict").toArray(a.data)}function J(a){return b("bs_belt_MapDict").keysToArray(a.data)}function K(a){return b("bs_belt_MapDict").valuesToArray(a.data)}function L(a){return b("bs_belt_MapDict").minKey(a.data)}function M(a){return b("bs_belt_MapDict").minKeyUndefined(a.data)}function N(a){return b("bs_belt_MapDict").maxKey(a.data)}function O(a){return b("bs_belt_MapDict").maxKeyUndefined(a.data)}function P(a){return b("bs_belt_MapDict").minimum(a.data)}function Q(a){return b("bs_belt_MapDict").minUndefined(a.data)}function R(a){return b("bs_belt_MapDict").maximum(a.data)}function S(a){return b("bs_belt_MapDict").maxUndefined(a.data)}function T(a,c){return b("bs_belt_MapDict").get(a.data,c,a.cmp)}function U(a,c){return b("bs_belt_MapDict").getUndefined(a.data,c,a.cmp)}function V(a,c,d){return b("bs_belt_MapDict").getWithDefault(a.data,c,d,a.cmp)}function W(a,c){return b("bs_belt_MapDict").getExn(a.data,c,a.cmp)}function X(a,c){return b("bs_belt_MapDict").has(a.data,c,a.cmp)}function Y(a){return b("bs_belt_MapDict").checkInvariantInternal(a.data)}function Z(a,c,d){return b("bs_belt_MapDict").eqU(a.data,c.data,a.cmp,d)}function aa(a,c,d){return Z(a,c,b("bs_curry").__2(d))}function $(a,c,d){return b("bs_belt_MapDict").cmpU(a.data,c.data,a.cmp,d)}function ba(a,c,d){return $(a,c,b("bs_curry").__2(d))}function ca(a){return a.data}function da(a){a=a.cmp;return{cmp:a}}function ea(a,b){return{cmp:a.cmp,data:b}}var fa,ga,ha;f.Int=fa;f.$$String=ga;f.Dict=ha;f.make=m;f.isEmpty=n;f.has=X;f.cmpU=$;f.cmp=ba;f.eqU=Z;f.eq=aa;f.findFirstByU=o;f.findFirstBy=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.size=G;f.toArray=I;f.toList=H;f.fromArray=a;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.remove=c;f.removeMany=d;f.set=e;f.updateU=h;f.update=i;f.mergeMany=g;f.mergeU=k;f.merge=l;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.split=j;f.mapU=C;f.map=D;f.mapWithKeyU=E;f.mapWithKey=F;f.getData=ca;f.getId=da;f.packIdData=ea;f.checkInvariantInternal=Y}),null);
__d("bs_belt_internalMapString",["bs_belt_SortArray","bs_belt_internalAVLtree","bs_caml","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g;function h(a,c,d){if(a===void 0)return b("bs_belt_internalAVLtree").singleton(c,d);var e=a.k;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);var f=a.v;if(c<e)return b("bs_belt_internalAVLtree").bal(h(a.l,c,d),e,f,a.r);else return b("bs_belt_internalAVLtree").bal(a.l,e,f,h(a.r,c,d))}function a(a,c){while(!0){var d=a;if(d===void 0)return;var e=d.k;if(c===e)return b("bs_caml_option").some(d.v);a=c<e?d.l:d.r;continue}}function c(a,b){while(!0){var c=a;if(c===void 0)return;var d=c.k;if(b===d)return c.v;a=b<d?c.l:c.r;continue}}function d(a,b){while(!0){var c=a;if(c!==void 0){var d=c.k;if(b===d)return c.v;a=b<d?c.l:c.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function e(a,b,c){while(!0){var d=a;if(d===void 0)return c;var e=d.k;if(b===e)return d.v;a=b<e?d.l:d.r;continue}}function i(a,b){while(!0){var c=a;if(c===void 0)return!1;var d=c.k;if(b===d)return!0;a=b<d?c.l:c.r;continue}}function j(a,c){if(a===void 0)return a;var d=a.k,e=a.l,f=a.r;if(c!==d)if(c<d)return b("bs_belt_internalAVLtree").bal(j(e,c),d,a.v,f);else return b("bs_belt_internalAVLtree").bal(e,d,a.v,j(f,c));if(e===void 0)return f;if(f===void 0)return e;d={contents:f.k};a={contents:f.v};c=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,d,a);return b("bs_belt_internalAVLtree").bal(e,d.contents,a.contents,c)}function k(a,c){var d=c.k,e=c.v,f=c.l,g=c.r;if(a===d)return[f,b("bs_caml_option").some(e),g];if(a<d){if(f===void 0)return[void 0,void 0,c];var h=k(a,f);return[h[0],h[1],b("bs_belt_internalAVLtree").join(h[2],d,e,g)]}if(g===void 0)return[c,void 0,void 0];h=k(a,g);return[b("bs_belt_internalAVLtree").join(f,d,e,h[0]),h[1],h[2]]}function l(a,b){if(b!==void 0)return k(a,b);else return[void 0,void 0,void 0]}function m(a,c,d){if(a!==void 0){if(a.h>=(c!==void 0?c.h:0)){var e=a.k,f=a.v,g=a.l,h=a.r,i=l(e,c);return b("bs_belt_internalAVLtree").concatOrJoin(m(g,i[0],d),e,d(e,b("bs_caml_option").some(f),i[1]),m(h,i[2],d))}}else if(c===void 0)return;g=c.k;e=c.v;f=c.l;h=c.r;i=l(g,a);return b("bs_belt_internalAVLtree").concatOrJoin(m(i[0],f,d),g,d(g,i[1],b("bs_caml_option").some(e)),m(i[2],h,d))}function n(a,c,d){return m(a,c,b("bs_curry").__3(d))}function o(a,c,d){while(!0){var e=c,f=a;if(!f)return 0;if(!e)return 0;var h=e.hd,i=f.hd,j=(g||(g=b("bs_caml"))).caml_string_compare(i.k,h.k);if(j!==0)return j;j=d(i.v,h.v);if(j!==0)return j;c=b("bs_belt_internalAVLtree").stackAllLeft(h.r,e.tl);a=b("bs_belt_internalAVLtree").stackAllLeft(i.r,f.tl);continue}}function p(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return o(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else if(e<f)return-1;else return 1}function q(a,c,d){return p(a,c,b("bs_curry").__2(d))}function r(c,d,a){while(!0){var e=d,f=c;if(!f)return!0;if(!e)return!0;var g=e.hd,h=f.hd;if(!(h.k===g.k&&a(h.v,g.v)))return!1;d=b("bs_belt_internalAVLtree").stackAllLeft(g.r,e.tl);c=b("bs_belt_internalAVLtree").stackAllLeft(h.r,f.tl);continue}}function s(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return r(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else return!1}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,c,d){if(a===void 0)return b("bs_belt_internalAVLtree").singleton(c,d);var e=a.k;if(c===e){a.k=c;a.v=d;return a}var f=a.l,g=a.r;if(c<e){e=u(f,c,d);a.l=e}else a.r=u(g,c,d);return b("bs_belt_internalAVLtree").balMutate(a)}function v(a){var c=a.length;if(c===0)return;var d=b("bs_belt_SortArray").strictlySortedLengthU(a,function(a,b){return a[0]<b[0]}),e;d>=0?e=b("bs_belt_internalAVLtree").fromSortedArrayAux(a,0,d):(d=-d|0,e=b("bs_belt_internalAVLtree").fromSortedArrayRevAux(a,d-1|0,d));for(d=d;d<c;++d){var f=a[d];e=u(e,f[0],f[1])}return e}var w,x,y;f.N=w;f.A=x;f.S=y;f.add=h;f.get=a;f.getUndefined=c;f.getExn=d;f.getWithDefault=e;f.has=i;f.remove=j;f.splitAux=k;f.split=l;f.mergeU=m;f.merge=n;f.compareAux=o;f.cmpU=p;f.cmp=q;f.eqAux=r;f.eqU=s;f.eq=t;f.addMutate=u;f.fromArray=v}),null);
__d("bs_belt_MapString",["bs_belt_internalAVLtree","bs_belt_internalMapString","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g,h;function i(a,c,d){if(a===void 0)return b("bs_belt_internalAVLtree").singleton(c,d);var e=a.k;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);var f=a.v;if(c<e)return b("bs_belt_internalAVLtree").bal(i(a.l,c,d),e,f,a.r);else return b("bs_belt_internalAVLtree").bal(a.l,e,f,i(a.r,c,d))}function j(a,c,d){if(a!==void 0){var e=a.k;if(c===e){var f=d(b("bs_caml_option").some(a.v));if(f!==void 0)return b("bs_belt_internalAVLtree").updateValue(a,b("bs_caml_option").valFromOption(f));f=a.l;var g=a.r;if(f===void 0)return g;if(g===void 0)return f;var h={contents:g.k},i={contents:g.v};g=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,h,i);return b("bs_belt_internalAVLtree").bal(f,h.contents,i.contents,g)}f=a.v;h=a.l;i=a.r;if(c<e){g=j(h,c,d);if(h===g)return a;else return b("bs_belt_internalAVLtree").bal(g,e,f,i)}g=j(i,c,d);if(i===g)return a;else return b("bs_belt_internalAVLtree").bal(h,e,f,g)}i=d(void 0);if(i!==void 0)return b("bs_belt_internalAVLtree").singleton(c,b("bs_caml_option").valFromOption(i));else return a}function a(a,c,d){return j(a,c,b("bs_curry").__1(d))}function k(a,c){var d=a.k,e=a.l,f=a.r;if(c===d){if(e===void 0)return f;if(f===void 0)return e;var g={contents:f.k},h={contents:f.v},i=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,g,h);return b("bs_belt_internalAVLtree").bal(e,g.contents,h.contents,i)}if(c<d){if(e===void 0)return a;g=k(e,c);if(g===e)return a;else return b("bs_belt_internalAVLtree").bal(g,d,a.v,f)}if(f===void 0)return a;h=k(f,c);return b("bs_belt_internalAVLtree").bal(e,d,a.v,h)}function c(a,b){if(a!==void 0)return k(a,b)}function d(a,b){var c=b.length;if(a!==void 0){a=a;var d=0;while(!0){var e=d,f=a;if(e>=c)return f;var g=b[e];f=k(f,g);if(f===void 0)return f;d=e+1|0;a=f;continue}}}function e(a,b){var c=b.length;a=a;for(var d=0;d<c;++d){var e=b[d];a=i(a,e[0],e[1])}return a}var l,m=(g=b("bs_belt_internalAVLtree")).isEmpty,n=(h=b("bs_belt_internalMapString")).has,o=h.cmpU,p=h.cmp,q=h.eqU,r=h.eq,s=g.findFirstByU,t=g.findFirstBy,u=g.forEachU,v=g.forEach,w=g.reduceU,x=g.reduce,y=g.everyU,z=g.every,A=g.someU,B=g.some,C=g.size,D=g.toList,E=g.toArray,F=h.fromArray,G=g.keysToArray,H=g.valuesToArray,I=g.minKey,J=g.minKeyUndefined,K=g.maxKey,L=g.maxKeyUndefined,M=g.minimum,N=g.minUndefined,O=g.maximum,P=g.maxUndefined,Q=h.get,R=h.getUndefined,S=h.getWithDefault,T=h.getExn,U=g.checkInvariantInternal,V=h.mergeU,W=h.merge,X=g.keepSharedU,Y=g.keepShared,Z=g.partitionSharedU,$=g.partitionShared;h=h.split;var aa=g.mapU,ba=g.map,ca=g.mapWithKeyU;g=g.mapWithKey;f.empty=l;f.isEmpty=m;f.has=n;f.cmpU=o;f.cmp=p;f.eqU=q;f.eq=r;f.findFirstByU=s;f.findFirstBy=t;f.forEachU=u;f.forEach=v;f.reduceU=w;f.reduce=x;f.everyU=y;f.every=z;f.someU=A;f.some=B;f.size=C;f.toList=D;f.toArray=E;f.fromArray=F;f.keysToArray=G;f.valuesToArray=H;f.minKey=I;f.minKeyUndefined=J;f.maxKey=K;f.maxKeyUndefined=L;f.minimum=M;f.minUndefined=N;f.maximum=O;f.maxUndefined=P;f.get=Q;f.getUndefined=R;f.getWithDefault=S;f.getExn=T;f.checkInvariantInternal=U;f.remove=c;f.removeMany=d;f.set=i;f.updateU=j;f.update=a;f.mergeU=V;f.merge=W;f.mergeMany=e;f.keepU=X;f.keep=Y;f.partitionU=Z;f.partition=$;f.split=h;f.mapU=aa;f.map=ba;f.mapWithKeyU=ca;f.mapWithKey=g}),null);
__d("bs_belt_internalAVLset",["bs_belt_SortArray","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return{v:a.v,h:a.h,l:g(a.l),r:g(a.r)};else return a}function h(a,b,c){var d=a!==void 0?a.h:0,e=c!==void 0?c.h:0;return{v:b,h:(d>=e?d:e)+1|0,l:a,r:c}}function i(a){return{v:a,h:1,l:void 0,r:void 0}}function j(a,b){if(b!==void 0)if(a!==void 0)return a.h>=b.h;else return!1;else return!0}function k(a,b,c){var d=a!==void 0?a.h:0,e=c!==void 0?c.h:0;if(d>(e+2|0)){var f=a.l,g=a.r;if(j(f,g))return h(f,a.v,h(g,b,c));else return h(h(f,a.v,g.l),g.v,h(g.r,b,c))}if(e<=(d+2|0))return{v:b,h:(d>=e?d:e)+1|0,l:a,r:c};f=c.l;g=c.r;if(j(g,f))return h(h(a,b,f),c.v,g);else return h(h(a,b,f.l),f.v,h(f.r,c.v,g))}function l(a){while(!0){var b=a,c=b.l;if(c===void 0)return b.v;a=c;continue}}function a(a){if(a!==void 0)return b("bs_caml_option").some(l(a))}function c(a){if(a!==void 0)return l(a)}function m(a){while(!0){var b=a,c=b.r;if(c===void 0)return b.v;a=c;continue}}function d(a){if(a!==void 0)return b("bs_caml_option").some(m(a))}function e(a){if(a!==void 0)return m(a)}function n(a,b){var c=a.l;if(c!==void 0)return k(n(c,b),a.v,a.r);else{b.contents=a.v;return a.r}}function o(a){return a===void 0}function p(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d,tl:c};a=d.l;continue}}function q(a,b){while(!0){var c=a;if(c===void 0)return;q(c.l,b);b(c.v);a=c.r;continue}}function r(a,c){return q(a,b("bs_curry").__1(c))}function s(a,b,c){while(!0){var d=b,e=a;if(e===void 0)return d;b=c(s(e.l,d,c),e.v);a=e.r;continue}}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,b){while(!0){var c=a;if(c===void 0)return!0;if(!b(c.v))return!1;if(!u(c.l,b))return!1;a=c.r;continue}}function v(a,c){return u(a,b("bs_curry").__1(c))}function w(a,b){while(!0){var c=a;if(c===void 0)return!1;if(b(c.v))return!0;if(w(c.l,b))return!0;a=c.r;continue}}function x(a,c){return w(a,b("bs_curry").__1(c))}function y(a,b){if(a!==void 0)return k(y(a.l,b),a.v,a.r);else return i(b)}function z(a,b){if(a!==void 0)return k(a.l,a.v,z(a.r,b));else return i(b)}function A(a,b,c){if(a===void 0)return y(c,b);if(c===void 0)return z(a,b);var d=a.h,e=c.h;if(d>(e+2|0))return k(a.l,a.v,A(a.r,b,c));else if(e>(d+2|0))return k(A(a,b,c.l),c.v,c.r);else return h(a,b,c)}function B(a,b){if(a===void 0)return b;if(b===void 0)return a;var c={contents:b.v};b=n(b,c);return A(a,c.contents,b)}function C(a,b){if(a===void 0)return[void 0,void 0];var c=a.v,d=C(a.l,b),e=d[1];d=d[0];var f=b(c);a=C(a.r,b);b=a[1];a=a[0];if(f)return[A(d,c,a),B(e,b)];else return[B(d,a),A(e,c,b)]}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a){var b=a.l;a=a.r;b=b!==void 0?E(b):0;a=a!==void 0?E(a):0;return(1+b|0)+a|0}function F(a){if(a!==void 0)return E(a);else return 0}function G(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d.v,tl:G(d.r,c)};a=d.l;continue}}function H(a){return G(a,0)}function I(a){while(!0){var b=a;if(b===void 0)return;var c=b.l;b=b.r;var d=(c!==void 0?c.h:0)-(b!==void 0?b.h:0)|0;if(!(d<=2&&d>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLset.ml",290,4],Error:new Error()};I(c);a=b;continue}}function J(a,b,c){while(!0){var d=b,e=a,f=e.v,g=e.l;e=e.r;g=g!==void 0?J(g,d,c):d;c[g]=f;d=g+1|0;if(e===void 0)return d;b=d;a=e;continue}}function K(a,b,c,d){while(!0){var e=a,f=e.v,g=e.l;e=e.r;g!==void 0&&K(g,b,c,d);if(d(f)){g=b.forward;c[g]=f;b.forward=g+1|0}else{g=b.backward;c[g]=f;b.backward=g-1|0}if(e===void 0)return;a=e;continue}}function L(a,b,c,d){while(!0){var e=b,f=a,g=f.v,h=f.l;f=f.r;h=h!==void 0?L(h,e,c,d):e;e=d(g)?(c[h]=g,h+1|0):h;if(f===void 0)return e;b=e;a=f;continue}}function M(b){if(b===void 0)return[];var a=E(b);a=new Array(a);J(b,0,a);return a}function N(a,b,c){switch(c){case 0:return;case 1:return i(a[b]);case 2:var d=a[b],e=a[b-1|0];return{v:e,h:2,l:i(d),r:void 0};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];return{v:d,h:2,l:i(e),r:i(f)};default:d=c/2|0;e=N(a,b,d);f=a[b-d|0];a=N(a,(b-d|0)-1|0,(c-d|0)-1|0);return h(e,f,a)}}function O(a,b,c){switch(c){case 0:return;case 1:return i(a[b]);case 2:var d=a[b],e=a[b+1|0];return{v:e,h:2,l:i(d),r:void 0};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];return{v:d,h:2,l:i(e),r:i(f)};default:d=c/2|0;e=O(a,b,d);f=a[b+d|0];a=O(a,(b+d|0)+1|0,(c-d|0)-1|0);return h(e,f,a)}}function P(a){return O(a,0,a.length)}function Q(a,b){if(a===void 0)return;var c=a.v,d=a.l,e=a.r,f=Q(d,b),g=b(c);b=Q(e,b);if(g)if(d===f&&e===b)return a;else return A(f,c,b);else return B(f,b)}function aa(a,c){return Q(a,b("bs_curry").__1(c))}function R(b,c){if(b===void 0)return;var a=E(b);a=new Array(a);b=L(b,0,a,c);return O(a,0,b)}function ba(a,c){return R(a,b("bs_curry").__1(c))}function S(b,c){if(b===void 0)return[void 0,void 0];var a=E(b),d=new Array(a),e=a-1|0,f={forward:0,backward:e};K(b,f,d,c);b=f.forward;return[O(d,0,b),N(d,e,a-b|0)]}function ca(a,c){return S(a,b("bs_curry").__1(c))}function da(b,c,a){while(!0){var d=b;if(d===void 0)return!1;var e=d.v;e=a(c,e);if(e===0)return!0;b=e<0?d.l:d.r;continue}}function T(a,b,c){var d=F(a),e=F(b);if(d===e){a=p(a,0);b=p(b,0);while(!0){var f=b,g=a;if(!g)return 0;if(!f)return 0;var h=f.hd,i=g.hd,j=c(i.v,h.v);if(j!==0)return j;b=p(h.r,f.tl);a=p(i.r,g.tl);continue}}else if(d<e)return-1;else return 1}function ea(a,b,c){return T(a,b,c)===0}function U(b,c,a){while(!0){var d=c,e=b;if(e===void 0)return!0;if(d===void 0)return!1;var f=e.v,g=e.l;e=e.r;var i=d.v,j=d.l;d=d.r;i=a(f,i);if(i===0){if(!U(g,j,a))return!1;c=d;b=e;continue}if(i<0){if(!U(h(g,f,void 0),j,a))return!1;b=e;continue}if(!U(h(void 0,f,e),d,a))return!1;b=g;continue}}function fa(c,d,a){while(!0){var e=c;if(e===void 0)return;var f=e.v,g=a(d,f);if(g===0)return b("bs_caml_option").some(f);c=g<0?e.l:e.r;continue}}function ga(b,c,a){while(!0){var d=b;if(d===void 0)return;var e=d.v,f=a(c,e);if(f===0)return e;b=f<0?d.l:d.r;continue}}function ha(b,c,a){while(!0){var d=b;if(d!==void 0){var e=d.v,f=a(c,e);if(f===0)return e;b=f<0?d.l:d.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function V(a){var b=a.l;a.l=b.r;b.r=a;var c=a.l;c=c!==void 0?c.h:0;var d=a.r;d=d!==void 0?d.h:0;a.h=(c>d?c:d)+1|0;c=b.l;d=c!==void 0?c.h:0;c=a.h;b.h=(d>c?d:c)+1|0;return b}function W(a){var b=a.r;a.r=b.l;b.l=a;var c=a.l;c=c!==void 0?c.h:0;var d=a.r;d=d!==void 0?d.h:0;a.h=(c>d?c:d)+1|0;c=b.r;d=c!==void 0?c.h:0;c=a.h;b.h=(d>c?d:c)+1|0;return b}function ia(a){var b=a.l;b=W(b);a.l=b;return V(a)}function ja(a){var b=a.r;b=V(b);a.r=b;return W(a)}function X(a){var b=a.l;b=b!==void 0?b.h:0;var c=a.r;c=c!==void 0?c.h:0;a.h=(b>c?b:c)+1|0;return a}function Y(a){var b=a.l,c=a.r,d=b!==void 0?b.h:0,e=c!==void 0?c.h:0;if(d>(2+e|0)){var f=b.l;b=b.r;if(j(f,b))return X(V(a));else return X(ia(a))}if(e>(2+d|0)){f=c.l;b=c.r;if(j(b,f))return X(W(a));else return X(ja(a))}a.h=(d>e?d:e)+1|0;return a}function Z(a,b,c){if(b===void 0)return i(c);var d=b.v;d=a(c,d);if(d===0)return b;var e=b.l,f=b.r;if(d<0){d=Z(a,e,c);b.l=d}else b.r=Z(a,f,c);return Y(b)}function ka(c,a){var d=c.length;if(d===0)return;var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b,c)<0}),f;e>=0?f=O(c,0,e):(e=-e|0,f=N(c,e-1|0,e));for(e=e;e<d;++e)f=Z(a,f,c[e]);return f}function $(a,b){var c=b.l,d=b.r;if(c!==void 0){b.l=$(a,c);return Y(b)}else{a.v=b.v;return d}}f.copy=g;f.create=h;f.bal=k;f.singleton=i;f.minimum=a;f.minUndefined=c;f.maximum=d;f.maxUndefined=e;f.removeMinAuxWithRef=n;f.isEmpty=o;f.stackAllLeft=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.joinShared=A;f.concatShared=B;f.keepSharedU=Q;f.keepShared=aa;f.keepCopyU=R;f.keepCopy=ba;f.partitionSharedU=C;f.partitionShared=D;f.partitionCopyU=S;f.partitionCopy=ca;f.lengthNode=E;f.size=F;f.toList=H;f.checkInvariantInternal=I;f.fillArray=J;f.toArray=M;f.fromSortedArrayAux=O;f.fromSortedArrayRevAux=N;f.fromSortedArrayUnsafe=P;f.has=da;f.cmp=T;f.eq=ea;f.subset=U;f.get=fa;f.getUndefined=ga;f.getExn=ha;f.fromArray=ka;f.addMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_SetDict",["bs_belt_internalAVLset"],(function(a,b,c,d,e,f){"use strict";function g(c,d,a){if(c===void 0)return b("bs_belt_internalAVLset").singleton(d);var e=c.v,f=a(d,e);if(f===0)return c;var h=c.l,i=c.r;if(f<0){f=g(h,d,a);if(f===h)return c;else return b("bs_belt_internalAVLset").bal(f,e,i)}f=g(i,d,a);if(f===i)return c;else return b("bs_belt_internalAVLset").bal(h,e,f)}function h(c,d,a){if(c===void 0)return c;var e=c.v,f=c.l,g=c.r,i=a(d,e);if(i===0){if(f===void 0)return g;if(g===void 0)return f;var j={contents:g.v},k=b("bs_belt_internalAVLset").removeMinAuxWithRef(g,j);return b("bs_belt_internalAVLset").bal(f,j.contents,k)}if(i<0){j=h(f,d,a);if(j===f)return c;else return b("bs_belt_internalAVLset").bal(j,e,g)}k=h(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLset").bal(f,e,k)}function a(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=g(b,f,a)}return b}function c(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=h(b,f,a)}return b}function i(a,c,d){var e=c.v,f=c.l,g=c.r,h=a(d,e);if(h===0)return[f,g];if(h<0){if(f===void 0)return[void 0,c];h=i(a,f,d);return[h[0],b("bs_belt_internalAVLset").joinShared(h[1],e,g)]}if(g===void 0)return[c,void 0];h=i(a,g,d);return[b("bs_belt_internalAVLset").joinShared(f,e,h[0]),h[1]]}function j(a,c,d,e){var f=c.v,g=c.l,h=c.r,i=a(d,f);if(i===0){e.contents=!0;return[g,h]}if(i<0){if(g===void 0)return[void 0,c];i=j(a,g,d,e);return[i[0],b("bs_belt_internalAVLset").joinShared(i[1],f,h)]}if(h===void 0)return[c,void 0];i=j(a,h,d,e);return[b("bs_belt_internalAVLset").joinShared(g,f,i[0]),i[1]]}function d(b,c,a){if(b===void 0)return[[void 0,void 0],!1];var d={contents:!1};a=j(a,b,c,d);return[a,d.contents]}function k(c,d,a){if(c===void 0)return d;if(d===void 0)return c;var e=c.h,f=d.h;if(e>=f){if(f===1)return g(c,d.v,a);f=c.v;var h=c.l,j=c.r,l=i(a,d,f);return b("bs_belt_internalAVLset").joinShared(k(h,l[0],a),f,k(j,l[1],a))}if(e===1)return g(d,c.v,a);h=d.v;f=d.l;j=d.r;l=i(a,c,h);return b("bs_belt_internalAVLset").joinShared(k(l[0],f,a),h,k(l[1],j,a))}function l(c,d,a){if(c===void 0)return;if(d===void 0)return;var e=c.v,f=c.l;c=c.r;var g={contents:!1};d=j(a,d,e,g);f=l(f,d[0],a);c=l(c,d[1],a);if(g.contents)return b("bs_belt_internalAVLset").joinShared(f,e,c);else return b("bs_belt_internalAVLset").concatShared(f,c)}function m(c,d,a){if(c===void 0)return c;if(d===void 0)return c;var e=c.v,f=c.l;c=c.r;var g={contents:!1};d=j(a,d,e,g);f=m(f,d[0],a);c=m(c,d[1],a);if(g.contents)return b("bs_belt_internalAVLset").concatShared(f,c);else return b("bs_belt_internalAVLset").joinShared(f,e,c)}var n,o=(e=b("bs_belt_internalAVLset")).fromArray,p=e.fromSortedArrayUnsafe,q=e.isEmpty,r=e.has,s=e.subset,t=e.cmp,u=e.eq,v=e.forEachU,w=e.forEach,x=e.reduceU,y=e.reduce,z=e.everyU,A=e.every,B=e.someU,C=e.some,D=e.keepSharedU,E=e.keepShared,F=e.partitionSharedU,G=e.partitionShared,H=e.size,I=e.toList,J=e.toArray,K=e.minimum,L=e.minUndefined,M=e.maximum,N=e.maxUndefined,O=e.get,P=e.getUndefined,Q=e.getExn;e=e.checkInvariantInternal;f.empty=n;f.fromArray=o;f.fromSortedArrayUnsafe=p;f.isEmpty=q;f.has=r;f.add=g;f.mergeMany=a;f.remove=h;f.removeMany=c;f.union=k;f.intersect=l;f.diff=m;f.subset=s;f.cmp=t;f.eq=u;f.forEachU=v;f.forEach=w;f.reduceU=x;f.reduce=y;f.everyU=z;f.every=A;f.someU=B;f.some=C;f.keepU=D;f.keep=E;f.partitionU=F;f.partition=G;f.size=H;f.toList=I;f.toArray=J;f.minimum=K;f.minUndefined=L;f.maximum=M;f.maxUndefined=N;f.get=O;f.getUndefined=P;f.getExn=Q;f.split=d;f.checkInvariantInternal=e}),null);
__d("bs_belt_Set",["bs_belt_SetDict","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_SetDict").fromArray(a,c)}}function c(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_SetDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_SetDict").add(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function e(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").mergeMany(c.data,d,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").removeMany(c.data,d,a)}}function h(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").union(c.data,d.data,a)}}function i(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").intersect(c.data,d.data,a)}}function j(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").diff(c.data,d.data,a)}}function k(c,d){var a=c.cmp;return b("bs_belt_SetDict").subset(c.data,d.data,a)}function l(c,d){var a=c.cmp;c=b("bs_belt_SetDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function m(a){return{cmp:a.cmp,data:void 0}}function n(a){return b("bs_belt_SetDict").isEmpty(a.data)}function o(a,c){var d=a.cmp;return b("bs_belt_SetDict").cmp(a.data,c.data,d)}function p(a,c){return b("bs_belt_SetDict").eq(a.data,c.data,a.cmp)}function q(a,c){return b("bs_belt_SetDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_SetDict").forEachU(a.data,b("bs_curry").__1(c))}function s(a,c,d){return b("bs_belt_SetDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,c){return b("bs_belt_SetDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_SetDict").everyU(a.data,b("bs_curry").__1(c))}function w(a,c){return b("bs_belt_SetDict").someU(a.data,c)}function x(a,c){return b("bs_belt_SetDict").someU(a.data,b("bs_curry").__1(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_SetDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__1(c))}function A(a,c){c=b("bs_belt_SetDict").partitionU(a.data,c);a=a.cmp;return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__1(c))}function C(a){return b("bs_belt_SetDict").size(a.data)}function D(a){return b("bs_belt_SetDict").toList(a.data)}function E(a){return b("bs_belt_SetDict").toArray(a.data)}function F(a){return b("bs_belt_SetDict").minimum(a.data)}function G(a){return b("bs_belt_SetDict").minUndefined(a.data)}function H(a){return b("bs_belt_SetDict").maximum(a.data)}function I(a){return b("bs_belt_SetDict").maxUndefined(a.data)}function J(a,c){return b("bs_belt_SetDict").get(a.data,c,a.cmp)}function K(a,c){return b("bs_belt_SetDict").getUndefined(a.data,c,a.cmp)}function L(a,c){return b("bs_belt_SetDict").getExn(a.data,c,a.cmp)}function M(a,c){return b("bs_belt_SetDict").has(a.data,c,a.cmp)}function N(a,c){return{cmp:c.cmp,data:b("bs_belt_SetDict").fromSortedArrayUnsafe(a)}}function O(a){return a.data}function P(a){a=a.cmp;return{cmp:a}}function Q(a,b){return{cmp:a.cmp,data:b}}function R(a){return b("bs_belt_SetDict").checkInvariantInternal(a.data)}var S,T,U;f.Int=S;f.$$String=T;f.Dict=U;f.make=m;f.fromArray=a;f.fromSortedArrayUnsafe=N;f.isEmpty=n;f.has=M;f.add=d;f.mergeMany=e;f.remove=c;f.removeMany=g;f.union=h;f.intersect=i;f.diff=j;f.subset=k;f.cmp=o;f.eq=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.size=C;f.toArray=E;f.toList=D;f.minimum=F;f.minUndefined=G;f.maximum=H;f.maxUndefined=I;f.get=J;f.getUndefined=K;f.getExn=L;f.split=l;f.checkInvariantInternal=R;f.getData=O;f.getId=P;f.packIdData=Q}),null);
__d("MessengerState.bs",["invariant","Arbiter","ChannelConstants","ChatConfig","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","FBIDForMercury","FBJSON","ImmutableObject","JSSet.bs","MWChatDeleteMessageEventEmitter","MercuryAssert","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryFilters.bs","MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercuryMessageIDs.bs","MercuryServerRequests","MercurySyncEventsProxy","MercuryThreadIDMap","MercuryThreadInfo","MercuryThreadInformer","MercuryThreadlistConstants","MercuryViewer","MessageRequestUtils","MessagingTag","MessengerDesktopNotifications","MessengerEnvironment","MessengerFolders.bs","MessengerGroupsSyncStatus","MessengerMessage.bs","MessengerPersonas.bs","MessengerSharedMediaActionsLoader","MessengerSharedPhotosVideosBaseData.bs","MessengerThreadCannotReplyReason.bs","MessengerThreadUtils.bs","PageCommItemStatus","ParticipantId.bs","RemoteAction.bs","RemovedMessageTombstoneContent","ThreadConnectivityStatus.bs","ThreadId.bs","TypingStates","URI","Utils.bs","XGroupsController","bs_array","bs_belt_Array","bs_belt_Map","bs_belt_MapString","bs_belt_Option","bs_belt_Set","bs_caml","bs_caml_array","bs_caml_obj","bs_caml_option","bs_curry","bs_js_null_undefined","bs_pervasives","cr:5285","gkx","immutable","qex","react","recoverableViolation","setTimeoutAcrossTransitions","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||b("react"),l=b("MessagingTag").IRIS_MAPPING;function m(a){var c={};b("bs_belt_Map").forEach(a,function(b,a){c[b]=a});return c}function a(a){return m(a.threads)}function n(a,c){return b("bs_js_null_undefined").fromOption(b("bs_belt_Map").get(a.threads,c))}function c(a){return a.fbid}function d(a){return a.deliveryReceipts}function e(a){return a.readReceiptsPerThread}function o(a){return a.ignoredIds}function aa(a){return a.blockedIds}function p(a){return a.pendingFolderUnseenCount}function ba(a){return a.typing}function q(a){return a.pendingReadStatusThreads}function r(a){return a.messages}function s(a){return a.localIDsMap}function ca(a){return a.messagesWithUploadsInFlight}function t(a){return a.threadlistOrderMap}function u(a){return a.pinnedThreads}function v(a){return a.montage}function da(a){return a.orderedMessageLists}function ea(a){return a.unreadCounts}function fa(a){return a.initialUnreadCounts}function ga(a){return a.unseenTimestamp}function ha(a){b("ChatReliabilityInstrumentation").logMESSAGE_RECEIVED(b("FBJSON").stringify({message_id:a.message_id,other_user_fbid:a.other_user_fbid,otid:a.offline_threading_id}))}function ia(a,c,d){d=d.reduce(b("bs_belt_Set").remove,c.reduce(b("bs_belt_Set").add,a.ignoredIds));if(d===a.ignoredIds)return a;else return{blockedIds:a.blockedIds,deliveryReceipts:a.deliveryReceipts,fbid:a.fbid,ignoredIds:d,initialUnreadCounts:a.initialUnreadCounts,localIDsMap:a.localIDsMap,messages:a.messages,messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,montage:a.montage,orderedMessageLists:a.orderedMessageLists,pendingFolderUnseenCount:a.pendingFolderUnseenCount,pendingReadStatusThreads:a.pendingReadStatusThreads,pinnedThreads:a.pinnedThreads,readReceiptsPerThread:a.readReceiptsPerThread,threadlistOrderMap:a.threadlistOrderMap,threads:a.threads,typing:a.typing,unreadCounts:a.unreadCounts,unseenTimestamp:a.unseenTimestamp}}var ja=function(a,b){delete a[b];return 0};function ka(a,c,d){var e=b("bs_belt_MapString").get(a,c);if(e===void 0)return a;e=b("bs_caml_option").valFromOption(e);var f=b("bs_belt_Map").get(e,d);if(f!==void 0)return b("bs_belt_MapString").set(a,c,b("bs_belt_Map").remove(e,d));else return a}function la(a,c){var d=c.thread_fbid;if(d==null){if(!(c.type==="typ"||c.type==="page_typing"))return null;c=b("FBIDForMercury").ofString(c.from.toString());if(c!==void 0)return b("MercuryIDs").getThreadIDFromUserID(b("bs_caml_option").valFromOption(c));else return null}c=b("MercuryThreadIDMap").getForFBID(a);return c.getClientIDFromServerIDNow(d.toString())}var ma=b("gkx")("1275193")?b("MercuryFilters.bs").getSupportedFilters().concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups,b("MercuryFilters.bs").named,b("MercuryFilters.bs").unnamed]):b("gkx")("1660458")?b("MercuryFilters.bs").getSupportedFilters().concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups,b("MercuryFilters.bs").unsyncedChat]):b("MercuryFilters.bs").getSupportedFilters().concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups]),na=b("MessengerFolders.bs").getSupportedFolders().concat(["spam","page_background"]);function oa(a){var b={};na.forEach(function(a){var c={};ma.forEach(function(a){c[a]={existingIDs:new Set(),reachedEnd:!1,threadlist:[]}});b[a]=c});return b}function pa(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.invalidatedThread(c)}function w(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.updatedThread(c)}function qa(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.deletedThread(c)}function ra(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.changedThreadReadState(c,d,e)}function x(a,c){var d=new Map();c.forEach(function(a,b){d.set(a,b)});return c.sort(function(c,e){var f=b("bs_belt_Map").get(a.threads,c),g=b("bs_belt_Map").get(a.threads,e);if(f!==void 0&&g!==void 0){g=b("bs_caml_option").valFromOption(g).timestamp-b("bs_caml_option").valFromOption(f).timestamp;if(g>0)return 1;else if(g<0)return-1;else return 0}f=d.get(c);g=d.get(e);return nullthrows(f==null?void 0:b("bs_caml_option").some(f))-nullthrows(g==null?void 0:b("bs_caml_option").some(g))|0})}function sa(a,c,d,e){a=a.threadlistOrderMap[d];if(a===void 0)return;d=a[e];if(d===void 0)return;var f=b("bs_caml_option").valFromOption(d);c.forEach(function(a){if(!f.existingIDs.has(a))return;f.existingIDs["delete"](a);a=f.threadlist.indexOf(a);f.threadlist.splice(a,1)})}function y(c,d,e,f){c=c!==void 0?c:function(a){return!0};var a=b("bs_belt_Map").get(d.threads,e);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);if(!b("bs_curry")._1(c,a))return d;c=b("ImmutableObject").set(a,f);a=b("bs_belt_Map").set(d.threads,e,c);w(d.fbid,e);return{blockedIds:d.blockedIds,deliveryReceipts:d.deliveryReceipts,fbid:d.fbid,ignoredIds:d.ignoredIds,initialUnreadCounts:d.initialUnreadCounts,localIDsMap:d.localIDsMap,messages:d.messages,messagesWithUploadsInFlight:d.messagesWithUploadsInFlight,montage:d.montage,orderedMessageLists:d.orderedMessageLists,pendingFolderUnseenCount:d.pendingFolderUnseenCount,pendingReadStatusThreads:d.pendingReadStatusThreads,pinnedThreads:d.pinnedThreads,readReceiptsPerThread:d.readReceiptsPerThread,threadlistOrderMap:d.threadlistOrderMap,threads:a,typing:d.typing,unreadCounts:d.unreadCounts,unseenTimestamp:d.unseenTimestamp}}function ta(c,a,d){var e=new Set(a.participants);Object.assign(a,{participants:Array.from(a.participants)});d.forEach(function(d){if(!e.has(d)){a.participants.push(d);if(b("bs_caml_obj").caml_equal(d,c)){Object.assign(a,{can_reply:!0,cannot_reply_reason:null,is_subscribed:!0});return}else return}})}var ua=b("XGroupsController");function va(a){var c=[b("MercuryFilters.bs").all];a.unread_count>0&&c.push(b("MercuryFilters.bs").unread);a.is_canonical||c.push(b("MercuryFilters.bs").groups);if(b("gkx")("1660458")){var d=a.groups_sync_status;!(d==null)&&b("bs_caml_obj").caml_equal(d,"OPT_IN")||c.push(b("MercuryFilters.bs").unsyncedChat)}if(b("gkx")("1275193"))if(a.name.length!==0){c.push(b("MercuryFilters.bs").named);return c}else{c.push(b("MercuryFilters.bs").unnamed);return c}else return c}function wa(a,c,d,e){na.forEach(function(b){if(b!==d)return sa(a,c,b,e)});var f=a.threadlistOrderMap[d];if(f!==void 0){f=f[e];if(f!==void 0){f=b("bs_caml_option").valFromOption(f);f=[f.threadlist,f.existingIDs]}else f=[[],new Set()]}else f=[[],new Set()];var g=f[1],h=f[0];c.forEach(function(a){if(!g.has(a)){g.add(a);h.push(a);return}});return[x(a,h),g]}function xa(a,c,d,e){c=b("gkx")("1275193")||b("gkx")("1660458")?c.filter(function(c){c=b("bs_belt_Map").get(a.threads,c);if(c===void 0)return!1;c=va(b("bs_caml_option").valFromOption(c));return c.some(function(a){return a===e})}):c;return wa(a,c,d,e)}function ya(a,c,d){if(d===void 0)return;var e=a.unreadCounts[c];if(e!==void 0){b("bs_caml_option").valFromOption(e).add(b("bs_caml_option").valFromOption(d));e=b("MercuryThreadInformer").getForFBID(a.fbid);e.updatedUnreadState();return}d=b("MercuryServerRequests").getForFBID(a.fbid);d.fetchUnreadThreadIDs(c)}var za=b("MessengerFolders.bs").getSupportedFolders().filter(function(a){return a!=="action:archived"});function Aa(a,c,d){if(d===void 0)return;var e=a.unreadCounts[c];if(e!==void 0){b("bs_caml_option").valFromOption(e)["delete"](b("bs_caml_option").valFromOption(d));e=b("MercuryThreadInformer").getForFBID(a.fbid);e.updatedUnreadState();return}d=b("MercuryServerRequests").getForFBID(a.fbid);d.fetchUnreadThreadIDs(c)}function Ba(c,a,d){var e=b("MessengerFolders.bs").getFromMeta(a);if(d!==e){za.includes(e)&&a.unread_count>0&&ya(c,e,b("bs_caml_option").some(a.thread_id));if(za.includes(d))return Aa(c,d,b("bs_caml_option").some(a.thread_id));else return}}function Ca(a,c,d,e,f){var g=b("gkx")("1275193"),h=b("gkx")("1660458"),i=a.threadlistOrderMap[c][d],j=i.existingIDs.has(e);!f&&(g||h)?xa(a,[e],c,d):wa(a,[e],c,d);if(!(!g&&!h||i.threadlist.length!==0))return;f=b("bs_caml_array").get(i.threadlist,i.threadlist.length-1|0)===e;if(!i.reachedEnd&&!j&&f)return sa(a,[e],c,d)}function Da(a,c,d){if(na.includes(c))if((c==="inbox"||c==="action:archived"||c==="pending")&&(b("gkx")("1275193")||b("gkx")("1660458")))return Ca(a,c,b("MercuryFilters.bs").unread,d,!0);else{wa(a,[d],c,b("MercuryFilters.bs").unread);return}}function Ea(c,a){var d=b("MessengerFolders.bs").getFromMeta(a);if(na.includes(d)){ma.forEach(function(b){return Ca(c,d,b,a.thread_id,!1)});return}}function Fa(c,d,e,f){var a=b("bs_belt_Map").get(c.threads,d);if(a===void 0)return c;a=b("bs_caml_option").valFromOption(a);var g=b("MessengerFolders.bs").getFromMeta(a);if(g!==e){if(f.TAG===0)f=a;else{var h=a.comm_status;f=h==null?b("ImmutableObject").set(a,{folder:e}):e==="other"?b("ImmutableObject").set(a,{comm_status:b("PageCommItemStatus").SPAM,folder:e}):e==="inbox"?b("ImmutableObject").set(a,{comm_status:b("PageCommItemStatus").TODO,folder:e}):b("ImmutableObject").set(a,{folder:e})}h=a.other_user_fbid;h=h==null?[]:e==="other"?[b("MercuryIDs").getParticipantIDFromUserID(h)]:[];var i=a.other_user_fbid;e=i==null?[]:e==="other"?[]:[b("MercuryIDs").getParticipantIDFromUserID(i)];i=ia(c,h,e);h=b("bs_belt_Map").set(i.threads,d,f);Ba(i,f,g);Ea(i,f);w(i.fbid,d);return{blockedIds:i.blockedIds,deliveryReceipts:i.deliveryReceipts,fbid:i.fbid,ignoredIds:i.ignoredIds,initialUnreadCounts:i.initialUnreadCounts,localIDsMap:i.localIDsMap,messages:i.messages,messagesWithUploadsInFlight:i.messagesWithUploadsInFlight,montage:i.montage,orderedMessageLists:i.orderedMessageLists,pendingFolderUnseenCount:i.pendingFolderUnseenCount,pendingReadStatusThreads:i.pendingReadStatusThreads,pinnedThreads:i.pinnedThreads,readReceiptsPerThread:i.readReceiptsPerThread,threadlistOrderMap:i.threadlistOrderMap,threads:h,typing:i.typing,unreadCounts:i.unreadCounts,unseenTimestamp:i.unseenTimestamp}}Ea(c,a);return c}function Ga(a){return a.some(function(a){if(a.startsWith("source:pages:auto_response"))return!0;else return a.startsWith("pages_comms_automated_responses")})}function z(a,b,c){if(c==null){var d=b.tags;d=d==null?[]:Ga(d)?["auto_responded"]:[]}else{c=c.filter(function(a){return String(a).toLowerCase()!==String("auto_responded")});b=b.tags;b==null||!Ga(b)?d=c:(c.push("auto_responded"),d=c)}return Object.assign(a,{biz_inbox_tags:d})}function Ha(a,c,d){d=c.is_filtered_content?b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(c):d!==void 0?d:c.body;var e=c.raw_attachments;e=!(e==null)&&e.length!==0?b("MercuryAttachment").convertRaw(e):c.attachments;var f=c.removed_timestamp;if(f==null){f=c.log_message_type;d={snippet:d,snippet_attachments:e,snippet_sender:f==null?c.author:null}}else d={snippet:b("RemovedMessageTombstoneContent").getTombstoneContentForSnippet(c.author),snippet_attachments:null,snippet_sender:null};return Object.assign(a,d)}function A(a,c,d){var e=a.event_title,f=a.event_time;a=a.event_location_name;return{creator_id:null,event_members:d!==void 0?b("bs_caml_option").valFromOption(d):c.event_members,event_time:f==null?c.event_time:parseInt(f,10),event_type:c.event_type,latitude:null,location_address:null,location_name:a==null?c.location_name:a,longitude:null,note:"",oid:c.oid,related_event:{id:""},repeat_mode:null,seconds_to_notify_before:0,status:null,title:e==null?c.title:e,track_rsvp:c.track_rsvp}}function Ia(b,a){var c={};Object.keys(b).forEach(function(a){c[a]=b[a]});c[a.guest_id]=a.guest_status;return c}var Ja=function(a,b){delete a[b];return 0},B=function(a,b){delete a[b];return 0};function C(a){var b={contents:-1},c={contents:null},d=Math.floor(Date.now()/1e3);Object.entries(a).forEach(function(a){a=a[1];var e=a.event_time;if(e>d&&(b.contents<0||b.contents>e)){b.contents=e;c.contents=a;return}});return c.contents}function Ka(d,a,c,e){c=c.log_message_data;if(c==null)return;var f=c.untypedData;if(c.message_type==="change_thread_nickname"){var g=a.custom_nickname;if(!(g==null)){g=Object.fromEntries(Object.entries(g));var h=f.nickname;h.trim().length>0?g[f.participant_id]=h:B(g,f.participant_id);Object.assign(a,{custom_nickname:g})}w(d,e)}else if(c.message_type==="change_thread_theme"){if(!b("ChatConfig").get("chat_tab_has_gradients")){h=f.theme_color;if(h==null)Object.assign(a,{footer_color:null,gradient_colors:[],header_color:null,solid_color:null});else if(h.length>0){g="#"+h.slice(2);Object.assign(a,{footer_color:g,gradient_colors:[g],header_color:g,solid_color:g})}else Object.assign(a,{footer_color:null,gradient_colors:[],header_color:null,solid_color:null});w(d,e)}}else if(f!==void 0)if(c.message_type==="lightweight_event_create"){var i={},j=f.event_creator_id;a.participants.forEach(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(!(a==null)){i[a]=b("bs_caml_obj").caml_equal(a,j)?"GOING":"INVITED";return}});h=Object.fromEntries(Object.entries(a.lightweight_events));g=f.event_time;g={event_members:i,event_time:g==null?0:parseInt(g,10),event_type:f.event_type,location_name:f.event_location_name,oid:f.event_id,title:f.event_title,track_rsvp:f.event_track_rsvp};Object.assign(a,{lightweight_event:g});h[f.event_id]=Object.assign({},g);Object.assign(a,{lightweight_events:h});w(d,e)}else if(c.message_type==="lightweight_event_update"||c.message_type==="lightweight_event_update_time"||c.message_type==="lightweight_event_update_title"||c.message_type==="lightweight_event_update_location"){g=a.lightweight_event;if(!(g==null)){h=Object.fromEntries(Object.entries(a.lightweight_events));g.oid===f.event_id&&Object.assign(a,{lightweight_event:A(f,g,b("bs_caml_option").some(g.event_members))});g=h[f.event_id];g!==void 0&&(h[f.event_id]=A(f,b("bs_caml_option").valFromOption(g)),Object.assign(a,{lightweight_events:h}))}w(d,e)}else if(c.message_type==="lightweight_event_rsvp"){g=Object.fromEntries(Object.entries(a.lightweight_events));h=a.lightweight_event;if(!(h==null)&&h.oid===f.event_id){var k=Ia(h.event_members,f);Object.assign(a,{lightweight_event:A(f,h,b("bs_caml_option").some(k))})}h=g[f.event_id];if(h!==void 0){k=b("bs_caml_option").valFromOption(h);h=Ia(k.event_members,f);g[f.event_id]=A(f,k,b("bs_caml_option").some(h));Object.assign(a,{lightweight_events:g})}w(d,e)}else if(c.message_type==="lightweight_event_delete"||c.message_type==="lightweight_event_notify"){k=Object.fromEntries(Object.entries(a.lightweight_events));Ja(k,f.event_id);Object.assign(a,{lightweight_event:C(k),lightweight_events:k});w(d,e)}}function La(a,c,d,e){if(b("CurrentUser").isWorkUser()&&b("gkx")("1179386")){var f=b("bs_belt_Map").get(a.threads,c);if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var g=f.pinned_messages;g=g==null?void 0:g.map(function(c){if(d.findIndex(function(a){return a===c.message_id})!==-1){b("gkx")("1921671")&&e&&a.messages["delete"](c.message_id);return{message:null,message_id:c.message_id,pinning_time:c.pinning_time}}else return c});if(g!==void 0){f=b("ImmutableObject").set(f,{pinned_messages:g});g=b("bs_belt_Map").set(a.threads,c,f);w(a.fbid,c);f=g}else f=a.threads}else f=a.threads;return{blockedIds:a.blockedIds,deliveryReceipts:a.deliveryReceipts,fbid:a.fbid,ignoredIds:a.ignoredIds,initialUnreadCounts:a.initialUnreadCounts,localIDsMap:a.localIDsMap,messages:a.messages,messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,montage:a.montage,orderedMessageLists:a.orderedMessageLists,pendingFolderUnseenCount:a.pendingFolderUnseenCount,pendingReadStatusThreads:a.pendingReadStatusThreads,pinnedThreads:a.pinnedThreads,readReceiptsPerThread:a.readReceiptsPerThread,threadlistOrderMap:a.threadlistOrderMap,threads:f,typing:a.typing,unreadCounts:a.unreadCounts,unseenTimestamp:a.unseenTimestamp}}else return a}function D(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.updatedMessage(c,d,b("bs_js_null_undefined").fromOption(e))}function Ma(c,a){c=b("MercuryThreadInformer").getForFBID(c);c.receivedMessage(a)}function Na(a,c,d){a=b("MercuryThreadInformer").getForFBID(a);a.reorderedMessages(c,d)}function Oa(a,c,d,e,f){a=b("MercuryThreadInformer").getForFBID(a);f=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(f==null?void 0:b("bs_caml_option").some(f),function(a){return b("bs_belt_Array").keepMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.message_file_fbid)})}),[]);b("MWChatDeleteMessageEventEmitter").emit(d);a.deletedMessage(c,d,b("bs_js_null_undefined").fromOption(e),f)}function Pa(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.deletedMessage(c,d,b("bs_js_null_undefined").fromOption(e),null)}var Qa=function(a,b){delete a[b];return 0};function E(c,a){var d=c.localIDsMap.get(a);return b("bs_caml_option").nullable_to_opt(c.messages.get(b("bs_belt_Option").getWithDefault(d==null?void 0:b("bs_caml_option").some(d),a)))}function Ra(a,c,d){a=a!==void 0?a:!1;d=b("bs_belt_Array").keepMap(d,function(a){return E(c,a)});if(a)return d.slice().reverse();else return d}function Sa(a,c){return b("bs_belt_Array").keepMap(c,function(b){return E(a,b)}).sort(function(a,c){return b("MessengerMessage.bs").compare(c,a)}).map(function(a){return a.message_id})}function F(a,b){return{blockedIds:a.blockedIds,deliveryReceipts:a.deliveryReceipts,fbid:a.fbid,ignoredIds:a.ignoredIds,initialUnreadCounts:a.initialUnreadCounts,localIDsMap:a.localIDsMap,messages:a.messages.set(b[0],b[1]),messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,montage:a.montage,orderedMessageLists:a.orderedMessageLists,pendingFolderUnseenCount:a.pendingFolderUnseenCount,pendingReadStatusThreads:a.pendingReadStatusThreads,pinnedThreads:a.pinnedThreads,readReceiptsPerThread:a.readReceiptsPerThread,threadlistOrderMap:a.threadlistOrderMap,threads:a.threads,typing:a.typing,unreadCounts:a.unreadCounts,unseenTimestamp:a.unseenTimestamp}}function Ta(b,a){b.localIDsMap.set(a.message_id,a.message_id);return{blockedIds:b.blockedIds,deliveryReceipts:b.deliveryReceipts,fbid:b.fbid,ignoredIds:b.ignoredIds,initialUnreadCounts:b.initialUnreadCounts,localIDsMap:b.localIDsMap,messages:b.messages,messagesWithUploadsInFlight:b.messagesWithUploadsInFlight,montage:b.montage,orderedMessageLists:b.orderedMessageLists,pendingFolderUnseenCount:b.pendingFolderUnseenCount,pendingReadStatusThreads:b.pendingReadStatusThreads,pinnedThreads:b.pinnedThreads,readReceiptsPerThread:b.readReceiptsPerThread,threadlistOrderMap:b.threadlistOrderMap,threads:b.threads,typing:b.typing,unreadCounts:b.unreadCounts,unseenTimestamp:b.unseenTimestamp}}var G=function(a,b){delete a[b];return 0};function H(c,d){var a=c.orderedMessageLists;Object.keys(d).forEach(function(e){var f=d[e];if(f===void 0)return;var g=f[0],h=g.limit,i=g.offset;g=a.get(g.threadID);if(g==null)return;g=g.messageIDs;if(g.length>=(i+h|0)){G(d,e);return b("bs_curry")._1(f[1],Ra(!0,c,g.slice(i,i+h|0)))}})}function Ua(d,c,e){var a=e[1],f=e[0];b("MessengerMessage.bs").finalizeRanges(a);var g=a.offline_threading_id;if(!(g==null)&&g!==a.message_id){d.localIDsMap.set(g,a.message_id);b("MercuryMessageIDs.bs").addServerID(g,a.message_id);g=a.threading_id;g==null||b("MercuryMessageIDs.bs").addServerID(g,a.message_id)}g=d.messages.has(f);var h=d.fbid,i=d.deliveryReceipts,j=d.readReceiptsPerThread,k=d.ignoredIds,l=d.blockedIds,m=d.pendingFolderUnseenCount,n=d.typing,o=d.threads,aa=d.pendingReadStatusThreads,p=d.messages.set(f,a),ba=d.localIDsMap,q=d.messagesWithUploadsInFlight,r=d.threadlistOrderMap,s=d.pinnedThreads,ca=d.montage,t=d.orderedMessageLists,u=d.unreadCounts,v=d.initialUnreadCounts;d=d.unseenTimestamp;l={blockedIds:l,deliveryReceipts:i,fbid:h,ignoredIds:k,initialUnreadCounts:v,localIDsMap:ba,messages:p,messagesWithUploadsInFlight:q,montage:ca,orderedMessageLists:t,pendingFolderUnseenCount:m,pendingReadStatusThreads:aa,pinnedThreads:s,readReceiptsPerThread:j,threadlistOrderMap:r,threads:o,typing:n,unreadCounts:u,unseenTimestamp:d};i=!1;if(!g){h=e[2].TAG===0?!1:!0;i=h}if(i){k=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.thread_id),function(a){return b("bs_caml_option").nullable_to_opt(t.get(a))}),{messageIDs:[],messageLoadingState:b("MercuryIDs").isLocalThread(a.thread_id)?{_0:void 0,TAG:1}:{_0:void 0,TAG:0}});v=a.thread_id;if(!(v==null)){ba=Sa(l,[f].concat(k.messageIDs.filter(function(c){return b("bs_caml_obj").caml_notequal(c,a.offline_threading_id)})));t.set(v,{messageIDs:ba,messageLoadingState:k.messageLoadingState})}H(l,c.messageCallbacks.contents)}return l}function I(b,c,a){b.messagesWithUploadsInFlight.set(c,a);return{blockedIds:b.blockedIds,deliveryReceipts:b.deliveryReceipts,fbid:b.fbid,ignoredIds:b.ignoredIds,initialUnreadCounts:b.initialUnreadCounts,localIDsMap:b.localIDsMap,messages:b.messages,messagesWithUploadsInFlight:b.messagesWithUploadsInFlight,montage:b.montage,orderedMessageLists:b.orderedMessageLists,pendingFolderUnseenCount:b.pendingFolderUnseenCount,pendingReadStatusThreads:b.pendingReadStatusThreads,pinnedThreads:b.pinnedThreads,readReceiptsPerThread:b.readReceiptsPerThread,threadlistOrderMap:b.threadlistOrderMap,threads:b.threads,typing:b.typing,unreadCounts:b.unreadCounts,unseenTimestamp:b.unseenTimestamp}}function Va(a,c){var d=c[1];c=c[0];var e=a.messagesWithUploadsInFlight.get(c);b("bs_belt_Option").isSome(e==null?void 0:b("bs_caml_option").some(e))||g(0,1777);a.messagesWithUploadsInFlight["delete"](c);if(e==null)return b("bs_pervasives").failwith("Message must exist to update");else return Object.assign(e,{audio_ids:d.audio_ids,client_state:b("MercuryMessageClientState").SEND_TO_SERVER,file_ids:d.file_ids,gif_ids:d.gif_ids,image_ids:d.image_ids,video_ids:d.video_ids})}function Wa(a,c){var d=c[1],e=c[0],f=a.orderedMessageLists.get(e);if(f==null)return a;var g=b("bs_belt_Array").keepMap(d,function(b){return E(a,b)}).map(function(a){return a.message_id}),h=Sa(a,f.messageIDs.filter(function(a){return g.indexOf(a)===-1}));a.orderedMessageLists.set(e,{messageIDs:h,messageLoadingState:f.messageLoadingState});Na(a.fbid,e,b("bs_js_null_undefined").fromOption(c[2]));h=La(a,e,d,!0);return{blockedIds:h.blockedIds,deliveryReceipts:h.deliveryReceipts,fbid:h.fbid,ignoredIds:h.ignoredIds,initialUnreadCounts:h.initialUnreadCounts,localIDsMap:h.localIDsMap,messages:h.messages,messagesWithUploadsInFlight:h.messagesWithUploadsInFlight,montage:h.montage,orderedMessageLists:h.orderedMessageLists,pendingFolderUnseenCount:h.pendingFolderUnseenCount,pendingReadStatusThreads:h.pendingReadStatusThreads,pinnedThreads:h.pinnedThreads,readReceiptsPerThread:h.readReceiptsPerThread,threadlistOrderMap:h.threadlistOrderMap,threads:h.threads,typing:h.typing,unreadCounts:h.unreadCounts,unseenTimestamp:h.unseenTimestamp}}function Xa(a,c){var d={snippet:"...",snippet_attachments:null,snippet_sender:null};c=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.orderedMessageLists.get(c)),function(c){return b("bs_belt_Array").get(Ra(void 0,a,c.messageIDs),0)});if(c!==void 0){var e=b("bs_caml_option").valFromOption(c);e=e.is_filtered_content?b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(e):e.body}else e=null;if(c===void 0)return d;c=b("bs_caml_option").valFromOption(c);var f=c.removed_timestamp;if(!(f==null))return{snippet:b("RemovedMessageTombstoneContent").getTombstoneContentForSnippet(c.author),snippet_attachments:null,snippet_sender:null};if(e==null)return d;f=c.log_message_type;return{snippet:e,snippet_attachments:c.attachments,snippet_sender:f==null?c.author:null}}function Ya(c,a){var d=a.attachments;if(d==null)return;var e=b("bs_belt_Array").keepMap(d,function(a){if(!(b("MercuryAttachment").isPhotoAttachment(a)||b("MercuryAttachment").isVideoAttachment(a)))return;a=a.metadata;if(!(a==null))return b("bs_caml_option").nullable_to_opt(a.fbid)});b("MessengerSharedMediaActionsLoader").deletePhotos(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id),e);if(c!==void 0)return b("MessengerSharedPhotosVideosBaseData.bs").localRemove(b("bs_caml_option").valFromOption(c),b("bs_belt_Array").keepMap(d,function(a){if(!(b("MercuryAttachment").isPhotoAttachment(a)||b("MercuryAttachment").isVideoAttachment(a)))return;a=a.metadata;if(!(a==null))return b("bs_caml_option").nullable_to_opt(a.fbid)}))}function Za(a,c,d){d=a.orderedMessageLists.get(d);if(d==null)return a;d=d.messageIDs;var e={contents:!0};return b("bs_belt_Array").reduce(d,a,function(d,a){if(!e.contents)return d;var f=d.localIDsMap.get(a);f=b("bs_belt_Option").getWithDefault(f==null?void 0:b("bs_caml_option").some(f),a);if(f===c){e.contents=!1;return d}a=E(d,f);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);var g=a.replied_to_message,h;if(g==null)h=void 0;else{g=g.message;if(g==null)h=void 0;else{var i=d.localIDsMap.get(g.message_id);h=b("bs_belt_Option").getWithDefault(i==null?void 0:b("bs_caml_option").some(i),g.message_id)}}if(h===void 0)return d;if(h!==c)return d;i={message:null,status:"DELETED"};g=Object.assign(Object.assign({},a),{replied_to_message:i});return F(d,[f,g])})}function $a(a,c){if(a==null)return 0;if(a.length===0)return 0;a=b("bs_array").map(function(a){var d=a.type;if(d==="a"||d==="t")return b("gkx")("678578");d=a.id;if(d==null)return!1;else return b("bs_caml_obj").caml_equal(b("FBIDForMercury").ofStringExn(d),c)},a);return b("bs_array").fold_left(function(a,b){if(b)return a+1|0;else return a},0,a)}function ab(a,c,d){if(b("cr:5285")==null)return;var e=b("MercuryIDs").getThreadFBIDFromThreadID(a);return b("cr:5285").log(function(){return{event_name:"sent_msg",mid:c,offline_threading_id:d,other_user_fbid:b("MercuryIDs").isCanonical(a)?e:null,thread_fbid:b("MercuryIDs").isGroupChat(a)?e:null}})}function bb(c,a,d,e){var f=d.client_message_id,g;if(f==null)g=c;else{var h=E(c,f);if(h!==void 0){h=b("bs_caml_option").valFromOption(h);var i=d.message_id,j=d.status;if(b("bs_caml_obj").caml_equal(h.status,1))g=c;else if(c.messages.has(i)){var k=Object.assign(Object.assign({},h),d);D(c.fbid,k.thread_id,k.message_id,e);g=F(c,[i,k])}else{k=b("bs_caml_obj").caml_equal(d.status,1)?d.error_data:null;b("MercuryMessageIDs.bs").addServerID(f,i);c.localIDsMap.set(f,i);h=Object.assign(Object.assign({},h),{attachments:d.attachments,error_data:k,has_attachment:d.has_attachment,is_forwarded:d.is_forwarded,is_one_way_sent:d.is_one_way_sent,log_message_data:d.log_message_data,message_id:d.message_id,ranges:d.ranges,status:j,timestamp:d.timestamp});b("MessengerMessage.bs").finalizeRanges(h);k=F(c,[i,h]);k.messages.set(f,{});k.messages["delete"](f);j=h.thread_id;var l=k.orderedMessageLists.get(j);if(!(l==null)){var m=Sa(k,l.messageIDs);k.orderedMessageLists.set(j,{messageIDs:m,messageLoadingState:l.messageLoadingState})}D(k.fbid,h.thread_id,f,e);j=b("MessengerMessage.bs").isTitanMessage(h);m=a.localTitanMessageCount.get(h.thread_id);j&&!(m==null)&&a.localTitanMessageCount.set(h.thread_id,m-1|0);g={blockedIds:k.blockedIds,deliveryReceipts:k.deliveryReceipts,fbid:k.fbid,ignoredIds:k.ignoredIds,initialUnreadCounts:k.initialUnreadCounts,localIDsMap:k.localIDsMap.set(f,i),messages:k.messages,messagesWithUploadsInFlight:k.messagesWithUploadsInFlight,montage:k.montage,orderedMessageLists:k.orderedMessageLists,pendingFolderUnseenCount:k.pendingFolderUnseenCount,pendingReadStatusThreads:k.pendingReadStatusThreads,pinnedThreads:k.pinnedThreads,readReceiptsPerThread:k.readReceiptsPerThread,threadlistOrderMap:k.threadlistOrderMap,threads:k.threads,typing:k.typing,unreadCounts:k.unreadCounts,unseenTimestamp:k.unseenTimestamp}}}else g=c}l={};e=d.log_message_type;if(e==null)Object.assign(l,{snippet_attachments:d.attachments});else{if(b("bs_caml_obj").caml_equal(e,"log:thread-image")){j=d.log_message_data;if(j==null)a=null;else{h=j.image;a=h==null?null:h.preview_url}Object.assign(l,{image_src:a});w(g.fbid,d.thread_id)}b("bs_caml_obj").caml_notequal(e,"log:subscribe")&&b("bs_caml_obj").caml_notequal(e,"log:unsubscribe")&&Object.assign(l,{snippet_attachments:d.attachments})}ab(d.thread_id,d.message_id,d.offline_threading_id);return y(void 0,g,d.thread_id,l)}function cb(c,a,d,e){if(b("bs_caml_obj").caml_equal(d.action_type,"ma-type:send-message"))return bb(c,a,d,e);var f=d.offline_threading_id;f=b("bs_belt_Option").flatMap(f==null?void 0:b("bs_caml_option").some(f),function(a){return b("bs_caml_option").nullable_to_opt(c.localIDsMap.get(a))});var g=E(c,d.message_id);if(f!==void 0){if(g===void 0)return c;f=b("bs_caml_option").valFromOption(g);if(b("bs_caml_option").nullable_to_opt(f.sticker_id)===void 0)return c;var h=Object.assign(f,{attachments:d.attachments});return F(c,[f.message_id,h])}if(g!==void 0)return c;f=b("bs_caml_obj").caml_equal(e,b("bs_caml_option").some("client_send_message"))?Ta(c,d):c;h=b("bs_caml_obj").caml_equal(d.client_state,b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER);g=d.upload_id;e=h&&!(g==null)?I(f,g,d):f;h=b("MessengerMessage.bs").isErrorLogMessage(d);g=d.thread_id;h&&!(g==null)&&(a.failedHistoryFetchThreads.contents[g]=!0);f=d.manual_retry_cnt;h=d.thread_id;!(f==null)&&!(h==null)&&f>0&&Na(e.fbid,h,"client_send_message");g=Ua(e,a,[d.message_id,d,{_0:void 0,TAG:1}]);Ma(g.fbid,d);return g}function db(a,c,d,e){if(c===void 0)return;c=b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(c),"client_channel_message");var f=d.thread_id;if(!c){!(f==null);return}if(f==null)return;c=b("MercuryThreadInformer").getForFBID(a);return b("bs_curry")._3(e,c,f,d)}function eb(a,b){var c=a.participants.indexOf(b);if(c>0){Object.assign(a,{participants:[b].concat(a.participants.slice(0,c),a.participants.slice(c+1|0))});return}}function fb(c,d,e,f){var g=d.thread_id;if(g==null)return c;var a=b("bs_belt_Map").get(c.threads,g);if(a===void 0)return c;a=b("bs_caml_option").valFromOption(a);var h={};if(!d.skip_bump_thread&&b("bs_caml_obj").caml_notequal(e,b("bs_caml_option").some("server_fetch_thread_info"))){Ha(h,d,b("bs_caml_option").nullable_to_opt(d.log_message_body));z(h,d,a.biz_inbox_tags);if(d.timestamp>a.timestamp){Object.assign(h,{timestamp:d.timestamp});if(d.is_unread){Object.assign(h,{unread_count:a.unread_count+1|0});e=$a(d.profile_ranges,c.fbid);e>0&&Object.assign(h,{unread_mentions_count:a.unread_mentions_count+e|0})}}Object.assign(h,{is_archived:!1,message_count:a.message_count+1|0})}f!==!0&&d.timestamp>h.server_timestamp&&Object.assign(h,{server_timestamp:d.timestamp});if(b("bs_caml_obj").caml_notequal(h,{}))return y(void 0,c,g,h);else return c}function gb(b,a,c){var d=new Set(c);Object.assign(a,{participants:a.participants.filter(function(a){return!d.has(a)})});if(d.has(b)){Object.assign(a,{can_reply:!1,is_subscribed:!1});return}}function J(c,a,d){a=a.specific_to_list;if(!(a==null))return a;a=b("MercuryIDs").tokenize(d);if(a.type!=="user"||a.value.length===0)return[c];else return[b("MercuryIDs").getParticipantIDFromUserID(b("FBIDForMercury").ofStringExn(a.value)),c]}function K(c,a,d){var e=b("MercuryIDs").tokenize(d),f=e.type==="user",g=a.specific_to_list;g=f?!0:g==null?!1:b("MessengerThreadUtils.bs").isCanonicalFromInitialParticipants(c,g);if(g||f)c=J(c,a,d);else{var h=a.specific_to_list;c=h==null?[]:h}return new(b("ImmutableObject"))({accessibility_label:null,admin_model_status:null,admins:{},approval_mode:0,approval_queue_ids:[],associated_object:null,biz_inbox_suggested_reply:null,biz_inbox_tags:[],can_reply:!0,can_viewer_report:!1,cannot_reply_reason:null,comm_icon_type:[],comm_item_owners:null,comm_source_id:null,comm_status:null,composer_input_disabled:null,conversion_detection_data:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!1,description:null,ephemeral_ttl_mode:0,folder:"inbox",footer_color:null,game_id:null,gradient_colors:[],graphql_token:null,group_approval_queue:null,group_thread_subtype:null,groups_sync_status:null,has_email_participant:!1,has_montage:!1,header_color:null,image_src:null,is_archived:!1,is_business_page_active:!1,is_canonical:g,is_canonical_neo_user:!1,is_canonical_user:f,is_from_weak_entry_point:!1,is_other_recipient_page:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,is_pin_protected:!1,is_pinned:!1,is_priority:!1,is_subscribed:!0,is_thread_currently_handled_by_ai_agent:!1,is_thread_queue_enabled:!1,joinable_link:null,joinable_mode:{link:"",mode:0},last_message_admin_text_type:null,last_message_id:null,last_message_timestamp:0,last_message_type:null,last_message_unsendability_status:null,last_read_timestamp:0,lightweight_event:null,lightweight_events:{},linked_mentorship_programs:null,marketplace_thread_data:null,mentions_mute_mode:0,message_count:0,mute_until:null,name:"",object_association_type:null,other_user_fbid:f?b("FBIDForMercury").ofStringExn(e.value):null,page_comm_item_id:null,page_thread_info:null,page_unsubscribe_status:!1,participant_add_mode:null,participants:c,participants_event_status:null,pinned_messages:null,preloaded_participants:[],priority_score:null,reactions:void 0,reactions_mute_mode:0,read_only:!1,recipients_loadable:!0,reverse_gradients_for_radial:null,rtc_call_data:null,server_timestamp:0,snippet:a.body,snippet_attachments:[],snippet_sender:a.author,solid_color:null,square_image_src:null,subtitle:null,suggested_reply_data:null,theme_id:null,thread_associated_job_applications:null,thread_associated_page_admin:null,thread_connectivity_data:null,thread_fbid:null,thread_id:d,thread_pin_timestamp:null,thread_type:null,thread_unsendability_status:null,timestamp:a.timestamp,unread_count:0,unread_mentions_count:0,work_associated_group:null})}function hb(c,d,a,e){e=b("MessengerMessage.bs").hasServerTimestamp(a,e);var f=a.thread_id;if(f==null)return;b("MercuryAssert").isThreadID(f);d=b("bs_belt_Map").get(d,f);if(d!==void 0)return b("bs_caml_option").some(b("bs_caml_option").valFromOption(d));else if(b("bs_caml_obj").caml_equal(a.action_type,"ma-type:user-generated-message")&&!e)return b("bs_caml_option").some(K(b("MercuryIDs").getParticipantIDFromUserID(c),a,f));else return}function ib(c,d){var a=d.other_user_fbid;if(a==null){var e=d.thread_fbid;e=e==null?void 0:b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromThreadFBID(e))}else e=b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromUserID(a));a=d.thread_id;e=a==null?e:a==null?void 0:b("bs_caml_option").some(a);a=d.thread_id;var f;if(a==null)f="";else{a=b("bs_belt_Map").get(c.threads,a);f=a!==void 0?b("MessengerFolders.bs").getFromMeta(b("bs_caml_option").valFromOption(a)):d.folder}za.includes(f)&&(b("bs_caml_obj").caml_equal(d.action_type,"ma-type:user-generated-message")||b("bs_caml_obj").caml_equal(d.action_type,"ma-type:log-message"))&&d.is_unread&&ya(c,f,e);return{blockedIds:c.blockedIds,deliveryReceipts:c.deliveryReceipts,fbid:c.fbid,ignoredIds:c.ignoredIds,initialUnreadCounts:c.initialUnreadCounts,localIDsMap:c.localIDsMap,messages:c.messages,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,montage:c.montage,orderedMessageLists:c.orderedMessageLists,pendingFolderUnseenCount:c.pendingFolderUnseenCount,pendingReadStatusThreads:c.pendingReadStatusThreads,pinnedThreads:c.pinnedThreads,readReceiptsPerThread:c.readReceiptsPerThread,threadlistOrderMap:c.threadlistOrderMap,threads:c.threads,typing:c.typing,unreadCounts:c.unreadCounts,unseenTimestamp:c.unseenTimestamp}}var jb=function(a,b){delete a[b];return 0};function kb(a,c){Object.keys(c).forEach(function(d){var e=c[d];if(e===void 0)return;var f=e[0],g=m(f.reduce(function(c,d){var e=b("bs_belt_Map").get(a,d);if(e!==void 0)return b("bs_belt_Map").set(c,d,b("bs_caml_option").valFromOption(e));else return c},b("bs_belt_Map").make(b("ThreadId.bs"))));if(Object.keys(g).length===f.length){jb(c,d);return b("bs_curry")._1(e[1],g)}})}function lb(c,a,d,e,f){var g=c.fbid;d!==0&&ra(g,a.thread_id,f,d);if(a.timestamp===0){b("ChatReliabilityInstrumentation").logERROR("thread timestamp is 0");e.add(a.thread_id);return}d=a.unread_count===0;if(d===f)return;w(g,a.thread_id);if(f)e=0;else{d=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.orderedMessageLists.get(a.thread_id)),function(a){return b("bs_belt_Array").get(Ra(void 0,c,a.messageIDs),0)});g=d!==void 0?b("bs_caml_option").valFromOption(d).profile_ranges:null;e=$a(g,c.fbid)}return{unread_count:f?0:1,unread_mentions_count:e}}function mb(a,c,d,e,f){f=b("gkx")("1275193")||b("gkx")("1660458")?xa(a,f,c,d):wa(a,f,c,d);a=a.threadlistOrderMap[c];c=a[d];c=c!==void 0?b("bs_caml_option").valFromOption(c).reachedEnd:!1;a[d]={existingIDs:f[1],reachedEnd:e.contents?e.contents:c,threadlist:f[0]}}function nb(a,c,d,e){var f=b("bs_belt_Array").make(e.length,[]),g={contents:!1};d.forEach(function(d){d.thread_ids.forEach(function(c){var h=b("bs_belt_Map").get(a.threads,c);if(h===void 0)return;h=va(b("bs_caml_option").valFromOption(h));for(var g=0,d=e.length;g<d;++g){var i=h.find(function(a){return function(c){return c===b("bs_caml_array").get(e,a)}}(g));(i===void 0?void 0:b("bs_caml_option").some(i))!==void 0&&b("bs_caml_array").get(f,g).push(c)}});d=d.limit;var h=e.find(function(a){return a===b("MercuryFilters.bs").all});h=h===void 0?void 0:b("bs_caml_option").some(h);for(var i=0,c=f.length;i<c;++i)(h===void 0&&b("bs_caml_array").get(f,i).length<d||b("bs_caml_array").get(e,i)===b("MercuryFilters.bs").all&&b("bs_caml_array").get(f,i).length<d)&&(g.contents=!0)});for(var d=0,h=e.length;d<h;++d)mb(a,c,b("bs_caml_array").get(e,d),g,b("bs_caml_array").get(f,d))}function L(b,a){var c;if(a.is_archived)c="action:archived";else{var d=a.thread_type;c=d==null||d!==5?a.folder:"marketplace_folder"}d=b.threadlistOrderMap[c];if(d!==void 0)return c}function ob(a,c){var d={};na.forEach(function(a){var b={};ma.forEach(function(a){b[a]=[]});d[a]=b});c.forEach(function(c){var e=b("bs_belt_Map").get(a.threads,c.thread_id);if(e===void 0)return;var f=b("bs_caml_option").valFromOption(e),g=L(a,f);if(g!==void 0){va(f).forEach(function(a){if(f.timestamp!==0){d[g][a].push(c.thread_id);return}});return}});na.forEach(function(c){ma.forEach(function(e){var f=d[c][e];b("gkx")("1275193")||b("gkx")("1660458")?xa(a,f,c,e):wa(a,f,c,e)})});return{blockedIds:a.blockedIds,deliveryReceipts:a.deliveryReceipts,fbid:a.fbid,ignoredIds:a.ignoredIds,initialUnreadCounts:a.initialUnreadCounts,localIDsMap:a.localIDsMap,messages:a.messages,messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,montage:a.montage,orderedMessageLists:a.orderedMessageLists,pendingFolderUnseenCount:a.pendingFolderUnseenCount,pendingReadStatusThreads:a.pendingReadStatusThreads,pinnedThreads:a.pinnedThreads,readReceiptsPerThread:a.readReceiptsPerThread,threadlistOrderMap:a.threadlistOrderMap,threads:a.threads,typing:a.typing,unreadCounts:a.unreadCounts,unseenTimestamp:a.unseenTimestamp}}function pb(a){b("bs_belt_Map").map(a.threads,function(c){c=b("bs_belt_Map").get(a.threads,c.thread_id);if(c===void 0)return;c=b("bs_caml_option").valFromOption(c);if(b("bs_caml_option").nullable_to_opt(c.thread_type)!==5)return;c=b("ImmutableObject").set(c,{folder:"marketplace_folder"});ob(a,[c])})}function qb(c,a,d){var e=function(a){return a.timestamp>(d&&c.unseenTimestamp<=a.last_read_timestamp?a.last_read_timestamp:c.unseenTimestamp)},f=function(a){var d;return(d=b("bs_belt_Option")).mapWithDefault(d.flatMap(d.map(d.map(b("bs_caml_option").nullable_to_opt(c.orderedMessageLists.get(a.thread_id)),function(a){return b("bs_caml_array").get(a.messageIDs,0)}),function(a){return b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.localIDsMap.get(a)),a)}),function(a){return b("bs_caml_option").nullable_to_opt(c.messages.get(a))}),!1,function(a){return a.author===b("MercuryIDs").getParticipantIDFromUserID(c.fbid)})},g=function(a,c){if(e(a)&&!b("MercuryThreadInfo").isMuted(a)&&!f(a))return c+1|0;else return c};return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(c.threadlistOrderMap.inbox,function(a){return a[b("MercuryFilters.bs").all]}),function(d){d=d.threadlist;if(d.length!==0)return d.reduce(function(a,d){d=b("bs_belt_Map").get(c.threads,d);if(d!==void 0)return g(b("bs_caml_option").valFromOption(d),a);else return a},0);else if(b("bs_belt_Map").isEmpty(c.threads))return a.fallbackUnseenCount.contents;else return b("bs_belt_Map").reduce(c.threads,0,function(b,d,a){d=L(c,a);if(d==="inbox")return g(a,b);else return b})}),a.fallbackUnseenCount.contents)}function M(c,a){return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(c.threadlistOrderMap.inbox,function(a){return a[b("MercuryFilters.bs").all]}),function(d){if(d.threadlist.length===0)if(b("bs_belt_Map").isEmpty(c.threads))return a.fallbackUnseenCount.contents;else return b("bs_belt_Map").reduce(c.threads,0,function(d,e,a){var f=L(c,a);if(f===void 0)return d;if(f!=="inbox")return d;if(!(a.timestamp>c.unseenTimestamp&&!b("MercuryThreadInfo").isMuted(a)))return d;f=c.unreadCounts.inbox;if(f!==void 0&&b("bs_caml_option").valFromOption(f).has(e))return d+1|0;else return d});else return d.threadlist.reduce(function(d,e){var a=b("bs_belt_Map").get(c.threads,e);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);if(!(a.timestamp>c.unseenTimestamp&&!b("MercuryThreadInfo").isMuted(a)))return d;a=c.unreadCounts.inbox;if(a!==void 0&&b("bs_caml_option").valFromOption(a).has(e))return d+1|0;else return d},0)}),a.fallbackUnseenCount.contents)}function rb(c,a,d){if(d==="pending")return{blockedIds:c.blockedIds,deliveryReceipts:c.deliveryReceipts,fbid:c.fbid,ignoredIds:c.ignoredIds,initialUnreadCounts:c.initialUnreadCounts,localIDsMap:c.localIDsMap,messages:c.messages,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,montage:c.montage,orderedMessageLists:c.orderedMessageLists,pendingFolderUnseenCount:0,pendingReadStatusThreads:c.pendingReadStatusThreads,pinnedThreads:c.pinnedThreads,readReceiptsPerThread:c.readReceiptsPerThread,threadlistOrderMap:c.threadlistOrderMap,threads:c.threads,typing:c.typing,unreadCounts:c.unreadCounts,unseenTimestamp:c.unseenTimestamp};d=b("MercuryThreadInformer").getForFBID(c.fbid);d.updatedUnseenTimestamp();return{blockedIds:c.blockedIds,deliveryReceipts:c.deliveryReceipts,fbid:c.fbid,ignoredIds:c.ignoredIds,initialUnreadCounts:c.initialUnreadCounts,localIDsMap:c.localIDsMap,messages:c.messages,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,montage:c.montage,orderedMessageLists:c.orderedMessageLists,pendingFolderUnseenCount:c.pendingFolderUnseenCount,pendingReadStatusThreads:c.pendingReadStatusThreads,pinnedThreads:c.pinnedThreads,readReceiptsPerThread:c.readReceiptsPerThread,threadlistOrderMap:c.threadlistOrderMap,threads:c.threads,typing:c.typing,unreadCounts:c.unreadCounts,unseenTimestamp:a}}function N(a,c,d){var e=[];return b("bs_array").fold_left(function(f,g){switch(g.TAG){case 0:e.push(g._0.TAG|0);break;case 1:case 2:break}switch(g.TAG){case 0:var h=g._0;switch(h.TAG){case 0:var k=h._0,o={contents:!1},aa={contents:f.deliveryReceipts};Object.keys(k).forEach(function(a){var c=k[a],d=b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(aa.contents,a),0);if(c>d){o.contents=!0;aa.contents=b("bs_belt_MapString").set(aa.contents,a,c);return}});if(o.contents)return{blockedIds:f.blockedIds,deliveryReceipts:aa.contents,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 1:return ia(f,h._0,[]);case 2:var p=h._0,q=h._1;q=q.reduce(b("bs_belt_Set").remove,p.reduce(b("bs_belt_Set").add,f.blockedIds));if(q===f.blockedIds)return f;else return{blockedIds:q,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 3:p=h._0;q=p.reduce(function(a,c){var d=c.is_messenger_ignored;if(d==null)return a;else if(d)return b("bs_belt_Set").add(a,b("MercuryIDs").getParticipantIDFromUserID(c.fbid));else return b("bs_belt_Set").remove(a,b("MercuryIDs").getParticipantIDFromUserID(c.fbid))},f.ignoredIds);if(q===f.ignoredIds)return f;else return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:q,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 4:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("SetInitialPendingFolderUnseenCount");p=h._0;return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:p,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 5:q=h._0;p=la(f.fbid,q);if(p==null)return f;var r=b("FBIDForMercury").ofString(q.from.toString());if(r===void 0)return f;b("MessengerPersonas.bs").addPersona(q.persona);var s=q.persona;r=s==null?b("MercuryIDs").getParticipantIDFromUserID(b("bs_caml_option").valFromOption(r)):b("MercuryIDs").getParticipantIDFromUserID(s.id);if(q.st===b("TypingStates").TYPING){s=b("bs_belt_MapString").get(f.typing,p);if(s!==void 0)return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:b("bs_belt_MapString").set(f.typing,p,b("bs_belt_Map").set(b("bs_caml_option").valFromOption(s),r,Date.now())),unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};s=b("bs_belt_Map").set(b("bs_belt_Map").make(b("ParticipantId.bs")),r,Date.now());return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:b("bs_belt_MapString").set(f.typing,p,s),unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp}}if(q.st!==b("TypingStates").INACTIVE)return f;s=ka(f.typing,p,r);if(s!==f.typing)return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:s,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 6:var ca=h._0,t={contents:!1},u={contents:f.readReceiptsPerThread};Object.keys(ca).forEach(function(a){Object.keys(ca[a]).forEach(function(c){var d=b("bs_belt_MapString").get(u.contents,a);d=d!==void 0?b("bs_caml_option").valFromOption(d):b("immutable").OrderedMap();var e=d.get(c),f=ca[a][c];if(!(e==null)&&f.watermark<=e.watermark)return;t.contents=!0;u.contents=b("bs_belt_MapString").set(u.contents,a,d.set(c,f))});var c=b("bs_belt_MapString").get(u.contents,a);if(c!==void 0){t.contents=!0;u.contents=b("bs_belt_MapString").set(u.contents,a,b("bs_caml_option").valFromOption(c).sort(function(a,c){return(i||(i=b("bs_caml"))).caml_float_compare(a.watermark,c.watermark)}));return}});if(t.contents)return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:u.contents,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 7:q=h._0;if(q.length===0)return f;p=f.threads;r=q.reduce(function(c,a){return b("bs_belt_Map").set(c,a.thread_id,new(b("ImmutableObject"))(a))},p);kb(r,a.threadCallbacks.contents);q.forEach(function(a){return w(f.fbid,a.thread_id)});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:r,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 8:s=h._0;if(s.length===0)return f;var v=f.pendingReadStatusThreads,da=b("MercuryServerRequests").getForFBID(f.fbid);s.forEach(function(a){var b=a.thread_id;if(v.has(b)){v["delete"](b);if(a.unread_count>0){da.changeThreadReadStatus(b,!0,null,null,null,null);return}else return}});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:v,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 9:var ea=h._0;b("qex")._("1997")===!0&&b("MessengerEnvironment").messengerdotcom&&pb(f);na.forEach(function(a){ma.forEach(function(c){var d=ea.filter(function(d){var e=d.filter;e=e==null?b("MercuryFilters.bs").all:e;d=d.folder;d=d==null?a==="inbox":d===a;if(d)return e===c;else return!1});if(!b("gkx")("1275193")&&!b("gkx")("1660458")||a!=="inbox"&&a!=="action:archived"&&a!=="pending"||c===b("MercuryFilters.bs").groups){var e=[],g={contents:!1};d.forEach(function(a){a.thread_ids.forEach(function(a){e.push(a)});var b=a.limit;if(a.thread_ids.length<b){g.contents=!0;return}});return mb(f,a,c,g,e)}if(c!==b("MercuryFilters.bs").all)return nb(f,a,d,[b("MercuryFilters.bs").all,c]);var h=b("gkx")("1275193")?[b("MercuryFilters.bs").all,b("MercuryFilters.bs").unread,b("MercuryFilters.bs").named,b("MercuryFilters.bs").unnamed]:[b("MercuryFilters.bs").all,b("MercuryFilters.bs").unread,b("MercuryFilters.bs").unsyncedChat];return nb(f,a,d,h)})});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 10:return ob(f,h._0);case 11:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdatePinnedThreads");p=h._0;if(p.length===0)return f;p.forEach(function(b){if(!a.existingPinnedThreads.has(b)){f.pinnedThreads.push(b);a.existingPinnedThreads.add(b);return}});q=b("MercuryThreadInformer").getForFBID(f.fbid);q.updatedThreadlist();return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 12:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnSubscribeStatusUpdate");r=h._0;var fa=h._1;return y(function(a){return a.page_unsubscribe_status!==fa},f,r,{page_unsubscribe_status:fa});case 13:s=h._0;p=h._1;q=h._2;return y(void 0,f,s,{can_reply:p,cannot_reply_reason:q});case 14:r=h._0;s=h._1;p=b("bs_belt_Map").get(f.threads,r);if(p===void 0)return f;q=Object.assign({},b("bs_caml_option").valFromOption(p));ta(b("MercuryIDs").getParticipantIDFromUserID(f.fbid),q,s);return y(void 0,f,r,q);case 15:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeFlag");p=h._0;s=h._1;r=b("bs_belt_Map").get(f.threads,p);if(r===void 0)return f;q=b("bs_caml_option").valFromOption(r);r=q.page_thread_info;q=b("ImmutableObject").set(q,{page_thread_info:Object.assign(r==null?{}:r,{flagged:s})});r=b("bs_belt_Map").set(f.threads,p,q);w(f.fbid,p);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:r,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 16:s=h._0;return y(function(a){return b("MessageRequestUtils").isMessageRequest(a)},f,s,{folder:"inbox"});case 17:q=h._0;p=h._1;return y(void 0,f,q,{custom_like_icon:p});case 18:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("PromoteGroupAdmins");r=h._0;s=h._1;q=b("bs_belt_Map").get(f.threads,r);if(q===void 0)return f;p=b("bs_caml_option").valFromOption(q);q=Object.fromEntries(Object.entries(p.admins));p=b("ImmutableObject").set(p,{admins:b("bs_array").fold_left(function(a,b){a[b.admin_fbid]=b.admin_type;return a},q,s)});q=b("bs_belt_Map").set(f.threads,r,p);w(f.fbid,r);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:q,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 19:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("RemoveGroupAdmins");s=h._0;p=h._1;r=b("bs_belt_Map").get(f.threads,s);if(r===void 0)return f;q=b("bs_caml_option").valFromOption(r);r=Object.fromEntries(Object.entries(q.admins));q=b("ImmutableObject").set(q,{admins:b("bs_array").fold_left(function(b,a){var c=b[a];c!==void 0&&ja(b,a);return b},r,p)});r=b("bs_belt_Map").set(f.threads,s,q);w(f.fbid,s);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:r,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 20:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("JoinableMode");p=h._0;q=h._1;return y(void 0,f,p,{joinable_mode:q});case 21:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ApprovalMode");s=h._0;r=h._1;return y(void 0,f,s,{approval_mode:r});case 22:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ApprovalQueue");p=h._0;q=h._1;s=h._2;var ha=h._3,ra=h._4;r=b("bs_belt_Map").get(f.threads,p);if(r===void 0)return f;r=b("bs_caml_option").valFromOption(r);var x=r.group_approval_queue;r={approval_queue_ids:r.approval_queue_ids.slice(),group_approval_queue:x==null?null:x.slice()};!(q==null)&&r.approval_queue_ids.indexOf(q)===-1&&Object.assign(r,{approval_queue_ids:r.approval_queue_ids.concat([q])});if(!(s==null)){x=r.group_approval_queue;x==null?Object.assign(r,{group_approval_queue:[s]}):x.map(function(a){return a.requester.id}).indexOf(s.requester.id)===-1&&Object.assign(r,{group_approval_queue:x.concat([s])})}ha==null||Object.assign(r,{approval_queue_ids:r.approval_queue_ids.filter(function(a){return b("bs_caml_obj").caml_notequal(a,ha)})});if(!(ra==null)){q=r.group_approval_queue;Object.assign(r,{group_approval_queue:(q==null?[]:q).filter(function(a){return a.requester.id!==ra})})}return y(void 0,f,p,r);case 23:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("IsPinProtected");x=h._0;s=h._1;return y(void 0,f,x,{is_pin_protected:s});case 24:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateRtcCallData");q=h._0;p=h._1;r=h._2;x=h._3;s=b("bs_belt_Map").get(f.threads,q);if(s===void 0)return f;if(p==null){s=b("bs_caml_option").valFromOption(s).rtc_call_data;s=s==null?void 0:p}else s=p;return y(void 0,f,q,{rtc_call_data:new(b("ImmutableObject"))({call_state:r,initiator_fbid:s,server_info_data:x})});case 25:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateCommStatus");p=h._0;q=h._1;return y(void 0,f,p,{comm_status:q});case 26:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateCommItemOwner");r=h._0;s=h._1;x=h._2;p=h._3;q=s==null?{nodes:[]}:{nodes:[{admin:{id:s,name:x,profile_picture:{uri:p}}}]};y(void 0,f,r,{comm_item_owners:q});if(s==null)return y(void 0,f,r,{thread_associated_page_admin:null});else return y(void 0,f,r,{thread_associated_page_admin:{id:s,name:x,profile_picture:{uri:p}}});case 27:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("EventRsvpChanged");q=h._0;var va=h._1;r=h._2;s=b("bs_belt_Map").get(f.threads,q);if(s===void 0)return f;x=b("bs_caml_option").valFromOption(s).participants_event_status;p=(x==null?[]:x).filter(function(a){return b("bs_caml_obj").caml_notequal(a.participant_id,va)});p.push({event_status:r,participant_id:va});return y(void 0,f,q,{participants_event_status:p});case 28:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("GroupsSyncStatusChanged");s=h._0;x=h._1;r=h._2;return!(r==null)&&b("bs_caml_obj").caml_equal(r,"OPT_IN")?y(void 0,f,s,{groups_sync_status:x}):y(void 0,f,s,{groups_sync_status:x,work_associated_group:null});case 29:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("GroupsSyncMetadataUpdate");q=h._0;p=h._1;r=h._2;s=h._3;if(p==null)return y(void 0,f,q,{work_associated_group:null});if(!b("bs_caml_obj").caml_equal(p,"OPT_IN"))if(b("bs_caml_obj").caml_equal(p,b("MessengerGroupsSyncStatus").UPDATE_EMOJI))return y(void 0,f,q,{work_associated_group:{group_icon:{emoji_codepoints:s},id:r}});else return y(void 0,f,q,{work_associated_group:null});x=new(j||(j=b("URI")))(document.URL);p=x.getDomain();s=ua.getURIBuilder().setString("idorvanity",r).getURI().setDomain(p==null?"":p.replace("messenger.com","facebook.com")).setPort(x.getPort()).setProtocol("https");return y(void 0,f,q,{work_associated_group:{group_events:{count:0},group_saves:{count:0},id:r,url:s.toString()}});case 30:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DescriptionChanged");p=h._0;x=h._1;return y(void 0,f,p,{description:x});case 31:q=h._0;r=h._1;return y(void 0,f,q,{footer_color:r.footer_color,gradient_colors:r.gradient_colors,header_color:r.header_color,reactions:r.reactions,solid_color:r.solid_color,theme_id:r.theme_id});case 32:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateJoinableLink");s=h._0;p=h._1;return y(void 0,f,s,{joinable_link:p});case 33:var xa=h._0;x=b("bs_belt_Map").toArray(f.threads).reduce(function(c,d){var a=d[1];d=d[0];if(a.folder===xa){w(f.fbid,d);return b("bs_belt_Map").set(c,d,b("ImmutableObject").set(a,{unread_count:0,unread_mentions_count:0}))}else return c},f.threads);f.unreadCounts[xa]=new Set();q=b("MercuryThreadInformer").getForFBID(f.fbid);q.updatedUnreadState();return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:x,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 34:a.threadCallbacks.contents={};a.threadSubToken.contents=a.threadSubToken.contents;a.failedHistoryFetchThreads.contents={};a.localTitanMessageCount.clear();b("bs_belt_Map").keysToArray(f.threads).forEach(function(a){return pa(f.fbid,a)});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:new Map(),messages:new Map(),messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:new Map(),pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:new Set(),pinnedThreads:f.pinnedThreads,readReceiptsPerThread:void 0,threadlistOrderMap:oa(),threads:b("bs_belt_Map").make(b("ThreadId.bs")),typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 35:var Ca=h._0;b("gkx")("1199097")&&b("ChatReliabilityInstrumentation").logDELETE_THREAD(Ca);r=b("bs_belt_Map").remove(f.threads,Ca);f.orderedMessageLists["delete"](Ca);f.messages.forEach(function(a,c,d){if(!b("bs_caml_obj").caml_equal(a.thread_id,Ca))return;f.messages["delete"](a.message_id);c=a.offline_threading_id;if(!(c==null)){d=f.localIDsMap.get(c);d==null||(f.messages["delete"](d),f.localIDsMap["delete"](c))}f.localIDsMap["delete"](a.message_id)});pa(f.fbid,Ca);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:r,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 36:s=h._0;return Ua(f,a,[s.message_id,s,h._1]);case 37:p=[h._0,h._1,h._2];var Ga=p[2];q=p[1];var z=p[0];if(q.length===0)return f;x=Wa(f,[z,q,Ga]);r=0;Ga!==void 0&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(Ga),"client_channel_message")||(r=1);r===1&&b("MercuryServerRequests").getForFBID(x.fbid).deleteMessages(z,q);return b("bs_belt_Array").reduce(q,x,function(d,e){var c=E(d,e),a=b("bs_belt_Map").get(d.threads,z);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=b("ImmutableObject").set(b("ImmutableObject").set(a,Xa(d,z)),{message_count:a.message_count-1|0});a=b("bs_belt_Map").set(d.threads,z,a);w(d.fbid,z);a={blockedIds:d.blockedIds,deliveryReceipts:d.deliveryReceipts,fbid:d.fbid,ignoredIds:d.ignoredIds,initialUnreadCounts:d.initialUnreadCounts,localIDsMap:d.localIDsMap,messages:d.messages,messagesWithUploadsInFlight:d.messagesWithUploadsInFlight,montage:d.montage,orderedMessageLists:d.orderedMessageLists,pendingFolderUnseenCount:d.pendingFolderUnseenCount,pendingReadStatusThreads:d.pendingReadStatusThreads,pinnedThreads:d.pinnedThreads,readReceiptsPerThread:d.readReceiptsPerThread,threadlistOrderMap:d.threadlistOrderMap,threads:a,typing:d.typing,unreadCounts:d.unreadCounts,unseenTimestamp:d.unseenTimestamp}}else a=d;if(c!==void 0){d=b("bs_caml_option").valFromOption(c);Ya(b("bs_caml_option").some(z),d);Oa(a.fbid,z,e,Ga,d.attachments)}return a});case 38:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeFolder");return Fa(f,h._0,h._1,{_0:void 0,TAG:1});case 39:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeMuteSettings");s=h._0;p=h._1;r=b("bs_belt_Map").get(f.threads,s);if(r===void 0)return f;q=b("bs_caml_option").valFromOption(r);var Ha;switch(p.TAG){case 0:Ha=b("ImmutableObject").set(q,{reactions_mute_mode:p._0?1:0});break;case 1:Ha=b("ImmutableObject").set(q,{mentions_mute_mode:p._0?1:0});break;case 2:x=p._0;Ha=b("ImmutableObject").set(q,{mute_until:x===0?void 0:x});break}r=b("bs_belt_Map").set(f.threads,s,Ha);w(f.fbid,s);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:r,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 40:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeArchivedStatus");p=h._0;q=h._1;x=b("bs_belt_Map").get(f.threads,p);if(x===void 0)return f;s=b("bs_caml_option").valFromOption(x);if(s.is_archived===q)return f;r=b("MessengerFolders.bs").getFromMeta(s);x=s.comm_status;x=x==null?b("ImmutableObject").set(s,{is_archived:q}):b("ImmutableObject").set(s,{comm_status:q?b("PageCommItemStatus").DONE:b("PageCommItemStatus").TODO,is_archived:q});s=b("bs_belt_Map").set(f.threads,p,x);Ba(f,x,r);Ea(f,x);w(f.fbid,p);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:s,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 41:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePageFollowUpStatus");q=h._0;r=h._1;x=b("bs_belt_Map").get(f.threads,q);if(x===void 0)return f;p=b("bs_caml_option").valFromOption(x);if(p.is_page_follow_up===r)return f;s=b("ImmutableObject").set(p,{is_page_follow_up:r});x=b("bs_belt_Map").set(f.threads,q,s);w(f.fbid,q);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:x,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 42:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePrioritizationStatus");p=h._0;r=h._1;s=b("bs_belt_Map").get(f.threads,p);if(s===void 0)return f;q=b("bs_caml_option").valFromOption(s);if(q.is_priority===r)return f;x=b("ImmutableObject").set(q,{is_priority:r});s=b("bs_belt_Map").set(f.threads,p,x);w(f.fbid,p);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:s,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 43:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateBizInboxTags");q=h._0;r=h._1;x=h._2;p=b("bs_belt_Map").get(f.threads,q);if(p===void 0)return f;s=b("bs_caml_option").valFromOption(p);p=s.biz_inbox_tags;var A;if(r!==void 0){r=b("bs_caml_option").valFromOption(r);if(x!==void 0){var Ia=b("bs_caml_option").valFromOption(x);A=p.concat([r]).filter(function(a){return a!==Ia})}else A=p.concat([r])}else if(x!==void 0){var Ja=b("bs_caml_option").valFromOption(x);A=p.filter(function(a){return a!==Ja})}else A=p;r=b("ImmutableObject").set(s,{biz_inbox_tags:A});x=b("bs_belt_Map").set(f.threads,q,r);w(f.fbid,q);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:x,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 44:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeUnrespondedStatus");p=h._0;s=h._1;A=b("bs_belt_Map").get(f.threads,p);if(A===void 0)return f;r=b("bs_caml_option").valFromOption(A);if(r.is_page_unresponded_thread===s)return f;q=b("ImmutableObject").set(r,{is_page_unresponded_thread:s});x=b("bs_belt_Map").set(f.threads,p,q);w(f.fbid,p);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:x,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 45:A=h._0;r=h._1;s=h._2;q=h._3;p=h._4;x=b("bs_belt_Map").get(f.threads,A);if(x===void 0)return f;x=b("bs_caml_option").valFromOption(x);s=lb(f,x,s,f.pendingReadStatusThreads,r);s=s!==void 0&&x.last_message_timestamp>x.last_read_timestamp?b("bs_caml_option").some(Object.assign(b("bs_caml_option").valFromOption(s),{last_read_timestamp:x.last_message_timestamp})):s;if(s!==void 0){s=b("ImmutableObject").set(x,b("bs_caml_option").valFromOption(s));var B=b("bs_belt_Map").set(f.threads,A,s);if(q){q=!x.read_only&&x.folder==="inbox";var C=b("MercuryServerRequests").getForFBID(f.fbid);C.changeThreadReadStatus(s.thread_id,r,p,s.last_read_timestamp,q,s.last_message_type)}C=B}else C=f.threads;p=b("MessengerFolders.bs").getFromMeta(x);r?(sa(f,[A],p,b("MercuryFilters.bs").unread),Aa(f,p,b("bs_caml_option").some(A))):(b("gkx")("1275193")||b("gkx")("1660458")?Da(f,p,A):wa(f,[A],p,b("MercuryFilters.bs").unread),ya(f,p,b("bs_caml_option").some(A)));return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:C,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 46:var Ma=h._0;q=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(f.orderedMessageLists.get(Ma)),function(a){return{messageIDs:[],messageLoadingState:a.messageLoadingState}}),{messageIDs:[],messageLoadingState:{_0:void 0,TAG:0}});f.orderedMessageLists.set(Ma,q);s=b("bs_belt_Option").map(b("bs_belt_Map").get(f.threads,Ma),function(a){return b("ImmutableObject").set(a,{message_count:0})});if(s!==void 0){var Ra=b("bs_caml_option").valFromOption(s);B=b("bs_belt_Map").set(f.threads,Ma,Ra);ma.forEach(function(a){return sa(f,[Ma],b("MessengerFolders.bs").getFromMeta(Ra),a)});x=B}else x=f.threads;za.forEach(function(a){a=f.unreadCounts[a];if(a!==void 0){b("bs_caml_option").valFromOption(a)["delete"](Ma);return}});qa(f.fbid,Ma);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:x,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 47:r=[h._0,h._1,h._2];p=Va(f,[r[0],r[1]]);A=p.thread_id;C=Wa(f,[A,[p.message_id],r[2]]);q=a.localTitanMessageCount.get(A);q==null||a.localTitanMessageCount.set(A,Math.max(0,q-1|0));return C;case 48:s=[h._0,h._1];B=Va(f,[s[0],s[1]]);b("MercuryServerRequests").getForFBID(f.fbid).sendNewMessage(Object.assign(B,{preview_attachments:void 0}));return f;case 49:x=[h._0,h._1,h._2,h._3];p=x[2];r=x[1];A=x[0];q=E(f,A);if(q===void 0)return f;C=b("bs_caml_option").valFromOption(q);B=(s=C.reactions)!=null?s:{};r!==void 0?B[p]=r:Qa(B,p);q=Object.assign(Object.assign({},C),{reactions:B});s=C.thread_id;s==null||D(f.fbid,s,A,x[3]);return F(f,[A,q]);case 50:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("MontageDirectExpire");r=h._0;p=E(f,r);if(p===void 0)return f;B=b("bs_caml_option").valFromOption(p);C=B.attachments;if(C==null)return f;if(C.length===0)return f;s=b("bs_caml_array").get(C,0);x=s.share;if(x==null)return f;A=x.target;if(A==null)return f;q=A.message_state;if(q==null)return f;p=Object.assign(Object.assign({},B),{attachments:b("bs_caml_array").set(b("bs_array").copy(C),0,Object.assign(Object.assign({},s),{share:Object.assign(Object.assign({},x),{target:Object.assign(Object.assign({},A),{message_state:"EXPIRED"})})}))});return F(f,[r,p]);case 51:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("LiveLocationUpdate");q=[h._0,h._1,h._2];B=q[0];C=E(f,B);if(C===void 0)return f;s=b("bs_caml_option").valFromOption(C);x=s.attachments;if(x==null)return f;if(x.length===0)return f;A=b("bs_caml_array").get(x,0);r=A.share;if(r==null)return f;p=r.target;if(p==null)return f;C=b("bs_array").copy(x);b("bs_caml_array").set(C,0,Object.assign(Object.assign({},A),{share:Object.assign(Object.assign({},r),{target:Object.assign(Object.assign({},q[1]),{live_location_id:p.live_location_id})})}));x=Object.assign(Object.assign({},s),{attachments:C});A=s.thread_id;A==null||D(f.fbid,A,B,q[2]);return F(f,[B,x]);case 52:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ReplaceMessage");r=h._0;p=h._1;var Ta=r.replaced_message_id;if(Ta==null)return f;C=E(f,Ta);if(C===void 0)return f;s=r.message_id;A={timestamp:r.timestamp};q=b("bs_caml_option").nullable_to_opt(r.status);q!==void 0&&(A.status=b("bs_caml_option").valFromOption(q));B=b("bs_caml_option").nullable_to_opt(r.log_message_data);B!==void 0&&(A.log_message_data=b("bs_caml_option").valFromOption(B));x=b("bs_caml_option").nullable_to_opt(r.meta_ranges);x!==void 0&&(A.meta_ranges=b("bs_caml_option").valFromOption(x));q=b("bs_caml_option").nullable_to_opt(r.ranges);q!==void 0&&(A.ranges=b("bs_caml_option").valFromOption(q));B=b("bs_caml_option").nullable_to_opt(r.raw_attachments);B!==void 0&&(A.raw_attachments=b("bs_caml_option").valFromOption(B));x=b("bs_caml_option").nullable_to_opt(r.attachments);x!==void 0&&(A.attachments=b("bs_caml_option").valFromOption(x));q=b("bs_caml_option").nullable_to_opt(r.body);q!==void 0&&(A.body=q);B=b("bs_caml_option").nullable_to_opt(r.platform_xmd);B!==void 0&&(A.platform_xmd=B);x=b("bs_caml_option").nullable_to_opt(r.profile_ranges);x!==void 0&&(A.profile_ranges=b("bs_caml_option").valFromOption(x));q=A;B=Object.assign(Object.assign({},b("bs_caml_option").valFromOption(C)),q);b("MercuryMessageIDs.bs").addServerID(s,s);var G=F(f,[s,B]);if(s!==Ta){G.messages["delete"](Ta);G.localIDsMap.set(Ta,s);x=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(r.thread_id),function(a){return b("bs_caml_option").nullable_to_opt(G.orderedMessageLists.get(a))});A=r.thread_id;if(x!==void 0&&!(A==null)){C=Sa(G,[s].concat(x.messageIDs.filter(function(a){return a!==Ta})));G.orderedMessageLists.set(A,{messageIDs:C,messageLoadingState:x.messageLoadingState})}}q=r.message_id;B=r.thread_id;B==null||(D(G.fbid,B,Ta,p),D(G.fbid,B,q,p));return{blockedIds:G.blockedIds,deliveryReceipts:G.deliveryReceipts,fbid:G.fbid,ignoredIds:G.ignoredIds,initialUnreadCounts:G.initialUnreadCounts,localIDsMap:G.localIDsMap,messages:G.messages,messagesWithUploadsInFlight:G.messagesWithUploadsInFlight,montage:G.montage,orderedMessageLists:G.orderedMessageLists,pendingFolderUnseenCount:G.pendingFolderUnseenCount,pendingReadStatusThreads:G.pendingReadStatusThreads,pinnedThreads:G.pinnedThreads,readReceiptsPerThread:G.readReceiptsPerThread,threadlistOrderMap:G.threadlistOrderMap,threads:G.threads,typing:G.typing,unreadCounts:G.unreadCounts,unseenTimestamp:G.unseenTimestamp};case 53:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateLocalTitanMessagesCount");s=[h._0,h._1];A=s[0];C=E(f,s[1]);if(C!==void 0&&b("MessengerMessage.bs").isTitanMessage(b("bs_caml_option").valFromOption(C))){x=a.localTitanMessageCount.get(A);x==null?a.localTitanMessageCount.set(A,1):a.localTitanMessageCount.set(A,1+x|0)}return f;case 54:return bb(f,a,h._0,h._1);case 55:r=h._0;B=h._1;q=h._2;p=r.author;if(p==null)s=!1;else{C=b("MercuryIDs").getUserIDFromParticipantID(p);s=C==null?!1:C===b("CurrentUser").getID()}A=r.offline_threading_id;x=A==null?void 0:b("bs_caml_option").nullable_to_opt(f.localIDsMap.get(A));p=x!==void 0;if(!s&&b("bs_caml_obj").caml_equal(B,b("bs_caml_option").some("client_channel_message"))&&p)return f;C=fb(f,r,B,q==null?void 0:b("bs_caml_option").some(q));db(C.fbid,B,r,function(a,b,c){a.informNewMessage(b,c)});A=C.fbid;if(r.folder==="pending"&&b("bs_caml_obj").caml_equal(B,b("bs_caml_option").some("client_channel_message")))x={blockedIds:C.blockedIds,deliveryReceipts:C.deliveryReceipts,fbid:C.fbid,ignoredIds:C.ignoredIds,initialUnreadCounts:C.initialUnreadCounts,localIDsMap:C.localIDsMap,messages:C.messages,messagesWithUploadsInFlight:C.messagesWithUploadsInFlight,montage:C.montage,orderedMessageLists:C.orderedMessageLists,pendingFolderUnseenCount:C.pendingFolderUnseenCount+1|0,pendingReadStatusThreads:C.pendingReadStatusThreads,pinnedThreads:C.pinnedThreads,readReceiptsPerThread:C.readReceiptsPerThread,threadlistOrderMap:C.threadlistOrderMap,threads:C.threads,typing:C.typing,unreadCounts:C.unreadCounts,unseenTimestamp:C.unseenTimestamp};else if(r.folder==="inbox"){s=r.thread_id;x=s==null?C:Fa(C,s,r.folder,{_0:void 0,TAG:0})}else{p=r.thread_id;if(p==null)x=C;else{s=hb(C.fbid,C.threads,r,q);if(s!==void 0){q=b("bs_caml_option").valFromOption(s);s=C.fbid;var H=C.deliveryReceipts,I=C.readReceiptsPerThread,J=C.ignoredIds,K=C.blockedIds,L=C.pendingFolderUnseenCount,M=C.typing,N=b("bs_belt_Map").set(C.threads,q.thread_id,q),O=C.pendingReadStatusThreads,P=C.messages,Q=C.localIDsMap,R=C.messagesWithUploadsInFlight,S=C.threadlistOrderMap,T=C.pinnedThreads,U=C.montage,V=C.orderedMessageLists,W=C.unreadCounts,X=C.initialUnreadCounts,Y=C.unseenTimestamp;K={blockedIds:K,deliveryReceipts:H,fbid:s,ignoredIds:J,initialUnreadCounts:X,localIDsMap:Q,messages:P,messagesWithUploadsInFlight:R,montage:U,orderedMessageLists:V,pendingFolderUnseenCount:L,pendingReadStatusThreads:O,pinnedThreads:T,readReceiptsPerThread:I,threadlistOrderMap:S,threads:N,typing:M,unreadCounts:W,unseenTimestamp:Y};if(b("bs_caml_obj").caml_equal(B,b("bs_caml_option").some("client_channel_message"))){H=r.offline_threading_id;H==null?Object.assign(r,{folder:q.folder}):b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(Q.get(H)),H)?Object.assign(r,{action_type:"ma-type:send-message",client_message_id:r.offline_threading_id,status:1}):Object.assign(r,{folder:q.folder})}Ea(K,q);s=Object.assign({},q);J=r.offline_threading_id;if(!(J==null)){if(J!==r.message_id){Object.assign(s,{last_message_timestamp:r.timestamp});X=r.comm_status;X==null||Object.assign(s,{last_message_id:r.message_id})}P=r.author;if(!(b("cr:5285")==null)&&!(P==null)){R=b("MercuryIDs").getParticipantIDFromUserID(A);r.has_attachment&&R===P&&ab(p,r.message_id,J)}}U=r.comm_status;V=s.comm_status;!(U==null)&&!(V==null)&&b("bs_caml_obj").caml_notequal(V,b("PageCommItemStatus").FOLLOW_UP)&&Object.assign(s,{comm_status:U});L=r.creator_info;!(L==null)&&b("bs_caml_obj").caml_equal(L.pageID,A)&&Object.assign(s,{folder:r.folder});O=r.author;O==null||eb(s,O);x=y(void 0,K,p,s)}else x=C}}T=cb(x,a,r,B);I=ib(T,r);S=b("bs_caml_obj").caml_notequal(r.author,b("MercuryViewer").getID());N=r.thread_id;M=r.author;if(!S)return I;if(N==null)return I;if(M==null)return I;W=ka(I.typing,N,M);if(W!==I.typing)return{blockedIds:I.blockedIds,deliveryReceipts:I.deliveryReceipts,fbid:I.fbid,ignoredIds:I.ignoredIds,initialUnreadCounts:I.initialUnreadCounts,localIDsMap:I.localIDsMap,messages:I.messages,messagesWithUploadsInFlight:I.messagesWithUploadsInFlight,montage:I.montage,orderedMessageLists:I.orderedMessageLists,pendingFolderUnseenCount:I.pendingFolderUnseenCount,pendingReadStatusThreads:I.pendingReadStatusThreads,pinnedThreads:I.pinnedThreads,readReceiptsPerThread:I.readReceiptsPerThread,threadlistOrderMap:I.threadlistOrderMap,threads:I.threads,typing:W,unreadCounts:I.unreadCounts,unseenTimestamp:I.unseenTimestamp};else return I;case 56:Y=h._0;Q=h._1;H=h._2;q=b("bs_caml_obj").caml_notequal(H==null?void 0:b("bs_caml_option").some(H),!1);X=b("bs_caml_obj").caml_equal(H==null?void 0:b("bs_caml_option").some(H),!0);R=f.fbid;P=b("MercuryIDs").getParticipantIDFromUserID(R);J=cb(f,a,Y,Q);db(J.fbid,Q,Y,function(a,b,c){a.informNewLogMessage(b,c)});V=fb(J,Y,Q,H==null?void 0:b("bs_caml_option").some(H));U=Y.thread_id;if(U==null)L=V;else{A=b("bs_belt_Map").get(V.threads,U);if(A!==void 0){O=Object.assign({},b("bs_caml_option").valFromOption(A));Ea(V,O);O.last_message_timestamp<Y.timestamp&&Object.assign(O,{last_message_timestamp:Y.timestamp});if(Y.timestamp>=O.timestamp){K=Y.log_message_type;if(!(K==null))if(b("bs_caml_obj").caml_equal(K,"log:subscribe")&&!X){p=Y.log_message_data;if(p==null)s=[];else{C=p.added_participants;s=C==null?[]:C}ta(P,O,s);w(R,U)}else if(b("bs_caml_obj").caml_equal(K,"log:unsubscribe")&&!X){x=Y.log_message_data;if(x==null)B=[];else{T=x.removed_participants;B=T==null?[]:T}gb(P,O,B);w(R,U)}else if(b("bs_caml_obj").caml_equal(K,"log:thread-image")){if(!q){r=Y.log_message_data;if(r==null)S=null;else{N=r.image;S=N==null?null:N.preview_url}Object.assign(O,{image_src:S})}}else if(b("bs_caml_obj").caml_equal(K,"log:thread-name")){M=Y.log_message_data;if(!(M==null)){W=M.name;!(W==null)&&O.name===W||w(R,U);Object.assign(O,{name:M.name})}}else b("bs_caml_obj").caml_equal(K,"log:generic-admin-text")&&Ka(R,O,Y,U)}L=y(void 0,V,U,O)}else L=V}return ib(L,Y);case 57:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("PinMessage");if(b("gkx")("1179386")){I=h._0;J=h._1;Q=b("bs_belt_Map").get(f.threads,I);if(Q!==void 0&&!(J==null)){H=b("ImmutableObject").set(b("bs_caml_option").valFromOption(Q),{pinned_messages:[J.message]});A=b("bs_belt_Map").set(f.threads,I,H);p=J.message.message_id;C=J.message.message;s=C==null?f:Ua(f,a,[p,C,{_0:void 0,TAG:0}]);w(f.fbid,I);X=[s,A]}else X=[f,f.threads];x=X[0];return{blockedIds:x.blockedIds,deliveryReceipts:x.deliveryReceipts,fbid:x.fbid,ignoredIds:x.ignoredIds,initialUnreadCounts:x.initialUnreadCounts,localIDsMap:x.localIDsMap,messages:x.messages,messagesWithUploadsInFlight:x.messagesWithUploadsInFlight,montage:x.montage,orderedMessageLists:x.orderedMessageLists,pendingFolderUnseenCount:x.pendingFolderUnseenCount,pendingReadStatusThreads:x.pendingReadStatusThreads,pinnedThreads:x.pinnedThreads,readReceiptsPerThread:x.readReceiptsPerThread,threadlistOrderMap:x.threadlistOrderMap,threads:X[1],typing:x.typing,unreadCounts:x.unreadCounts,unseenTimestamp:x.unseenTimestamp}}else return f;case 58:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnpinMessage");if(b("gkx")("1179386")){T=h._0;var Z=h._1;P=b("bs_belt_Map").get(f.threads,T);if(P!==void 0&&!(Z==null)){B=b("bs_caml_option").valFromOption(P);q=B.pinned_messages;r=q==null?void 0:q.filter(function(a){return a.message_id!==Z.message_id});if(r!==void 0){N=b("ImmutableObject").set(B,{pinned_messages:nullthrows(r)});S=b("bs_belt_Map").set(f.threads,T,N);w(f.fbid,T);W=S}else W=f.threads}else W=f.threads;return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:W,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp}}else return f;case 59:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePinnedStatus");M=h._0;K=h._1;R=h._2;U=b("bs_belt_Map").get(f.threads,M);O=!1;if(K&&!a.existingPinnedThreads.has(M))f.pinnedThreads.push(M),a.existingPinnedThreads.add(M),O=!0;else if(!K&&a.existingPinnedThreads.has(M)){V=f.pinnedThreads.indexOf(M);V>-1&&f.pinnedThreads.splice(V,1);a.existingPinnedThreads["delete"](M);O=!0}if(U!==void 0){L=b("bs_caml_option").valFromOption(U);Y=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(L.thread_pin_timestamp),0);if(L.is_pinned!==K||Y!==R){Q=b("ImmutableObject").set(L,{is_pinned:K,thread_pin_timestamp:R});H=b("bs_belt_Map").set(f.threads,M,Q);w(f.fbid,M);O=!0;J=H}else J=f.threads}else J=f.threads;if(O)return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:J,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 60:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("InvalidateMontageState");p=h._0;C=Object.fromEntries(Object.entries(f.montage));C[p]=[];return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:C,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 61:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("NewMontageMessage");I=h._0;s=Object.fromEntries(Object.entries(f.montage));A=I.actor.id;X=s[A];X!==void 0?(X.push(I),s[A]=X):s[A]=[I];return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:s,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 62:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("InstantiateMontageThread");x=h._0;P=Object.fromEntries(Object.entries(f.montage));q=P[x];q!==void 0||(P[x]=[]);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:P,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 63:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DeleteMontageMessage");var tb=h._0,$=Object.fromEntries(Object.entries(f.montage));B=Object.keys($);B.forEach(function(a){var b=$[a];if(b===void 0)return;b=b.filter(function(a){return a.id!==tb.messageFBID});$[a]=b});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:$,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 64:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("AddFetchedAllHistoryMarkers");r=[h._0,h._1];var ub=r[1];r[0].forEach(function(a){var b=f.orderedMessageLists.get(a);b==null?f.orderedMessageLists.set(a,{messageIDs:[],messageLoadingState:{_0:void 0,TAG:1}}):f.orderedMessageLists.set(a,{messageIDs:b.messageIDs,messageLoadingState:{_0:void 0,TAG:1}});return Na(f.fbid,a,ub)});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 65:N=h._0;N.forEach(function(c){var a=c.folder;if(!za.includes(a))return;c=c.thread_fbids.map(function(a){return b("MercuryIDs").getThreadIDFromThreadFBID(a)}).concat(c.other_user_fbids.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(a)}));f.unreadCounts[a]=new Set(c);a=b("MercuryThreadInformer").getForFBID(f.fbid);a.updatedUnreadState()});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 66:T=h._0;var d={contents:f.unseenTimestamp};T.forEach(function(c){f.initialUnreadCounts[c.folder]=c.unread_count;c.unread_count===0&&(f.unreadCounts[c.folder]=new Set());c.folder==="inbox"&&(d.contents=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.seen_timestamp),d.contents),a.fallbackUnseenCount.contents=c.unseen_count);c=b("MercuryThreadInformer").getForFBID(f.fbid);c.updatedUnreadState();c.updatedUnseenState()});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:d.contents};case 67:var vb=h._0;za.forEach(function(a){a=f.unreadCounts[a];if(a===void 0)return;var c=b("bs_caml_option").valFromOption(a);Object.entries(vb).forEach(function(a){var b=a[0];if(c.has(b)){c.add(a[1]);c["delete"](b);return}})});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 68:S=h._0;W=h._1;V=h._2;U=h._3;Y=h._4;L=La(f,S,[W],!1);K=E(L,W);if(K!==void 0){R=b("bs_caml_option").valFromOption(K);Ya(b("bs_caml_option").some(S),R);Q=b("MessengerMessage.bs").makeFakeMessage(R.message_id,R.thread_id,R.author,R.action_type,R.timestamp,{message_unsendability_status:"deny_tombstone_message",removed_timestamp:U,unsender:{id:V}});M=F(L,[W,Q]);H=R.thread_id;if(H==null)return M;O=Za(M,W,H);D(O.fbid,H,W,Y);Oa(O.fbid,H,W,Y,R.attachments);J=b("bs_belt_Map").get(O.threads,H);if(J===void 0)return O;p=b("bs_caml_option").valFromOption(J);C=$a(R.profile_ranges,O.fbid);X=b("ImmutableObject").set(b("ImmutableObject").set(p,Xa(O,H)),{unread_mentions_count:p.unread_mentions_count-C|0});A=b("bs_belt_Map").set(O.threads,H,X);w(O.fbid,H);return{blockedIds:O.blockedIds,deliveryReceipts:O.deliveryReceipts,fbid:O.fbid,ignoredIds:O.ignoredIds,initialUnreadCounts:O.initialUnreadCounts,localIDsMap:O.localIDsMap,messages:O.messages,messagesWithUploadsInFlight:O.messagesWithUploadsInFlight,montage:O.montage,orderedMessageLists:O.orderedMessageLists,pendingFolderUnseenCount:O.pendingFolderUnseenCount,pendingReadStatusThreads:O.pendingReadStatusThreads,pinnedThreads:O.pinnedThreads,readReceiptsPerThread:O.readReceiptsPerThread,threadlistOrderMap:O.threadlistOrderMap,threads:A,typing:O.typing,unreadCounts:O.unreadCounts,unseenTimestamp:O.unseenTimestamp}}Pa(L.fbid,S,W,Y);return L;case 69:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateConnectivityStatus");I=h._0;s=h._1;q=b("ThreadConnectivityStatus.bs").toGraphQLValue(s);x=b("bs_belt_Map").get(f.threads,I);if(x===void 0)return f;P=b("bs_caml_option").valFromOption(x);B=P.thread_connectivity_data;r=B==null?b("ImmutableObject").set(P,{thread_connectivity_data:{connectivity_status:q,first_sender_id:null}}):b("ImmutableObject").set(P,{thread_connectivity_data:{connectivity_status:q,first_sender_id:B.first_sender_id}});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:b("bs_belt_Map").set(f.threads,I,r),typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 70:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DeltaMarkFolderSeen");var wb=h._0;return b("bs_belt_Array").reduceU(wb.folders,f,function(b,a){a=l[a];if(a!==void 0)return rb(b,Number(wb.timestamp),a);else return b});case 71:N=[h._0,h._1,h._2,h._3];var xb=N[2];T=N[0];K=E(f,T);if(K===void 0)return f;U=b("bs_caml_option").valFromOption(K);V=N[1].concat(U.tags).filter(function(a){return xb.indexOf(a)===-1});Q=Object.assign(Object.assign({},U),{tags:V});M=U.thread_id;M==null||D(f.fbid,M,T,N[3]);return F(f,[T,Q]);case 72:J=h._0;R=h._1;return y(void 0,f,J,{conversion_detection_data:R});case 73:p=[h._0,h._1,h._2,h._3,h._4];C=p[0];X=E(f,C);if(X===void 0)return f;H=b("bs_caml_option").valFromOption(X);A=H.attachments;if(A==null)return f;if(A.length!==1)return f;O=A[0];S=p[2]?[Object.assign(Object.assign({},O),{blurred_image_uri:void 0})]:[Object.assign(Object.assign({},O),{blurred_image_uri:p[3]})];W=Object.assign(Object.assign({},H),{attachments:S});Y=H.thread_id;Y==null||D(f.fbid,Y,C,p[4]);return F(f,[C,W]);case 74:L=h._0;s=h._1;return y(void 0,f,L,{suggested_reply_data:s});case 75:x=[h._0,h._1,h._2];P=x[0];q=E(f,P);if(q===void 0)return f;B=b("bs_caml_option").valFromOption(q);I=B.secondary_language_body;if(!(I==null))return f;r=Object.assign(Object.assign({},B),{is_secondary_language_body_decrypted:!1,secondary_language_body:x[1]});K=B.thread_id;K==null||D(f.fbid,K,P,x[2]);return F(f,[P,r]);case 76:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("HandoverThreadToHumanAgent");V=h._0;return y(void 0,f,V,{is_thread_currently_handled_by_ai_agent:!1})}case 1:U=g._0;switch(U.TAG){case 0:var yb=[];b("bs_belt_MapString").forEach(f.typing,function(a,c){return b("bs_belt_Map").forEach(c,function(b,c){if(c<Date.now()-3e4){yb.push([a,b]);return}})});if(yb.length===0)return f;var c={contents:f.typing};yb.forEach(function(a){c.contents=ka(c.contents,a[0],a[1])});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:c.contents,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 1:M=U._0;N=U._1;T=U._2;Q=U._3;var zb=f.threads,Ab=[];J=m(M.reduce(function(d,c){var a=b("bs_belt_Map").get(zb,c);if(a!==void 0)return b("bs_belt_Map").set(d,c,b("bs_caml_option").valFromOption(a));else{Ab.push(c);return d}},b("bs_belt_Map").make(b("ThreadId.bs"))));if(Ab.length!==0){R=a.threadSubToken;X=R.contents.toString();a.threadSubToken.contents=R.contents+1|0;a.threadCallbacks.contents[X]=[M,T];A=b("MercuryServerRequests").getForFBID(f.fbid);O=Ab.reduce(function(d,c){var e=b("MercuryIDs").tokenize(c),g=e.type;e=e.value;if(g!=="user")return d;g=b("MercuryIDs").getParticipantIDFromUserID(b("FBIDForMercury").ofStringExn(e));e=b("MercuryIDs").getParticipantIDFromUserID(f.fbid);e=b("MessengerThreadUtils.bs").createNewLocalThread(e,c,b("bs_caml_obj").caml_equal(g,e)?[e]:[e,g],null);g=b("bs_belt_Map").set(d,c,e);b("gkx")("1074761")||kb(g,a.threadCallbacks.contents);return g},f.threads);A.fetchThreadData(Ab,Q);b("bs_curry")._1(N,X);if(O===f.threads)return f;else return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:O,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp}}b("bs_curry")._1(T,J);return f;case 2:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnsubscribeThread");S=a.threadCallbacks.contents;jb(S,U._0);a.threadCallbacks.contents=S;return f;case 3:H=U._0;Y=b("bs_belt_Array").keepMap(H,function(a){a=E(f,a);if(a!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(a).offline_threading_id)});Y.forEach(function(a){f.localIDsMap["delete"](a)});return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 4:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("MontagePollStickerVoted");var Bb=U._0;p=Object.fromEntries(Object.entries(f.montage));C=Bb.montageActorID;W=p[C];if(W!==void 0){L=W.map(function(a){if(b("bs_caml_obj").caml_equal(Bb.montageMessageID,a.id)){var c=a.montage_overlays.map(function(a){if(!b("bs_caml_obj").caml_equal(a.poll.id,Bb.pollID))return a;var c=a.poll.poll_options.map(function(a,c){if(c===Bb.optionVotedIndex)return new(b("ImmutableObject"))({text:a.text,vote_count:a.vote_count+1|0});else return a});c=new(b("ImmutableObject"))({can_viewer_vote:a.poll.can_viewer_vote,id:a.poll.id,poll_options:c,viewer_vote_index:Bb.optionVotedIndex});return b("ImmutableObject").set(new(b("ImmutableObject"))(a),{poll:c})});return b("ImmutableObject").set(new(b("ImmutableObject"))(a),{montage_overlays:c})}else return a});p[C]=L}return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:p,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:f.threads,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 5:s=b("bs_belt_Map").set(f.threads,U._0,U._1);return{blockedIds:f.blockedIds,deliveryReceipts:f.deliveryReceipts,fbid:f.fbid,ignoredIds:f.ignoredIds,initialUnreadCounts:f.initialUnreadCounts,localIDsMap:f.localIDsMap,messages:f.messages,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,montage:f.montage,orderedMessageLists:f.orderedMessageLists,pendingFolderUnseenCount:f.pendingFolderUnseenCount,pendingReadStatusThreads:f.pendingReadStatusThreads,pinnedThreads:f.pinnedThreads,readReceiptsPerThread:f.readReceiptsPerThread,threadlistOrderMap:f.threadlistOrderMap,threads:s,typing:f.typing,unreadCounts:f.unreadCounts,unseenTimestamp:f.unseenTimestamp};case 6:if(qb(f,a,!1)<=0)return f;q=b("MercuryServerRequests").getForFBID(f.fbid);q.markSeen();return rb(f,q.getLastActionTimestamp(),"inbox");case 7:b("MercuryServerRequests").getForFBID(f.fbid).updateLastActionTimestamp(U._0);return f}case 2:I=g._0;switch(I.TAG){case 0:b("bs_curry")._1(I._0,{blocked_ids:f.blockedIds});break;case 1:b("bs_curry")._1(I._1,b("bs_belt_Map").get(f.threads,I._0));break;case 2:b("bs_curry")._1(I._0,f.pinnedThreads.concat([]));break;case 3:b("bs_curry")._2(I._0,f,a);break}return f}},d,c)}function O(a){var c=[b("MercurySyncEventsProxy").getArbiterTypeForFBID(a,"TYP")];b("FBIDCheck").isUser_deprecated(a)||c.push(b("ChannelConstants").getArbiterType("page_typing"));return c}function P(a){return{blockedIds:b("bs_belt_Set").make(b("ParticipantId.bs")),deliveryReceipts:void 0,fbid:a,ignoredIds:b("bs_belt_Set").make(b("ParticipantId.bs")),initialUnreadCounts:{},localIDsMap:new Map(),messages:new Map(),messagesWithUploadsInFlight:new Map(),montage:{},orderedMessageLists:new Map(),pendingFolderUnseenCount:0,pendingReadStatusThreads:new Set(),pinnedThreads:[],readReceiptsPerThread:void 0,threadlistOrderMap:oa(),threads:b("bs_belt_Map").make(b("ThreadId.bs")),typing:void 0,unreadCounts:{},unseenTimestamp:0}}var Q={contents:{}},R={contents:0},S=new Map(),T={contents:{}},U={contents:0},V=new Set(),W={contents:{}},X={contents:0},Y={existingPinnedThreads:V,failedHistoryFetchThreads:W,fallbackUnseenCount:X,localTitanMessageCount:S,messageCallbacks:T,messageSubToken:U,threadCallbacks:Q,threadSubToken:R},sb={contents:0},Z={};function tb(a,c,d){d=c!==void 0?b("bs_caml_option").valFromOption(c):b("RemoteAction.bs").create();c=Z[a];if(c!==void 0)return;Z[a]={remoteAction:d,state:P(a),subscriptions:new Set()};b("RemoteAction.bs").subscribe(function(c){var d=Z[a];if(d!==void 0){var e=d.state;c=N(Y,c,e);Z[a]={remoteAction:d.remoteAction,state:c,subscriptions:d.subscriptions};if(c===e)return;d=Z[a];d!==void 0?d.subscriptions.forEach(function(a){return b("bs_curry")._1(a.fn)}):b("recoverableViolation")("Subscriptions deleted after createion","messenger_comet");return}b("recoverableViolation")("State deleted after creation","messenger_comet")},d);var e=b("bs_caml_option").some(a),f=function(a){return $(e,a)},g=function(a){b("bs_curry")._1(f,[{_0:{_0:a,TAG:5},TAG:0}]),b("setTimeoutAcrossTransitions")(function(a){return b("bs_curry")._1(f,[{_0:{_0:void 0,TAG:0},TAG:1}])},3e4)};b("Arbiter").subscribe(O(a),function(b,c){b=c.obj;c=b.to;if(!(c==null)&&c.toString()!==a)return;else{g(b);return}})}function $(a,c){a=a!==void 0?b("bs_caml_option").valFromOption(a):b("CurrentUser").getID();tb(a);a=Z[a];if(a!==void 0)return b("RemoteAction.bs").send(a.remoteAction,c);else{b("recoverableViolation")("Subscriptions deleted after createion","messenger_comet");return}}function ub(a,c,d,e){var f=a!==void 0?b("bs_caml_option").valFromOption(a):b("CurrentUser").getID();e=c!==void 0?b("bs_caml_option").valFromOption(c):b("RemoteAction.bs").create();tb(f,b("bs_caml_option").some(e));a=k.useState(function(){var a=Z[f];if(a!==void 0)return a.state;else return b("unrecoverableViolation")("Rendering without state initialized","messenger_comet")});var g=a[1],h=a[0];c=Z[f];var i=k.useCallback(function(a){a=Z[f];var c=a!==void 0?a.state:b("unrecoverableViolation")("Rendering without state initialized","messenger_comet");if(d!==void 0)if(b("bs_curry")._2(d,h,c))return b("bs_curry")._1(g,function(a){return c});else return;else return b("bs_curry")._1(g,function(a){return c})},[d,h,g,c,f]);k.useEffect(function(){sb.contents=sb.contents+1|0;var a=sb.contents,c={fn:i,id:a};a=Z[f];a!==void 0?a.subscriptions.add(c):b("recoverableViolation")("Subscriptions deleted after createion, can't add subscription","messenger_comet");b("bs_curry")._1(i);return function(a){a=Z[f];a!==void 0?a.subscriptions["delete"](c):b("recoverableViolation")("Subscriptions deleted after createion, can't remove subscription","messenger_comet")}},[i,f]);return h}function vb(a){var c=a.shouldUpdate,d=a.remoteAction,e=a.fbid;a=a.children;e=e!==void 0?b("bs_caml_option").valFromOption(e):b("CurrentUser").getID();return b("bs_curry")._1(a,ub(b("bs_caml_option").some(e),d,c))}function wb(a){return ub(b("bs_caml_option").some(a))}function xb(a,c){return $(b("bs_caml_option").some(a),[{_0:{_0:c,TAG:0},TAG:2}])}function yb(a,c){b("MercuryAssert").isThreadID(c);var d={contents:void 0},e=function(a){d.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:e,TAG:1},TAG:2}]);return b("bs_js_null_undefined").fromOption(d.contents)}function zb(a,c,d,e){if(c.length!==0){b("MercuryAssert").allThreadID(c);var f={contents:null},g=function(a){f.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:g,_2:d,_3:e,TAG:1},TAG:1}]);return f.contents}b("bs_curry")._1(d,{});return null}function Ab(a,c,d,e){return zb(a,[c],function(a){return b("bs_curry")._1(d,a[c])},e)}function Bb(a,c,d,e){var f={contents:void 0},g=function(a){f.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:g,TAG:1},TAG:2}]);g=f.contents;if(g!==void 0)return b("bs_caml_option").valFromOption(g);g=b("MessengerThreadUtils.bs").createNewLocalThread(b("MercuryIDs").getParticipantIDFromUserID(a),c,d,e);$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:g,TAG:5},TAG:1}]);return g}function Cb(a){var c=b("MercuryLocalIDs").generateThreadID(null);Bb(a,c,[],null);return c}function Db(a,c,d,e){var f={contents:void 0},g=function(a){f.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:g,TAG:1},TAG:2}]);g=f.contents;if(g!==void 0)return b("bs_caml_option").valFromOption(g);g=b("MessengerThreadUtils.bs").createNewLocalGroupGeneralThread(b("MercuryIDs").getParticipantIDFromUserID(a),c,d,e);$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:g,TAG:5},TAG:1}]);return g}function Eb(a,c,d){var e=b("MercuryLocalIDs").generateThreadID(null);Db(a,e,c,d);return e}function Fb(a,c){var d={contents:void 0},e=function(a){d.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:e,TAG:1},TAG:2}]);a=d.contents;if(a!==void 0)return b("MercuryThreadInfo").isEmptyLocalThread(b("bs_caml_option").valFromOption(a));else return!1}function Gb(a,c){var d={contents:void 0},e=function(a){d.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:c,_1:e,TAG:1},TAG:2}]);a=d.contents;if(a!==void 0)return b("MercuryThreadInfo").isNewEmptyLocalThread(b("bs_caml_option").valFromOption(a));else return!1}function Hb(c){var a={contents:[]},d=function(b){a.contents=b};$(b("bs_caml_option").some(c),[{_0:{_0:d,TAG:2},TAG:2}]);return a.contents}function Ib(a,c){return $(b("bs_caml_option").some(a),[{_0:{_0:c,TAG:2},TAG:1}])}function Jb(a){var c=a.payload_source;if(c==null)return!1;if(b("bs_caml_obj").caml_equal(c,"client_change-archived_status")||b("bs_caml_obj").caml_equal(c,"client_channel_message")||b("bs_caml_obj").caml_equal(c,"client_send_message")||b("bs_caml_obj").caml_equal(c,"server_send_message")||b("bs_caml_obj").caml_equal(c,"server_fetch_threadlist_info")||b("bs_caml_obj").caml_equal(c,"server_thread_sync")||b("bs_caml_obj").caml_equal(c,"server_change_pinned_status")||b("bs_caml_obj").caml_equal(c,"server_change-pinned_messages")||b("bs_caml_obj").caml_equal(c,"server_invalidate_global_state")||b("bs_caml_obj").caml_equal(c,"client_update_comm_status"))return!0;if(!b("bs_caml_obj").caml_equal(c,"server_initial_data"))return!1;c=a.ordered_threadlists;return!(c==null)}function Kb(a,c){c={_0:{_0:c,TAG:4},TAG:1};return $(b("bs_caml_option").some(a),[c])}function Lb(a,c){return $(a==null?void 0:b("bs_caml_option").some(a),c)}function Mb(a){var c=[],d=!1;if(!(a==null)){var e=a.payload_source;!(e==null)&&b("bs_caml_obj").caml_equal(e,"server_invalidate_global_state")&&(d=!0);e=a.newlyAddedClientIDs;!(e==null)&&Object.keys(e).length>0&&c.push({_0:{_0:e,TAG:67},TAG:0});e=a.delivery_receipts;e==null||c.push({_0:{_0:e,TAG:0},TAG:0});e=a.message_ignored_ids;e==null||c.push({_0:{_0:e,TAG:1},TAG:0});e=a.threads;if(!(e==null)){var f=a.payload_source;f==null||(b("bs_caml_obj").caml_equal(f,"server_fetch_thread_info")&&c.push({_0:{_0:e,TAG:8},TAG:0}),b("bs_caml_obj").caml_equal(f,"server_invalidate_thread_state")&&e.length>0&&c.unshift({_0:{_0:b("bs_caml_array").get(e,0).thread_id,TAG:35},TAG:0}));c.push({_0:{_0:e,TAG:7},TAG:0})}f=a.participants;if(!(f==null)){c.push({_0:{_0:f,TAG:3},TAG:0});var g=[],h=[];f.forEach(function(a){a.is_messenger_blocked||a.is_facebook_blocked?g.push(b("MercuryIDs").getParticipantIDFromUserID(a.fbid)):h.push(b("MercuryIDs").getParticipantIDFromUserID(a.fbid))});e=0;(g.length!==0||h.length!==0)&&(e=1);e===1&&c.push({_0:{_0:g,_1:h,TAG:2},TAG:0})}f=a.message_blocked_ids;!(f==null)&&f.length>0&&c.push({_0:{_0:f,_1:[],TAG:2},TAG:0});e=a.message_unblocked_ids;!(e==null)&&e.length>0&&c.push({_0:{_0:[],_1:e,TAG:2},TAG:0});f=a.pending_folder_unseen_count;f==null||c.push({_0:{_0:f,TAG:4},TAG:0});e=a.global_actions;e==null||e.forEach(function(a){if(b("bs_caml_obj").caml_equal(a.action_type,"mga-type:mark-all-read")){c.push({_0:{_0:a.folder,TAG:33},TAG:0});return}});if(Jb(a)){f=a.ordered_threadlists;e=0;f==null||f.length===0?e=1:c.push({_0:{_0:f,TAG:9},TAG:0});if(e===1){f=a.threads;e=a.payload_source;!(f==null)&&!(e==null)&&f.length>0&&e!=="server_change_pinned_status"&&c.push({_0:{_0:f,TAG:10},TAG:0})}}e=a.pinned_thread_ids;!(e==null)&&e.length>0&&Jb(a)&&c.push({_0:{_0:e,TAG:11},TAG:0});f=a.roger;f==null||c.push({_0:{_0:f,TAG:6},TAG:0});e=a.montage_delete_message_delta;e==null||c.push({_0:{_0:e,TAG:63},TAG:0});f=a.montage_new_message_delta;f==null||c.push({_0:{_0:f,TAG:61},TAG:0});e=a.montage_poll_sticker_vote;e==null||e.forEach(function(a){c.push({_0:{_0:a,TAG:4},TAG:1})});f=a.current_montage_thread;if(!(f==null)){e=f.user;if(!(e==null)){f=e.messenger_montage_thread;f==null||(c.push({_0:{_0:e.id,TAG:62},TAG:0}),f.montage_messages.edges.forEach(function(a){c.push({_0:{_0:a.node,TAG:61},TAG:0})}))}}e=a.unread_thread_fbids;e==null||c.push({_0:{_0:e,TAG:65},TAG:0});f=a.message_counts;f==null||c.push({_0:{_0:f,TAG:66},TAG:0});e=a.actions;if(!(e==null)){var i=a.payload_source,j=i==null?void 0:b("bs_caml_option").some(i);e.forEach(function(d){var e=d.action_type,f=0;(i==null||!i.startsWith("server"))&&(f=1);f===1&&c.push({_0:{_0:d.timestamp,TAG:7},TAG:1});if(b("bs_caml_obj").caml_equal(j,b("bs_caml_option").some("server_search"))){c.push({_0:{_0:d,_1:{_0:void 0,TAG:0},TAG:36},TAG:0});return}if(b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(d.client_state),b("bs_caml_option").some(b("MercuryMessageClientState").SEND_TO_SERVER))){c.push({_0:{_0:d,_1:{_0:void 0,TAG:0},TAG:36},TAG:0});return}f=d.thread_id;var g=d.upload_id,h=d.upload_data,k=d.message_ids;ha(d);if(b("bs_caml_obj").caml_equal(e,"ma-type:delete-messages"))if(!(f==null)&&!(k==null)){c.push({_0:{_0:f,_1:k,_2:j,TAG:37},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:change-folder")){k=d.new_folder;if(!(f==null)&&!(k==null)){c.push({_0:{_0:f,_1:k,TAG:38},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:change-archived-status"))if(!(f==null)){c.push({_0:{_0:f,_1:d.archived,TAG:40},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:change-mute-settings")){k=d.reactions_mute_mode;var l=d.mentions_mute_mode,m=d.mute_until;l=k==null?l==null?m==null?void 0:{_0:m,TAG:2}:m==null?{_0:l===1,TAG:1}:void 0:!(l==null)||!(m==null)?void 0:{_0:k===1,TAG:0};if(!(f==null)&&l!==void 0){c.push({_0:{_0:f,_1:l,TAG:39},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:change_read_status")){if(f==null)return;m=a.from_client;c.push({_0:{_0:f,_1:d.mark_as_read,_2:d.timestamp,_3:m==null?!1:m,_4:d.source,TAG:45},TAG:0});return}if(b("bs_caml_obj").caml_equal(e,"ma-type:change-page-follow-up-status"))if(!(f==null)){c.push({_0:{_0:f,_1:d.is_page_follow_up,TAG:41},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:change-prioritization-status"))if(!(f==null)){c.push({_0:{_0:f,_1:d.is_priority,TAG:42},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:change-unresponded-status"))if(!(f==null)){c.push({_0:{_0:f,_1:d.is_page_unresponded_thread,TAG:44},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:block-status-changed")){if(f==null)return;k=d.canViewerReply?null:b("MessengerThreadCannotReplyReason.bs").fromMessageThreadCannotReplyReason(d.reason);c.push({_0:{_0:f,_1:d.canViewerReply,_2:k,TAG:13},TAG:0});return}if(b("bs_caml_obj").caml_equal(e,"ma-type:delete-thread"))if(!(f==null)){c.push({_0:{_0:f,TAG:46},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:reaction-update")){l=d.messageId;m=d.userId;if(!(l==null)&&!(m==null)){c.push({_0:{_0:l,_1:b("bs_caml_option").nullable_to_opt(d.reaction),_2:m,_3:j,TAG:49},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:montage-direct-expire")){k=d.messageId;if(!(k==null)){c.push({_0:{_0:k,_1:j,TAG:50},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:live-location-update")){l=d.messageId;m=d.liveLocation;if(!(l==null)&&!(m==null)){c.push({_0:{_0:l,_1:m,_2:j,TAG:51},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:replace-message")){c.push({_0:{_0:d,_1:j,TAG:52},TAG:0});return}if(b("bs_caml_obj").caml_equal(e,"ma-type:confirm-attachment-placeholder"))if(!(g==null)&&!(h==null)){c.push({_0:{_0:g,_1:h,TAG:48},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:cancel-attachment-placeholder"))if(!(g==null)&&!(h==null)){c.push({_0:{_0:g,_1:h,_2:j,TAG:47},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:send-message")){c.push({_0:{_0:d,_1:j,TAG:54},TAG:0});return}if(b("bs_caml_obj").caml_equal(e,"ma-type:user-generated-message")){c.push({_0:{_0:d,_1:j,_2:a.from_client,TAG:55},TAG:0});return}if(b("bs_caml_obj").caml_equal(e,"ma-type:log-message"))if(!b("MessengerMessage.bs").isLocalMessage(d)){c.push({_0:{_0:d,_1:j,_2:a.from_client,TAG:56},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:change-pinned-status"))if(!(f==null)){c.push({_0:{_0:f,_1:d.is_pinned,_2:d.thread_pin_timestamp,TAG:59},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:pin-message"))if(!(f==null)){c.push({_0:{_0:f,_1:d.pin_message_action,TAG:57},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:unpin-message"))if(!(f==null)){c.push({_0:{_0:f,_1:d.unpin_message_action,TAG:58},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:remove-message")){k=d.thread_id;l=d.messageId;m=d.removed_timestamp;g=d.author;if(!(k==null)&&!(l==null)&&!(m==null)&&!(g==null)){c.push({_0:{_0:k,_1:l,_2:g,_3:m,_4:j,TAG:68},TAG:0});b("MessengerDesktopNotifications").removeNotification(l);return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:unsubscribe-status-update"))if(!(f==null)){c.push({_0:{_0:f,_1:d.page_unsubscribe_status,TAG:12},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:blurred-image-status")){h=d.image_message_id;k=d.image_id;g=d.should_show;m=d.blurred_image_uri;if(!(h==null)&&!(k==null)&&!(g==null)&&!(m==null)){c.push({_0:{_0:h,_1:k,_2:g,_3:m,_4:j,TAG:73},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:add-participants"))if(!(f==null)){c.push({_0:{_0:f,_1:d.participants,TAG:14},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:change_flag"))if(!(f==null)){c.push({_0:{_0:f,_1:d.mark_as_flag,TAG:15},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:move_pending_to_inbox"))if(!(f==null)){c.push({_0:{_0:f,TAG:16},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:promote-group-admins")){l=d.promoted_admins;if(!(f==null)&&!(l==null)){c.push({_0:{_0:f,_1:l,TAG:18},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:remove_group_admins")){h=d.removed_admin_ids;if(!(f==null)&&!(h==null)){c.push({_0:{_0:f,_1:h,TAG:19},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:joinable-mode"))if(!(f==null)){c.push({_0:{_0:f,_1:d.joinable_mode,TAG:20},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:approval-mode"))if(!(f==null)){c.push({_0:{_0:f,_1:d.approval_mode,TAG:21},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:approval-queue"))if(!(f==null)){c.push({_0:{_0:f,_1:d.added_id,_2:d.added_group_id,_3:d.removed_id,_4:d.removed_group_id,TAG:22},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:is_pin_protected"))if(!(f==null)){c.push({_0:{_0:f,_1:d.is_pin_protected,TAG:23},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:update-rtc-call-data"))if(!(f==null)){c.push({_0:{_0:f,_1:d.initiator_fbid,_2:d.call_state,_3:d.server_info_data,TAG:24},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:update-comm-status"))if(!(f==null)){c.push({_0:{_0:f,_1:d.comm_status,TAG:25},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:update-comm-item-owner"))if(!(f==null)){c.push({_0:{_0:f,_1:d.id,_2:d.name,_3:d.profile_pic_uri,TAG:26},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:event-rsvp-changed"))if(!(f==null)){c.push({_0:{_0:f,_1:d.actor_fbid,_2:d.rsvp_status,TAG:27},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:update-connectivity-status")){k=d.thread_connectivity_status;if(!(f==null)&&!(k==null)){c.push({_0:{_0:f,_1:k,TAG:69},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:groups-sync-status-changed"))if(!(f==null)){c.push({_0:{_0:f,_1:d.groups_sync_action,_2:d.groups_sync_status_string,TAG:28},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:groups-sync-metadata-update"))if(!(f==null)){c.push({_0:{_0:f,_1:d.groups_sync_action,_2:d.fb_group_id,_3:d.emoji_codepoints,TAG:29},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:description-changed"))if(!(f==null)){c.push({_0:{_0:f,_1:d.group_thread_description_string,TAG:30},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:update-thread-theme"))if(!(f==null)){c.push({_0:{_0:f,_1:{footer_color:d.footer_color,gradient_colors:d.gradient_colors,header_color:d.header_color,reactions:d.reactions,solid_color:d.solid_color,theme_id:d.theme_id},TAG:31},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:update-joinable-link"))if(!(f==null)){c.push({_0:{_0:f,_1:d.joinable_link,TAG:32},TAG:0});return}else return;if(b("bs_caml_obj").caml_equal(e,"ma-type:mutate_tags")){g=d.tags_to_add;m=g==null?[]:g;l=d.tags_to_delete;h=l==null?[]:l;k=d.messageId;if(!(k==null)){c.push({_0:{_0:k,_1:m,_2:h,_3:j,TAG:71},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:ads_conversion_update")){g=d.conversion_detection_data;if(!(f==null)&&!(g==null)){c.push({_0:{_0:f,_1:g,TAG:72},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:suggested_reply_update")){l=d.suggested_reply_data;if(!(f==null)&&!(l==null)){c.push({_0:{_0:f,_1:l,TAG:74},TAG:0});return}else return}if(b("bs_caml_obj").caml_equal(e,"ma-type:handover-thread-to-human-agent"))if(!(f==null)){c.push({_0:{_0:f,TAG:76},TAG:0});return}else return;if(!b("bs_caml_obj").caml_equal(e,"ma-type:upade-secondary-language-body"))if(b("bs_caml_obj").caml_equal(e,"ma-type:update-biz-inbox-tags")&&!(f==null)){c.push({_0:{_0:f,_1:b("bs_caml_option").nullable_to_opt(d.add_biz_inbox_tag),_2:b("bs_caml_option").nullable_to_opt(d.remove_biz_inbox_tag),TAG:43},TAG:0});return}else return;k=d.secondary_language_body;m=d.messageId;if(!(k==null)&&!(m==null)){c.push({_0:{_0:m,_1:k,_2:j,TAG:75},TAG:0});return}});b("Utils.bs").isTruthy(a.from_client)&&e.forEach(function(a){var b=a.thread_id;if(!(b==null)){c.push({_0:{_0:b,_1:a.message_id,TAG:53},TAG:0});return}})}f=a.end_of_history;f==null||c.push({_0:{_0:f,_1:a.payload_source,TAG:64},TAG:0})}d&&c.unshift({_0:{_0:void 0,TAG:34},TAG:0});return c}function Nb(c,d){var a={contents:[]},e=function(b,c){c=b.orderedMessageLists.get(d);if(!(c==null)){a.contents=Ra(!0,b,c.messageIDs);return}};$(b("bs_caml_option").some(c),[{_0:{_0:e,TAG:3},TAG:2}]);return a.contents}function Ob(c,d){var a={contents:d},e=function(b,c){c=b.localIDsMap.get(d);if(!(c==null)){a.contents=c;return}};$(b("bs_caml_option").some(c),[{_0:{_0:e,TAG:3},TAG:2}]);return a.contents}function Pb(a,c){var d={contents:void 0},e=function(a,b){d.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:e,TAG:3},TAG:2}]);a=d.contents;if(a!==void 0)return Ra(!1,a,c);else return[]}function Qb(a,c){var d={contents:void 0},e=function(a,b){d.contents=a};$(b("bs_caml_option").some(a),[{_0:{_0:e,TAG:3},TAG:2}]);a=d.contents;if(a!==void 0)return b("bs_caml_option").nullable_to_opt(a.messages.get(c))}function Rb(a,c,d){var e={contents:!1},f=function(a,b){b=a.orderedMessageLists.get(c);if(b==null)return;a=b.messageLoadingState;b=b.messageIDs.length;a.TAG===0?e.contents=b>=d:e.contents=!0};$(b("bs_caml_option").some(a),[{_0:{_0:f,TAG:3},TAG:2}]);return e.contents}function Sb(a,c){var d={contents:!1},e=function(a,b){b=a.orderedMessageLists.get(c);if(b==null)return;a=b.messageLoadingState;a.TAG===0?d.contents=!1:d.contents=!0};$(b("bs_caml_option").some(a),[{_0:{_0:e,TAG:3},TAG:2}]);return d.contents}function Tb(a,c){return $(b("bs_caml_option").some(a),[{_0:{_0:c,TAG:3},TAG:1}])}function Ub(a,c,d,e){var f=[],g=function(a,g){g=a.orderedMessageLists.get(c);if(g==null)return;g=g.messageIDs;for(var h=d,i=d+e|0;h<=i;++h){var j=b("bs_belt_Option").flatMap(b("bs_belt_Array").get(g,h),function(b){return E(a,b)});j!==void 0&&f.push(b("bs_caml_option").valFromOption(j))}};$(b("bs_caml_option").some(a),[{_0:{_0:g,TAG:3},TAG:2}]);return f}var Vb={contents:void 0};function Wb(a,c,d,e,f,g,h){var i=function(j,i){Vb.contents=[c,d,e];var k=j.orderedMessageLists.get(c);k=k==null?[[],void 0]:[k.messageIDs,k.messageLoadingState];var l=k[0];if(i.failedHistoryFetchThreads.contents[c]!==!0){var m=l.length-b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(i.localTitanMessageCount.get(c)),0)|0;m>0&&b("ChatReliabilityInstrumentation").logERROR("fetch made with message in flight");var n=m-d|0;n=e-n|0;if(!(n>0&&b("bs_caml_obj").caml_notequal(k[1],{_0:void 0,TAG:1})))return b("bs_curry")._1(f,b("bs_belt_Array").keepMap(l,function(a){return E(j,a)}).slice(d,e));k=b("MercuryServerRequests").getForFBID(a);l=b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_belt_Array").get(l,m-1|0),function(a){return E(j,a)}),function(a){return a.timestamp}));var o=i.messageSubToken.contents;i.messageSubToken.contents=o+1|0;i.messageCallbacks.contents[String(o)]=[{limit:e,offset:d,threadID:c},f];if(b("bs_caml_obj").caml_equal([c,d,e],Vb.contents)){k.fetchThreadMessages(c,m,n,l,g,h);return}else return}Vb.contents=void 0;i.failedHistoryFetchThreads.contents[c]=!1};return $(b("bs_caml_option").some(a),[{_0:{_0:i,TAG:3},TAG:2}])}function Xb(a,b,c,d,e,f,g){if(!Sb(a,b))return Wb(a,b,c,d,e,f,g)}function Yb(a){var c={contents:0},d=function(d,a){c.contents=(i||(i=b("bs_caml"))).caml_int_min(M(d,a),b("MercuryThreadlistConstants").MAX_UNSEEN_COUNT)};$(b("bs_caml_option").some(a),[{_0:{_0:d,TAG:3},TAG:2}]);return c.contents}function Zb(a){var c={contents:0},d=function(b,a){c.contents=M(b,a)};$(b("bs_caml_option").some(a),[{_0:{_0:d,TAG:3},TAG:2}]);return c.contents}function $b(a){var c={contents:0},d=function(d,a){c.contents=(i||(i=b("bs_caml"))).caml_int_min(qb(d,a,!0),b("MercuryThreadlistConstants").MAX_UNSEEN_COUNT)};$(b("bs_caml_option").some(a),[{_0:{_0:d,TAG:3},TAG:2}]);return c.contents}function ac(a){return $(b("bs_caml_option").some(a),[{_0:{_0:void 0,TAG:6},TAG:1}])}function bc(a,c){var d={contents:null},e=function(a,e){e=a.unreadCounts[c];d.contents=e!==void 0?b("bs_belt_Array").keepMap(b("JSSet.bs").values(b("bs_caml_option").valFromOption(e)),function(c){return b("bs_caml_option").nullable_to_opt(n(a,c))}).filter(function(a){var c=!b("MercuryThreadInfo").isMuted(a);if(c)return a.unread_count>0;else return!1}).length:null};$(b("bs_caml_option").some(a),[{_0:{_0:e,TAG:3},TAG:2}]);return d.contents}function cc(a){var c={contents:[]},d=function(a,d){c.contents=b("bs_belt_Map").keysToArray(a.threads)};$(b("bs_caml_option").some(a),[{_0:{_0:d,TAG:3},TAG:2}]);return c.contents}V={make:vb};W=vb;f.irisMapping=l;f.fbid=c;f.deliveryReceipts=d;f.readReceiptsPerThread=e;f.ignoredIds=o;f.blockedIds=aa;f.pendingFolderUnseenCount=p;f.typing=ba;f.pendingReadStatusThreads=q;f.messages=r;f.localIDsMap=s;f.messagesWithUploadsInFlight=ca;f.threadlistOrderMap=t;f.pinnedThreads=u;f.montage=v;f.orderedMessageLists=da;f.unreadCounts=ea;f.initialUnreadCounts=fa;f.unseenTimestamp=ga;f.threads=a;f.thread=n;f.send=$;f.compute=xb;f.getThreadMetaNow=yb;f.getMultiThreadMeta=zb;f.getThreadMeta=Ab;f.createNewLocalThread=Bb;f.createNewLocalThreadGenerateID=Cb;f.createNewLocalGroupGeneralThreadGenerateID=Eb;f.isEmptyLocalThread=Fb;f.isNewEmptyLocalThread=Gb;f.getPinnedThreadlist=Hb;f.unsubscribeThread=Ib;f.sendJS=Lb;f.invalidateSearchedMessages=Tb;f.hasLoadedNMessages=Rb;f.hasLoadedAllMessages=Sb;f.getCurrentlyLoadedMessages=Nb;f.getServerMessageID=Ob;f.getMessagesFromIDs=Pb;f.getMessageFromID=Qb;f.getThreadMessagesRange=Wb;f.getThreadMessagesRangeNow=Ub;f.fetchMoreMessages=Xb;f.processPollStickerVoted=Kb;f.getUnseenUnreadCount=Yb;f.getUnseenUnreadCountRaw=Zb;f.getUnseenCount=$b;f.getThreadIDs_debug=cc;f.getUnreadThreadCount=bc;f.markAsSeen=ac;f.processJSActions=Mb;f.Provider=V;f.jsComponent=W;f.useHook=wb}),null);
__d("MessengerState.re",["MessengerState.bs"],(function(a,b,c,d,e,f){c=(a=b("MessengerState.bs")).fbid;f.fbid=c;d=a.deliveryReceipts;f.deliveryReceipts=d;e=a.readReceiptsPerThread;f.readReceiptsPerThread=e;b=a.ignoredIds;f.ignoredIds=b;c=a.blockedIds;f.blockedIds=c;d=a.pendingFolderUnseenCount;f.pendingFolderUnseenCount=d;e=a.typing;f.typing=e;b=a.pendingReadStatusThreads;f.pendingReadStatusThreads=b;c=a.messages;f.messages=c;d=a.localIDsMap;f.localIDsMap=d;e=a.threadlistOrderMap;f.threadlistOrderMap=e;b=a.pinnedThreads;f.pinnedThreads=b;c=a.montage;f.montage=c;d=a.orderedMessageLists;f.orderedMessageLists=d;e=a.unreadCounts;f.unreadCounts=e;b=a.initialUnreadCounts;f.initialUnreadCounts=b;c=a.unseenTimestamp;f.unseenTimestamp=c;d=a.threads;f.threads=d;e=a.thread;f.thread=e;b=a.compute;f.compute=b;c=a.getThreadMetaNow;f.getThreadMetaNow=c;d=a.getMultiThreadMeta;f.getMultiThreadMeta=d;e=a.getThreadMeta;f.getThreadMeta=e;b=a.isEmptyLocalThread;f.isEmptyLocalThread=b;c=a.getPinnedThreadlist;f.getPinnedThreadlist=c;d=a.unsubscribeThread;f.unsubscribeThread=d;e=a.hasLoadedNMessages;f.hasLoadedNMessages=e;b=a.getCurrentlyLoadedMessages;f.getCurrentlyLoadedMessages=b;c=a.getServerMessageID;f.getServerMessageID=c;d=a.getMessagesFromIDs;f.getMessagesFromIDs=d;e=a.getMessageFromID;f.getMessageFromID=e;b=a.getThreadMessagesRange;f.getThreadMessagesRange=b;c=a.getThreadMessagesRangeNow;f.getThreadMessagesRangeNow=c;d=a.fetchMoreMessages;f.fetchMoreMessages=d;e=a.getUnseenUnreadCount;f.getUnseenUnreadCount=e;b=a.getUnseenCount;f.getUnseenCount=b;c=a.getThreadIDs_debug;f.getThreadIDs_debug=c;d=a.getUnreadThreadCount;f.getUnreadThreadCount=d;e=a.jsComponent;f.jsComponent=e;b=a.useHook;f.useHook=b}),null);
__d("MercuryDelayedDispatcher",["MercuryDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$1=a;this.$2=[];this.$3=c("MercuryThreadIDMap").getForFBID(this.$1);this.$4=c("MercuryDispatcher").getForFBID(this.$1);this.$5=c("MercuryServerRequests").getForFBID(this.$1);this.$6=c("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.$4.subscribe("model-update-completed",function(a,c){return b.$7()})}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};var b=a.prototype;b.handleUpdateWaitForThread=function(a,b){var c=this,d=this.$3.getClientIDFromServerIDNow(b);if(d){this.$8(a);return}this.$3.getClientIDFromServerID(b,function(){return c.$2.push({thread_fbid:b,payload:a})});this.$5.ensureThreadIsFetched(b)};b.$7=function(){if(this.$2&&this.$2.length){var a=this.$2.shift(),b=a.thread_fbid;a=a.payload;this.handleUpdateWaitForThread(a,b)}};b.$8=function(a){a.from_client?this.$4.handleUpdate(a):this.$6.handleUpdate(a)};return a}();var h=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercuryDispatcher",["invariant","ArbiterMixin","LogHistory","MercuryMessagingLightswitch","MercurySingletonProvider","MercuryThreadInformer","MessengerParticipants.bs","MessengerState.bs","gkx","isEmpty","mixin"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("LogHistory").getInstance("mercury_dispatcher");a=function(a){babelHelpers.inheritsLoose(b,a);b.getForFBID=function(a){return k.getForFBID(a)};b.get=function(){return k.get()};function b(b){var c;c=a.call(this)||this;c.$MercuryDispatcher1=b;return c}var e=b.prototype;e.handlePreprocessedUpdate=function(a){a.preprocessed=!0,this.handleUpdate(a)};e.handleUpdate=function(a){var b=this;this.$MercuryDispatcher2(a);!!a.from_client!==!!a.preprocessed||h(0,5757);delete a.preprocessed;(i||(i=c("isEmpty")))(a)||c("MercuryThreadInformer").getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){a.payload_source==="server_invalidate_global_state"&&(b.inform("invalidate-global-state",{}),d("MessengerParticipants.bs").reset());if(a.payload_source==="server_fetch_thread_info"&&a.error_actions&&a.error_actions.length){b.inform("thread-error",a);return}if(a.payload_source==="server_invalidate_thread_state"){var e=a.threads&&a.threads.length>0&&a.threads[0]&&a.threads[0].thread_id;e&&b.inform("invalidate-thread-state",e)}a.threads&&Array.isArray(a.threads)&&a.threads.length>0&&c("gkx")("1443200")&&d("MessengerParticipants.bs").addPreloadedParticipants(a.threads[0]);d("MessengerParticipants.bs").addParticipants(a);d("MessengerState.bs").sendJS(b.$MercuryDispatcher1,d("MessengerState.bs").processJSActions(a));b.inform("update-threadlist",a);b.inform("update-messages",a);b.inform("model-update-completed",null)})};e.$MercuryDispatcher2=function(a){var b=a.payload_source;if(b==="client_change_read_status"||b==="client_mark_thread_seen")return;var d={from_client:a.from_client,messages:null};if(a.actions){a=a.actions.filter(function(a){return a.action_type==="ma-type:user-generated-message"||a.action_type==="ma-type:log-message"}).map(function(a){return{action_type:a.action_type,other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,message_id:a.message_id}});a.length&&(d.messages=a)}c("MercuryMessagingLightswitch").guard(function(){j.debug("update:"+b,JSON.stringify(d))})};return b}(c("mixin")(c("ArbiterMixin")));var k=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercurySendErrorLogger",["Banzai","BanzaiLogger","MercuryMessagingLightswitch"],(function(a,b,c,d,e,f,g){var h=c("BanzaiLogger").create({retry:!0}),i=c("Banzai").isEnabled("mercury_send_error_logging");a={log:function(a){if(!i)return;c("MercuryMessagingLightswitch").guard(function(){var b={message_id:a.message_id,timestamp_client:Date.now(),error_type:a.error_data.type,error_code:a.error_data.code,error_description:a.error_data.description,is_transient:a.error_data.is_transient};h.log("MercurySendErrorLoggerConfig",b)})}};b=a;g["default"]=b}),98);
__d("MercuryServerPayloadPreprocessor",["invariant","ChatReliabilityInstrumentation","LogHistory","MercuryAttachment","MercuryDispatcher","MercuryIDs","MercuryMessagingLightswitch","MercurySendErrorLogger","MercurySingletonProvider","MercuryThreadIDMap","MessengerEnvironment","MessengerState.re","URI","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=function(){function a(a){this.$4=d("LogHistory").getInstance("MercuryServerPayloadPreprocessor"),this.$1=a,this.$2=c("MercuryThreadIDMap").getForFBID(this.$1),this.$3=c("MercuryDispatcher").getForFBID(this.$1)}a.getForFBID=function(a){return j.getForFBID(a)};a.get=function(){return j.get()};var b=a.prototype;b.handleUpdate=function(a){var b=this,f={};a.from_client&&h(0,2150);(a.threads||[]).forEach(function(a){b.$5(a,f);var c=b.$2.getServerIDFromClientIDNow(a.thread_id);e(["MercuryServerRequests"],function(d){d=d.getForFBID(b.$1);d.markThreadFetched(a.thread_id);c&&d.markThreadFetched(c);d.updateLastActionTimestamp(a.timestamp)})});a.pinned_thread_ids=(a.pinned_thread_ids||[]).map(function(a){return b.$2.getClientIDFromServerIDNow(a)});(a.ordered_threadlists||[]).forEach(function(a){var c=a.thread_fbids||[];c=c.concat(a.other_user_fbids||[]);a.thread_ids=c.map(function(a){return b.$2.getClientIDFromServerIDNow(a.toString())})});if(a.delivery_receipts){var g={};for(var i=a.delivery_receipts,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;var m=l.other_user_fbid?d("MercuryIDs").getThreadIDFromUserID(l.other_user_fbid):this.$2.getClientIDFromServerIDNow(l.thread_fbid);m&&(g[m]=l.time)}a.delivery_receipts=g}a.actions=a.actions||[];a.actions.forEach(function(g){g.action_type==="ma-type:send-message"&&g.status===10&&c("MercuryMessagingLightswitch").guard(function(){c("MercurySendErrorLogger").log(g)});var i=null,j=null;g.other_user_fbid?(j=d("MercuryIDs").getThreadIDFromUserID(g.other_user_fbid),i=g.other_user_fbid):g.thread_fbid?(j=d("MercuryIDs").getThreadIDFromThreadFBID(g.thread_fbid),i=g.thread_fbid):g.thread_id?(j=d("MercuryIDs").getThreadIDFromThreadFBID(g.thread_id),i=g.thread_id):g.status&&g.status!=1&&g.client_thread_id?j=g.client_thread_id:h(0,2151,g.action_type,g.status);i=i&&i.toString();g.thread_id=b.$2.hasClientIDForServerID(i)?b.$2.getClientIDFromServerIDNow(i):j;g.action_type=="ma-type:send-message"&&g.client_thread_id&&i&&(g.thread_id=g.client_thread_id,b.$6("forceSetServerIDToClientID",i,g.client_thread_id)&&d("ChatReliabilityInstrumentation").logSET_THREAD_ID_MAP(i+":"+g.client_thread_id),b.$2.forceSetServerIDToClientID(i,g.client_thread_id),f[i]=g.client_thread_id);g.thread_id||h(0,2152,g.action_type);(!a.payload_source||!a.payload_source.startsWith("server"))&&e(["MercuryServerRequests"],function(a){a.getForFBID(b.$1).updateLastActionTimestamp(g.timestamp)})});this.$7(a);this.$8(a);if(a.end_of_history){m=[];for(l=0;l<a.end_of_history.length;l++){k=a.end_of_history[l];k.type=="user"?m.push("user:"+k.fbid):k.type=="thread"&&this.$2.hasClientIDForServerID(k.fbid)&&m.push(this.$2.getClientIDFromServerIDNow(k.fbid))}a.end_of_history=m}if(a.roger){var n={};Object.keys(a.roger).forEach(function(c){var e=Object.keys(a.roger[c]),f;c?f=b.$2.getClientIDFromServerIDNow(c):e.length===1&&(f=d("MercuryIDs").getThreadIDFromUserID(e[0]));if(f){e=a.roger[c];n[f]={};for(c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var g=d("MercuryIDs").getParticipantIDFromUserID(c);n[f][g]=e[c]}}});a.roger=n}a.newlyAddedClientIDs=f;a.preprocessed=!0;this.$3.handleUpdate(a)};b.$6=function(a,b,e){var f=this;if(!c("gkx")("1199097"))return;var g=d("MessengerState.re").getThreadMetaNow(this.$1,e);if(g==null){c("MercuryMessagingLightswitch").guard(function(){f.$4.debug(a,b+":"+e)});return!0}return!1};b.$5=function(a,b){var c=a.other_user_fbid?a.other_user_fbid:a.thread_fbid;c||h(0,2153);var e=this.$2.getClientIDFromServerIDNow(c);e||(e=a.other_user_fbid?d("MercuryIDs").getThreadIDFromUserID(a.other_user_fbid):d("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid),this.$6("setServerIDToClientID",c,e),this.$2.setServerIDToClientID(c,e),this.$2.setDeprecatedServerIDToClientID(a.thread_id,e),b[c]=e);a.thread_id=e};b.$7=function(a){a.actions.forEach(function(a){a.action_type==="ma-type:user-generated-message"&&(a.attachments=a.attachments||[],a.attachments.forEach(function(a){if(d("MercuryAttachment").isShareAttachment(a)&&a.share&&c("MessengerEnvironment").messengerui){var b=new(i||(i=c("URI")))(a.share.uri);b.getDomain()||(a.share.uri=b.setDomain("facebook.com").setSubdomain((i||(i=c("URI"))).getRequestURI().getSubdomain()).setProtocol("https").toString())}}))})};b.$8=function(a){a.actions.forEach(function(a){if(a.action_type!=="ma-type:user-generated-message")return;a=a;if(!a.has_attachment||!a.attachments)return;for(var b=a.attachments.length-1;b>=0;b-=1){var c=a.attachments[b];if(!c.share||!c.share.style_list||c.share.style_list[0]!="genie_message")continue;c.share.target.genie_id&&(a.author=d("MercuryIDs").getParticipantIDFromUserID(c.share.target.genie_id));c.share.target&&!c.share.target.attachment&&(a.attachments.splice(b,1),a.has_attachment=a.attachments.length>0)}})};return a}();var j=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercuryClientSourceType",["MercuryAPIArgsSource","MercurySingletonProvider"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=!1,this.$3=c("MercuryAPIArgsSource").MERCURY}a.getForFBID=function(a){return h.getForFBID(a)};var b=a.prototype;b.setSource=function(a){a!=null&&this.$3==null&&(this.$3=a)};b.getSource=function(){return this.$3};return a}();var h=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";a="/ajax/mercury/thread_info.php";b="/ajax/mercury/mark_folder_as_read.php";c="/ajax/mercury/change_read_status.php";d="/ajax/mercury/mark_seen.php";e="/ajax/mercury/threadlist_info.php";var g="/ajax/mercury/mark_spam.php",h="/ajax/mercury/unmark_spam.php",i="/ajax/mercury/unread_threads.php",j="/ajax/mercury/change_pinned_status.php",k="/ajax/mercury/change_archived_status.php",l="/ajax/mercury/change_page_follow_up_status.php",m="/ajax/mercury/delete_thread.php",n="/ajax/mercury/delete_messages.php",o="/ajax/mercury/delivery_receipts.php",p="/ajax/mercury/move_thread.php",q="/ajax/mercury/change_mute_thread.php";f.THREAD_INFO=a;f.MARK_FOLDER_READ=b;f.CHANGE_READ_STATUS=c;f.MARK_SEEN=d;f.THREADLIST_INFO=e;f.MARK_SPAM=g;f.UNMARK_SPAM=h;f.UNREAD_THREADS=i;f.CHANGE_PINNED_STATUS=j;f.CHANGE_ARCHIVED_STATUS=k;f.CHANGE_PAGE_FOLLOW_UP_STATUS=l;f.DELETE_THREAD=m;f.DELETE_MESSAGES=n;f.DELIVERY_RECEIPTS=o;f.MOVE_THREAD=p;f.CHANGE_MUTE_THREAD=q}),66);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryMessagingLightswitch","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);b("MercuryMessagingLightswitch").guard(function(){i.log("send",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(f,g){var h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g);var i=[],j=Object.keys(g);for(var k=0;k<j.length;k++){var l=j[k];if(Object.prototype.hasOwnProperty.call(a,l)){var m=a[l];i.push({limit:m.before?m.limit+1:m.limit,folder:l,tags:m.filter?[g[l],m.filter]:[g[l]],timestamp:m.before,filter:m.filter,includeDeliveryReceipts:!0,includeSeqID:!1,source:a.client})}}l=function(){b("promiseDone")(f.fetchAll(h,i,d,"fetch_threadlist"),function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};l()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(b){var c=k[b].limit,d=k[b].timestamp;return{id:b,limit:d?c+1:c,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:d,isCanonical:!0,source:a.client}}),n=new Set(g);h.forEach(function(b){if(n.has(b))return;i.push({id:b,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0,source:a.client})});g=Object.keys(l);var o=g.map(function(b){var c=l[b].limit,d=l[b].timestamp;return{id:b,limit:d?c+1:c,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:d,isCanonical:!1,source:a.client}}),p=new Set(g);j.forEach(function(b){if(p.has(b))return;o.push({id:b,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1,source:a.client})});var q=[].concat(i,o);q.forEach(function(a){a.limit>21&&b("ChatReliabilityInstrumentation").logFETCHING_MANY_MESSAGES(JSON.stringify(a))});b("promiseDone")(d.fetchAll(f,q,m),function(a){a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("MercuryMessagingLightswitch").guard(function(){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint})}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){var d=this;if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var e=this._batches.length-1;e>=0?c?this._batches[e].combineWithOlder(a,this._combineData):this._batches[e].combineWith(a,this._combineData):this._batches.push(new o(a));b("MercuryMessagingLightswitch").guard(function(){i.debug("batch",JSON.stringify({endpoint:d._endpoint}))})}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.log("response",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=a.getPayload();l=d&&d.kill_chat;l&&b("MercuryMessagingLightswitch").guard(function(){i.log("killswitch_enabled",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});d&&d.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(d,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.error("error",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}))});k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));var d=this._mode;d==m.BATCH_SUCCESSIVE||d==m.BATCH_SUCCESSIVE_UNIQUE||d==m.BATCH_CONDITIONAL?this._batchSend():d==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m}),null);
__d("MercuryServerSendMessageQueueOptions",[],(function(a,b,c,d,e,f){a=function(a,b,c,d,e,f){this.success_handler=a,this.error_handler=b,this.transport_error_handler=c,this.timeout_handler=d,this.timeout=e,this.connection_retries=f};f["default"]=a}),66);
__d("MercurySyncDeltaHolder",["MercurySingletonProvider"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$2=new Map(),this.$3=[],this.$1=0}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};var b=a.prototype;b.peek=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3[0]};b.getTop=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3.reverse()[0]};b.pop=function(){this.$3=this.$3.sort(function(a,b){return a-b});if(this.$3.length===0)return void 0;var a=this.$3.shift(),b=this.$2.get(a);this.$2["delete"](a);return{seqID:a,delta:b}};b.push=function(a,b){if(this.$2.has(a))return;this.$2.set(a,b);this.$3.push(a)};b.getLastSeqID=function(){return this.$1};b.updateLastSeqID=function(a){this.$1=a};b.updateLastSeqIDAndClearHistory=function(a){this.$2=new Map(),this.$3=[],this.$1=a};return a}();var h=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("XMercuryUnseenThreadIDsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/unseen_thread_ids/",{})}),null);
__d("MercuryServerRequests",["errorCode","invariant","Arbiter","AsyncResponse","AvailableListConstants","Bootloader","ChannelConstants","ChatReliabilityInstrumentation","CurrentUser","Env","LogHistory","MercuryAPIArgsSource","MercuryAssert","MercuryClientSourceType","MercuryDispatcher","MercuryIDs","MercuryMessageClientState","MercuryMessageIDs.bs","MercuryMessagingLightswitch","MercurySendErrorLogger","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequestsConfig","MercuryServerSendMessageQueueOptions","MercuryServerSendMessageQueueRouter","MercuryServerURIs","MercurySingletonProvider","MercurySyncDeltaHolder","MercuryTagHelper","MercuryThreadIDMap","MessagingConfig","MessagingTag","MessengerEnvironment","MessengerWebEventsFalcoEvent","ODS","PresenceStatus","Promise","ScriptPath","XMercuryUnseenThreadIDsController","createObjectFrom","promiseDone","qpl","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=d("LogHistory").getInstance("mercury_server"),n=30*1e3;function o(a){return a.getError()?"_"+a.getError():""}function p(a,b){var d=babelHelpers["extends"]({},a),e;if(b.threads){d.threads||(d.threads={});for(e in b.threads)d.threads[e]=Object.keys(c("createObjectFrom")((d.threads[e]||[]).concat(b.threads[e]||[])))}if(b.messages){d.messages||(d.messages={});for(e in b.messages){d.messages[e]||(d.messages[e]={});for(var f in b.messages[e])d.messages[e][f]?d.messages[e][f]=t(d.messages[e][f],b.messages[e][f]):d.messages[e][f]=b.messages[e][f]}}d.client=a.client||b.client;return d}function q(a,b){var d=Object.assign(c("createObjectFrom")(a.folders,!0),c("createObjectFrom")(b.folders,!0));a=a.client||b.client;return{folders:Object.keys(d),client:a}}function r(a,b){for(var c in b)if(a[c]&&typeof a[c]==="object")a[c]=t(a[c],b[c]);else if(b[c]&&typeof b[c]==="object"){var d={};Object.assign(d,b[c]);a[c]=d}return a}function s(a,b){return b}function t(a,b){var c=Math.max(a.limit,b.limit),d;!a.timestamp?d=b.timestamp:!b.timestamp?d=a.timestamp:d=Math.min(a.timestamp,b.timestamp);return{limit:c,timestamp:d}}function u(a,b){var c=a.client||b.client;c={ids:{},client:c};Object.assign(c.ids,a.ids,b.ids);return c}function v(a,b){var d={},e,f=a.client||b.client;delete a.client;delete b.client;for(e in a)Object.assign(d,c("createObjectFrom")(a[e],e));for(e in b)Object.assign(d,c("createObjectFrom")(b[e],e));a={client:f};for(b in d)e=d[b],a[e]||(a[e]=[]),a[e].push(b);return a}function w(a,b){var d=a.client||b.client;a=c("createObjectFrom")(a.ids,!0);b=c("createObjectFrom")(b.ids,!0);a=Object.assign(a,b);return{ids:Object.keys(a),client:d}}a=function(){function a(a){var b=this;this.$1=a;this.$2=0;this.$3={};this.$4={};this.__threadIDMap=c("MercuryThreadIDMap").getForFBID(this.$1);this.$5=c("MercuryDispatcher").getForFBID(this.$1);this.$6=c("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.$7=new(c("MercuryServerSendMessageQueueOptions"))(function(a,c){b.__handleUpdate(a,c)},function(a){return b.$9(a)},function(a){b.$10(a)},function(a){return b.$11(a)},d("MercuryServerRequestsConfig").sendMessageTimeout,d("MessagingConfig").SEND_CONNECTION_RETRIES);this.$8=c("MercurySyncDeltaHolder").getForFBID(this.$1);this.$12()}a.getForFBID=function(a){return x.getForFBID(a)};a.get=function(){return x.get()};var e=a.prototype;e.fetchThreadlistInfo=function(a,b,e,f,g,h){e===void 0&&(e=c("MessagingTag").INBOX);g===void 0&&(g=c("MercuryAPIArgsSource").MERCURY);var i=f?d("MercuryServerDispatcher").IMMEDIATE:null;g={client:g};g[e]={offset:a,limit:b,filter:f,before:h};this.__sendRequest(d("MercuryServerURIs").THREADLIST_INFO,g,i)};e.fetchUnseenThreadIDs=function(a,b){a===void 0&&c("MessagingTag").INBOX,b===void 0&&(b=c("MercuryAPIArgsSource").MERCURY),this.__sendRequest(c("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString(),{})};e.fetchUnreadThreadIDs=function(a,b){b===void 0&&(b=c("MercuryAPIArgsSource").MERCURY);var e=c("MercuryClientSourceType").getForFBID(this.$1);e=e.getSource();e!=c("MercuryAPIArgsSource").MERCURY&&(b=e);this.__sendRequest(d("MercuryServerURIs").UNREAD_THREADS,{folders:[a],client:b})};e.fetchThreadData=function(a,b){var e=this;b===void 0&&(b=c("MercuryAPIArgsSource").MERCURY);d("MercuryAssert").allThreadID(a);var f={threads:{},client:b},g=[],h=[];a.forEach(function(a){if(e.$3[a])return;e.$3[a]=!0;var b=e.__threadIDMap.getServerIDFromClientIDNow(a);a=d("MercuryIDs").tokenize(a);if(a.type=="user")g.push(a.value),f.threads.user_ids=g;else if(a.type=="thread")b?h.push(b):h.push(a.value),f.threads.thread_fbids=h;else if(a.type=="root")b&&(h.push(b),f.threads.thread_fbids=h);else if(a.type!="pending")throw new Error("Unknown thread type",a)});f.threads.user_ids&&f.threads.user_ids.forEach(function(a){a||(c("MercuryMessagingLightswitch").guard(function(){m.error("empty user id",JSON.stringify(g))}),d("ChatReliabilityInstrumentation").logERROR("Invalid user ID sent to thread_info.php: "+JSON.stringify(g)))});f.threads.thread_fbids&&f.threads.thread_fbids.forEach(function(b){b||d("ChatReliabilityInstrumentation").logERROR("Invalid FBID sent to thread_info.php: "+JSON.stringify(a))});for(b in f.threads){this.__sendRequest(d("MercuryServerURIs").THREAD_INFO,f);break}};e.ensureThreadIsFetched=function(a,b){b===void 0&&(b=c("MercuryAPIArgsSource").MERCURY);if(!this.__threadIDMap.getClientIDFromServerIDNow(a)&&!this.$3[a]){if(!a){d("ChatReliabilityInstrumentation").logERROR("Ensure invalid FBID sent to thread_info.php");m.error("attempting to fetch empty thread_fbid. Bad idea!");return}this.$3[a]=!0;this.__sendRequest(d("MercuryServerURIs").THREAD_INFO,{threads:{thread_fbids:[a]},client:b})}};e.fetchThreadMessages=function(a,b,e,f,g,h){var i=this;h===void 0&&(h=c("MercuryAPIArgsSource").MERCURY);d("MercuryAssert").isThreadID(a);var j;b=d("MercuryIDs").tokenize(a);var k=this.__threadIDMap.getServerIDFromClientIDNow(a),l=!1;if(k)k=k,j=b.type=="user"?"user_ids":"thread_fbids";else{k=b.value;switch(b.type){case"user":j="user_ids";l=!0;break;case"thread":j="thread_fbids";break}}var m={messages:{},threads:{},client:h};j?(m.messages[j]={},m.messages[j][k]={timestamp:f,limit:e},l&&(m.threads[j]=[k]),this.__sendRequest(d("MercuryServerURIs").THREAD_INFO,m,g)):this.__threadIDMap.getServerIDFromClientID(a,function(a){m.messages.thread_fbids={},m.messages.thread_fbids[a]={timestamp:f,limit:e},i.__sendRequest(d("MercuryServerURIs").THREAD_INFO,m,g)})};e.handleThreadInfoError=function(a,b,e){var f=this,g=a.getData();function h(a){var c=[],d="",e="";if(!b)c.push({errorCode:"0",exception:"",errorMessage:"Request timed out"});else{var f=b.getPayload();if(f.errors!=null&&f.errors.length>0){var h;d=(h=f.errors[0].exception)==null?void 0:h["class"];e=f.errors[0].message}c.push({errorCode:(h=b==null?void 0:b.error)!=null?h:"0",exception:d,errorMessage:e})}a.handleUpdate({error_actions:c,from_client:!0,payload_source:"server_fetch_thread_info",request_data:g})}if(g!=null&&g.threads&&(g.threads.user_ids||g.threads.thread_fbids||g.threads.group_ids||g.threads.thread_ids||g.messages.user_ids)){a=3;g.retry_count||(g.retry_count=0);e=g.retry_count<a&&!e;if(e){e=Math.pow(2,Math.min(g.retry_count,a))*1e3;c("setTimeoutAcrossTransitions")(function(){m.log("retry_thread","{}"),f.__sendRequest(d("MercuryServerURIs").THREAD_INFO,g)},e);g.retry_count++}else h(this.$5)}else h(this.$5)};e.handleThreadlistInfoError=function(a){var b=a.getPayload(),c="",d="";if(b.errors!=null&&b.errors.length>0){var e;c=(e=b.errors[0].exception)==null?void 0:e["class"];d=b.errors[0].message}b=[{errorCode:(e=a.error)!=null?e:"0",exception:c,errorMessage:d}];this.$5.handleUpdate({error_actions:b,from_client:!0,payload_source:"server_fetch_threadlist_info"})};e.markFolderAsRead=function(a){this.__sendRequest(d("MercuryServerURIs").MARK_FOLDER_READ,{folder:a});a=[{action_type:"mga-type:mark-all-read",folder:a}];this.$5.handleUpdate({global_actions:a,from_client:!0,payload_source:"client_change_read_status"})};e.changeThreadReadStatus=function(a,b,e,f,g,h){var i=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(j){var k;k={ids:(k={},k[j]=b,k),source:e,watermarkTimestamp:f,shouldSendReadReceipt:g,commerce_last_message_type:h};c("MercuryMessagingLightswitch").guard(function(){m.log("initiate_change_read_status",JSON.stringify({thread_id:a,thread_fbid:j,mark_as_read:b,watermarkTimestamp:f}))});i.__sendRequest(d("MercuryServerURIs").CHANGE_READ_STATUS,k)})};e.changeThreadArchivedStatus=function(a,b,c){var e=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:c};f.ids[a]=b;e.__sendRequest(d("MercuryServerURIs").CHANGE_ARCHIVED_STATUS,f)})};e.changeThreadPinnedStatus=function(a,b,c){var e=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:c};f.ids[a]=b;e.__sendRequest(d("MercuryServerURIs").CHANGE_PINNED_STATUS,f)})};e.changeThreadPageFollowUpStatus=function(a,b,c){var e=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:c};f.ids[a]=b;e.__sendRequest(d("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS,f)})};e.changeThreadFolder=function(a,b){var c=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var e={};e[b]=[a];c.__sendRequest(d("MercuryServerURIs").MOVE_THREAD,e)})};e.changeMutingOnThread=function(a,b){var e=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){e.__sendRequest(d("MercuryServerURIs").CHANGE_MUTE_THREAD,{thread_fbid:a,mute_settings:b,payload_source:c("MercuryAPIArgsSource").MERCURY})})};e.markThreadSpam=function(a,b){var c=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){c.__sendRequest(d("MercuryServerURIs").MARK_SPAM,{id:a,source:b})})};e.unmarkThreadSpam=function(a,b){var c=this;d("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){c.__sendRequest(d("MercuryServerURIs").UNMARK_SPAM,{id:a,source:b})})};e.deleteThread=function(a,b){this.deleteThreads([a],b)};e.deleteThreads=function(a,e){var f=this;c("promiseDone")((l||(l=b("Promise"))).all(a.map(function(a){d("MercuryAssert").isThreadID(a);return new(l||(l=b("Promise")))(function(b){return f.__threadIDMap.getServerIDFromClientID(a,b)})})).then(function(a){f.__sendRequest(d("MercuryServerURIs").DELETE_THREAD,{ids:a,source:e})}))};e.deleteMessages=function(a,b){var c=this;d("MercuryMessageIDs.bs").getServerIDs(b||[],function(a){c.__sendRequest(d("MercuryServerURIs").DELETE_MESSAGES,{message_ids:a})})};e.sendDeliveryReceipts=function(a,b){var c=this;d("MercuryMessageIDs.bs").getServerIDs(a||[],function(a){c.__sendRequest(d("MercuryServerURIs").DELIVERY_RECEIPTS,{message_ids:a,thread_ids:b})})};e.sendNewMessage=function(a,b){var e=this;b===void 0&&(b=c("MercuryAPIArgsSource").MERCURY);a.offline_threading_id||(k||(k=d("ODS"))).bumpEntityKey(3303,"chat.web","missing_otid_on_send");if(a.client_state&&a.client_state!==c("MercuryMessageClientState").SEND_TO_SERVER)return;var f=d("MercuryIDs").tokenize(a.thread_id),g=f.type,h=babelHelpers["extends"]({},a);h.thread_id=null;g=="user"?(h.other_user_fbid=f.value,this.$13(h,b)):g=="thread"?(h.thread_fbid=f.value,this.$13(h,b)):g=="root"&&f.value==h.offline_threading_id?(h.client_thread_id=a.thread_id,this.$13(h,b)):(d("MercuryIDs").isLocalThread(a.thread_id)||i(0,5587,a.thread_id),this.__threadIDMap.getServerIDFromClientID(a.thread_id,function(a){h.thread_fbid=a,e.$13(h,b)}));this.$14("send_msg",a);c("MercuryMessagingLightswitch").guard(function(){c("Bootloader").loadModules(["QuickPerformanceLogger"],function(b){b.markerStart(c("qpl")._(25296903,"1856"),a.offline_threading_id)},"MercuryServerRequests")})};e.$14=function(a,b){try{var e,f=(j||(j=c("Env"))).isCQuick?"Comet Inbox":c("MessengerEnvironment").messengerdotcom?"messenger_dot_com":c("MessengerEnvironment").facebookdotcom?"Facebook Messenger (other)":"Other",g=d("MercuryTagHelper").get(b.tags||[],"entrypoint"),h=d("MercuryIDs").getThreadFBIDFromThreadID(b.thread_id),i=(c("PresenceStatus").get(h)===c("AvailableListConstants").ACTIVE).toString(),l=(e=(e=d("ScriptPath").getScriptPath())==null?void 0:e.toString())!=null?e:"";c("MessengerWebEventsFalcoEvent").log(function(){return{attachment_infos:void 0,client_timestamp:Date.now().toString(),entry_point:g,event_name:a,first_attachment_type:void 0,"interface":f,mid:b.message_id,offline_threading_id:b.offline_threading_id,other_user_fbid:d("MercuryIDs").isGroupChat(b.thread_id)?void 0:h,thread_fbid:d("MercuryIDs").isGroupChat(b.thread_id)?h:void 0,extra_data:{pathName:l,isActiveNow:i}}})}catch(a){(k||(k=d("ODS"))).bumpEntityKey(3303,"chat.web","logging_error")}};e.$13=function(a,b){c("Arbiter").inform(d("ChannelConstants").ATTEMPT_RECONNECT),this.$4[a.message_id]=Date.now(),c("MercuryServerSendMessageQueueRouter").getForFBID(this.$1).enqueue(a.other_user_fbid||a.thread_fbid||a.client_thread_id,this.$7,b,a)};e.__getSendMessageQueueOptions=function(){return this.$7};e.markSeen=function(){var a=this.$2;this.__sendRequest(d("MercuryServerURIs").MARK_SEEN,{seen_timestamp:a})};e.$15=function(a,b,e,f){var g=this;a=a.getData();var h=a.message_batch||[a];c("MercuryMessagingLightswitch").guard(function(){m.debug("handle_send_message_error_common",JSON.stringify({reliability_error_status:e,request_error_status:b,error_data:f,message_list:h}))});d("ChatReliabilityInstrumentation").logERROR("send_message_fail");var i=h.map(function(a){a={action_type:"ma-type:send-message",other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,client_message_id:a.message_id,message_id:a.message_id,client_thread_id:a.client_thread_id,status:b,error_data:f};return a});i.forEach(function(a){a.action_type==="ma-type:send-message"&&a.status===10&&g.__logMercurySendError(a)});a={actions:i,payload_source:"client_handle_error"};c("MercuryMessagingLightswitch").guard(function(){c("Bootloader").loadModules(["QuickPerformanceLogger"],function(a){i.map(function(b){a.markerEnd(c("qpl")._(25296903,"1856"),"FAIL",b.client_message_id)})},"MercuryServerRequests")});this.$6.handleUpdate(a)};e.handleSendMessageError=function(a){var b=a.getPayload(),d=null,e=null;b&&b.error_payload?(d=3,e="send_error"):(d=10,e="request_error"+o(a));b=a.error;b===1404102?c("AsyncResponse").verboseErrorHandler(a):(b===1545052||b===1409009||b===1409008||b===1409007||b===1409006||b===1545083||b===1545084)&&c("AsyncResponse").defaultErrorHandler(a);b=/<.*>/.test(a.getErrorDescription())?a.getErrorSummary():a.getErrorDescription();this.$15(a.getRequest(),d,e,{type:1,code:a.getError(),description:b,is_transient:a.isTransient()})};e.handleSendMessageTransportError=function(a){this.$15(a.getRequest(),10,"transport_error"+o(a),{type:2,code:a.getError(),is_transient:!0})};e.handleSendMessageTimeout=function(a){this.$15(a,10,"transport_timeout",{type:3,is_transient:!0})};e.getLastActionTimestamp=function(){return this.$2};e.__logMercurySendError=function(a){c("MercurySendErrorLogger").log(a)};e.updateLastActionTimestamp=function(a){var b=Date.now()-1e3*60*60*24;a&&a>b&&(this.$2=Math.max(this.$2,a))};e.markThreadFetched=function(a){delete this.$3[a]};e.__getForAsyncRequest=function(b){b=b.getData();b=b.request_user_id?b.request_user_id:c("CurrentUser").getID();return a.getForFBID(b)};e.__handleUpdate=function(a,b){a.payload_source==="server_send_message"&&c("MercuryMessagingLightswitch").guard(function(){c("Bootloader").loadModules(["QuickPerformanceLogger"],function(b){var d=a.actions&&a.actions[0]&&a.actions[0].client_message_id;d&&b.markerEnd(c("qpl")._(25296903,"1856"),"SUCCESS",d)},"MercuryServerRequests")}),this.__getForAsyncRequest(b).$6.handleUpdate(a)};e.$16=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleThreadInfoError(a.getRequest(),a)};e.$17=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a,null,!0)};e.$18=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleThreadlistInfoError(a)};e.$9=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageError(a)};e.$10=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageTransportError(a)};e.$11=function(a){var b=this.__getForAsyncRequest(a);b.handleSendMessageTimeout(a)};e.$12=function(){var a=this,b,e=null;d("MercuryServerRequestsConfig").msgrRegion&&(e={name:"X-MSGR-Region",value:d("MercuryServerRequestsConfig").msgrRegion});b=(b={},b[d("MercuryServerURIs").THREAD_INFO]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,customHeader:e,batch_function:p,handler:function(b,c){return a.__handleUpdate(b,c)},error_handler:function(b){return a.$16(b)},timeout_handler:function(b){return a.$17(b)},timeout:n},b[d("MercuryServerURIs").MARK_FOLDER_READ]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").CHANGE_READ_STATUS]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,d){a.__handleUpdate(b,d);var e=(b.threads||[]).map(function(a){return a&&a.thread_id});c("MercuryMessagingLightswitch").guard(function(){m.log("response_change_read_status",JSON.stringify({threads:e}))})}},b[d("MercuryServerURIs").MARK_SEEN]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:e,batch_function:s,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").THREADLIST_INFO]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:e,batch_function:r,handler:function(b,c){return a.__handleUpdate(b,c)},error_handler:function(b){return a.$18(b)}},b[d("MercuryServerURIs").MARK_SPAM]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").UNMARK_SPAM]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").UNREAD_THREADS]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:e,batch_function:q,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").CHANGE_ARCHIVED_STATUS]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:e,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").CHANGE_PINNED_STATUS]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:e,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:e,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").DELETE_THREAD]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:e,batch_function:w,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").DELETE_MESSAGES]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").DELIVERY_RECEIPTS]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").MOVE_THREAD]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:e,batch_function:v,handler:function(b,c){return a.__handleUpdate(b,c)}},b[d("MercuryServerURIs").CHANGE_MUTE_THREAD]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}},b);var f=c("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString();b[f]={request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:e,handler:function(b,c){return a.__handleUpdate(b,c)}};d("MercuryServerDispatcher").registerEndpoints(b)};e.__sendRequest=function(a,b,c){if(this.$8)switch(a){case d("MercuryServerURIs").THREADLIST_INFO:case d("MercuryServerURIs").THREAD_INFO:b.cachius_min_seq_id=this.$8.getLastSeqID();break;default:break}d("MercuryServerDispatcher").trySend(a,b,c,this.$1)};e.__getFBID=function(){return this.$1};return a}();var x=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercuryThreadIDMap",["KeyedCallbackManager","MercuryAssert","MercuryIDs","MercurySingletonProvider"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.canLinkExternally=function(a){d("MercuryAssert").isThreadID(a);var c=d("MercuryIDs").tokenize(a);return c.type=="user"||!!b.getServerIDFromClientIDNow(a)};this.$1=a;this.$2=new(c("KeyedCallbackManager"))();this.$3=new(c("KeyedCallbackManager"))()}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};var b=a.prototype;b.setServerIDToClientID=function(a,b){var c=this.getClientIDFromServerIDNow(a);if(c)return;this.forceSetServerIDToClientID(a,b)};b.forceSetServerIDToClientID=function(a,b){this.$2.setResource(a,b),this.$3.setResource(b,a)};b.setDeprecatedServerIDToClientID=function(a,b){a&&this.$2.setResource(a,b)};b.getClientIDFromServerIDNow=function(a){return this.$2.getResource(a)};b.getClientIDFromServerID=function(a,b){var c=this;this.$2.executeOrEnqueue(a,b);e(["MercuryServerRequests"],function(b){b.getForFBID(c.$1).ensureThreadIsFetched(a)})};b.getServerIDFromClientIDNow=function(a){return this.$3.getResource(a)};b.getServerIDFromClientID=function(a,b){var c=this;d("MercuryAssert").isThreadID(a);var f=this.$3.executeOrEnqueue(a,b);e(["MercuryServerRequests"],function(b){var e=c.$3.getUnavailableResources(f),g=d("MercuryIDs").tokenize(a);e.length&&g.type!="root"&&b.getForFBID(c.$1).fetchThreadData(e)})};b.hasClientIDForServerID=function(a){return!!this.getClientIDFromServerIDNow(a)};b.convertThreadIDIfAvailable=function(a){var b=this.getClientIDFromServerIDNow(a);return b||a};b.reset=function(){this.$3.reset(),this.$2.reset()};return a}();var h=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercuryLoggingHelper",[],(function(a,b,c,d,e,f){a={obfuscateThread:function(a){var b=babelHelpers["extends"]({},a);a&&a.snippet&&a.snippet.length>0&&(b.snippet="*** [redacted] ***");return b},obfuscateMessage:function(a){var b=babelHelpers["extends"]({},a);a&&a.body&&a.body.length>0&&(b.body="*** [redacted] ***");return b}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueSimulatedError",["AsyncRequest","AsyncResponse"],(function(a,b,c,d,e,f){var g=9999;a={create:function(a){a=new(b("AsyncRequest"))(this.endpoint_uri).setData({message_batch:[a],client:this.client});var c=new(b("AsyncResponse"))(a,{});Object.assign(c,{error:g,silentError:!1,transientError:!0,request:a});return c}};e.exports=a}),null);
__d("XMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/send/",{privacy_mutation_token:{type:"String"}})}),null);
__d("MercuryServerSendMessageQueue",["fbt","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryIDs","MercuryLoggingHelper","MercuryMessagingLightswitch","MercuryServerDispatcher","MercuryServerRequestsConfig","MercuryServerSendMessageQueueSimulatedError","MercurySyncDeltaHandler","MessengerAttachmentTransformerForSend.bs","MessengerObjectAssociationType","MessengerState.bs","ODS","Run","XMessagingSendController"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("LogHistory").getInstance("mercury_server_send_message_queue");a=function(){function a(a,b,e,f){var g=this;this.pending_message=null;this.queue=[];this.$6=function(){return g.queue.length||g.pending_message?h._("__JHASH__kTZHcfAY2b7__JHASH__"):void 0};this.sender_id=a;this.queue_id=b;this.$2=e.success_handler;this.$1=e.error_handler;this.$4=e.transport_error_handler;this.$3=e.timeout_handler;this.$5=c("MercurySyncDeltaHandler").getForFBID(this.sender_id);this.client=f;d("Run").onBeforeUnload(this.$6,!1);a=null;d("MercuryServerRequestsConfig").msgrRegion&&(a={name:"X-MSGR-Region",value:d("MercuryServerRequestsConfig").msgrRegion});b=this.__getSendURI();b=(f={},f[b]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:d("MercuryServerDispatcher").IMMEDIATE,customHeader:a,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:e.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:e.connection_retries},f);d("MercuryServerDispatcher").registerEndpoints(b)}var b=a.prototype;b.__getSendURI=function(){return c("XMessagingSendController").getURIBuilder().getURI().toString()};b.__preparePayload=function(a){var b;b=(b=a)!=null?(b=b.replied_to_message)!=null?(b=b.message)!=null?b.message_id:b:b:b;var e=null,f=a.client_thread_id;if(d("MercuryIDs").isLocalThread(f)){f=d("MessengerState.bs").getThreadMetaNow(c("CurrentUser").getID(),f);if(f&&f.message_count===1&&f.object_association_type===c("MessengerObjectAssociationType").GENERAL_CHAT){e=(f=f)!=null?(f=f.associated_object)!=null?f.id:f:f}}f=b?d("MessengerState.bs").getServerMessageID(c("CurrentUser").getID(),b):null;return{client:this.client,action_type:a.action_type,app_id:a.app_id,audio_ids:a.audio_ids,body:a.body,client_thread_id:a.client_thread_id,ephemeral_ttl_mode:a.ephemeral_ttl_mode,file_ids:a.file_ids,gif_ids:a.gif_ids,has_attachment:a.has_attachment,image_ids:a.image_ids,location_attachment:a.location_attachment,lightweight_action_attachment:a.lightweight_action_attachment,log_message_data:a.log_message_data,log_message_type:a.log_message_type,message_id:a.message_id,message_source_data:a.message_source_data,montage_reply_data:a.montage_reply_data,offline_threading_id:a.offline_threading_id,other_user_fbid:a.other_user_fbid,photo_fbids:a.photo_fbids,shareable_attachment:a.shareable_attachment,signature_id:a.signatureID,source:a.source,specific_to_list:a.specific_to_list,sticker_id:a.sticker_id,tags:a.tags,thread_fbid:a.thread_fbid,timestamp:a.timestamp,ui_push_phase:a.ui_push_phase,video_ids:a.video_ids,platform_xmd:a.platform_xmd,profile_xmd:a.profile_xmd,replied_to_message_id:f,work_synced_group_id:e,to_list_md5:a.to_list_md5,mib_direct_message_data:a.mib_direct_message_data,secondary_language_body:a.secondary_language_body}};b.enqueue=function(a){this.queue.push(a),this.$7()};b.$7=function(){if(this.pending_message||!this.queue.length){this.pending_message&&this.$8();return}this.pending_message=this.queue.shift();var a=this.__preparePayload(this.pending_message);for(var b in a)a[b]==null&&delete a[b];if(!a.action_type){var e=d("MercuryLoggingHelper").obfuscateMessage(a);d("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller");c("MercuryMessagingLightswitch").guard(function(){j.debug("missing_action_type",JSON.stringify(e))})}if(!a.message_id){var f=d("MercuryLoggingHelper").obfuscateMessage(a);d("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller"+JSON.stringify(f));c("MercuryMessagingLightswitch").guard(function(){j.debug("missing_message_id",JSON.stringify(f))})}this.$9();d("MercuryServerDispatcher").trySend(this.__getSendURI(),a,null,this.sender_id,this.queue_id)};b.$10=function(){while(this.queue.length)this.$11(this.queue.shift())};b.$11=function(a){var b=this;this.$1(d("MercuryServerSendMessageQueueSimulatedError").create(a));c("MercuryMessagingLightswitch").guard(function(){j.error("mark_as_failed",JSON.stringify({fbid:b.sender_id,queue_id:b.queue_id,message:d("MercuryLoggingHelper").obfuscateMessage(a)}))})};b.handleSuccess=function(a,b){var c=this;this.pending_message=null;var e=(a.actions||[]).map(function(a){var b=babelHelpers["extends"]({},a);if(a.graphql_payload&&a.graphql_payload.length>0){var e=d("MessengerAttachmentTransformerForSend.bs").transform(c.sender_id,a.graphql_payload,a.message_id,a.for_page);b=Object.assign(b,{attachments:e})}e=(e=a)!=null?(e=e.log_message_data)!=null?e.graphql_image:e:e;if(e){e=d("MessengerAttachmentTransformerForSend.bs").transform(c.sender_id,[e],a.message_id,a.for_page);b=Object.assign(b,{log_message_data:{image:e[0]}})}return b});a.actions=e;this.resumeAfterSuccess(a,b)};b.resumeAfterSuccess=function(a,b){this.$2(a,b),this.$12(),this.$7()};b.handleError=function(a){this.pending_message=null,this.$12(),this.$1(a),this.$10()};b.handleTransportError=function(a){this.pending_message=null,this.$12(),this.$4(a),this.$10()};b.handleTimeout=function(a){this.pending_message=null,this.$12(),this.$3(a),this.$10()};b.$9=function(){this.$5.pause()};b.$12=function(){this.$5.resume()};b.$8=function(){var a=this;c("MercuryMessagingLightswitch").guard(function(){j.debug("maybe_send_next_pending_message",JSON.stringify({fbid:a.sender_id,queue_id:a.queue_id,pending_message:d("MercuryLoggingHelper").obfuscateMessage(a.pending_message),queue:a.queue.map(function(a){return d("MercuryLoggingHelper").obfuscateMessage(a)})}))});var b="send_queue.delayed.queue_length."+this.queue.length.toString();(i||(i=d("ODS"))).bumpEntityKey(3303,"chat.web",b)};return a}();g["default"]=a}),98);
__d("MercurySingletonMixin",["CurrentUser"],(function(a,b,c,d,e,f){a={_getInstances:function(){this._instances||(this._instances={});return this._instances},get:function(){return this.getForFBID(b("CurrentUser").getID())},getForFBID:function(a){var b=this._getInstances();b[a]||(b[a]=new this(a));return b[a]}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueRouter",["LogHistory","MercuryServerSendMessageQueue","MercurySingletonMixin","ODS"],(function(a,b,c,d,e,f,g){var h,i=d("LogHistory").getInstance("mercury_server_send_message_queue_router"),j="chat.web.send_queue_router";(h||(h=d("ODS"))).setEntitySample(j,.1);a=function(){function a(a){this.queues=new Map(),this.fbid=a}var b=a.prototype;b.enqueue=function(a,b,e,f){var g=this.queues.get(a);g===void 0&&(g=new(c("MercuryServerSendMessageQueue"))(this.fbid,a,b,e),this.queues.set(a,g),i.debug("added queue",JSON.stringify({fbid:this.fbid,queue_id:a})),(h||(h=d("ODS"))).bumpEntityKey(3303,j,"new_queue"));g.enqueue(f)};return a}();Object.assign(a,d("MercurySingletonMixin"));g["default"]=a}),98);
__d("MercurySyncDataFetcherImpl",["invariant","AsyncResponse","Bootloader","CurrentUser","FBIDCheck","MercuryConfig","MercuryThreadlistConstants","MessagingConfig","Promise","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=null,k=null,l=null,m={limit:d("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1,folder:"inbox",tags:["INBOX"],timestamp:null,filter:null,includeDeliveryReceipts:!1,includeSeqID:!0},n={};function a(a){return new(i||(i=b("Promise")))(function(b,c){o(a,b,c,0)})}function o(a,b,e,f){if(!c("CurrentUser").isLoggedInNow()||f>d("MessagingConfig").syncFetchRetries){c("clearTimeout")(n[a]);e();return}var g=f===0?0:d("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(d("MessagingConfig").syncFetchTimeoutMultiplier,f);c("UserActivity").isOnTab()||(g+=c("MercuryConfig").DFFD*Math.random());c("clearTimeout")(n[a]);n[a]=c("setTimeoutAcrossTransitions")(function(){var g=!1,i=function(d){if(g)return;if(d.errors&&d.errors.length>0){var i=d.errors[0].message;if(i){var j=function(){l&&k||h(0,3650),new l().setErrorMessage(i).setEvent(k.DFF_FAILURE).setQueryParams(a).log()};l&&k?j():c("Bootloader").loadModules(["MessengerWebGraphQLTypedLogger","MessengerWebGraphQLEvent"],function(a,b){l=a,k=b,j()},"MercurySyncDataFetcherImpl")}}g=!0;o(a,b,e,f+1)},p=function(){if(!c("CurrentUser").isLoggedInNow())return;j||h(0,3651);j.fetchAll(a,[m],!d("FBIDCheck").isUser_deprecated(a),"dff").then(function(d){g=!0,b(new(c("AsyncResponse"))(null,babelHelpers["extends"]({},d,{payload_source:"server_invalidate_global_state"}))),c("clearTimeout")(n[a])},i)};j?p():c("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs"],function(a){j=a,p()},"MercurySyncDataFetcherImpl")},g)}function e(a,c,d,e){return new(i||(i=b("Promise")))(function(b,f){p(a,c,d,b,f,0,e)})}function p(a,b,e,f,g,h,i){if(h>d("MessagingConfig").syncFetchRetries){g();return}var j=h===0?0:d("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(d("MessagingConfig").syncFetchTimeoutMultiplier,h);c("setTimeoutAcrossTransitions")(function(){var j=!1,k=function(c){if(j)return;j=!0;p(a,b,e,f,g,h+1,i)};c("Bootloader").loadModules(["MessengerThreadDFFFetcher.bs"],function(g){return g.fetch_(a,{id:b,limit:e,source:i},!d("FBIDCheck").isUser_deprecated(a)).then(function(a){j=!0,f(new(c("AsyncResponse"))(null,babelHelpers["extends"]({},a,{payload_source:"server_invalidate_thread_state"})))},k)},"MercurySyncDataFetcherImpl")},j)}function f(a,c,d,e){return new(i||(i=b("Promise")))(function(b,f){q(a,c,d,b,f,0,e)})}function q(a,b,e,f,g,h,i){if(h>d("MessagingConfig").syncFetchRetries){g();return}var j=h===0?0:d("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(d("MessagingConfig").syncFetchTimeoutMultiplier,h);c("setTimeoutAcrossTransitions")(function(){var j=!1,k=function(c){if(j)return;j=!0;q(a,b,e,f,g,h+1)};c("Bootloader").loadModules(["MessengerMessageDFFFetcher.bs"],function(g){return g.fetch_(a,{thread_id:b,message_id:e,source:i},!d("FBIDCheck").isUser_deprecated(a)).then(function(a){j=!0,f(new(c("AsyncResponse"))(null,babelHelpers["extends"]({},a)))},k)},"MercurySyncDataFetcherImpl")},j)}g.fetchThreadlistFromGraphQL=a;g.fetchThreadFromGraphQL=e;g.fetchMessageFromGraphQL=f}),98);
__d("MercurySyncDataFetcher",["LogHistory","MercurySyncDataFetcherImpl","MessagingConfig","Promise","WebGraphQLConfig","clearTimeout","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("LogHistory").getInstance("mercury_sync_data_fetcher");function a(){var a=0;for(var b=0;b<c("MessagingConfig").syncFetchRetries;b++){var d=b===0?0:c("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(c("MessagingConfig").syncFetchTimeoutMultiplier,b);a+=d+c("MessagingConfig").syncFetchRequestTimeoutMs}return a}var j=a();function e(a){var e=null;return new(h||(h=b("Promise")))(function(b,f){var g=function(a){i.error("fetch_threadlist_graphql_timeout",JSON.stringify({timeout:j})),c("clearTimeout")(e),f(a)};e=c("setTimeoutAcrossTransitions")(g,Math.max(j,c("WebGraphQLConfig").timeout*c("MessagingConfig").syncFetchRetries));c("promiseDone")(d("MercurySyncDataFetcherImpl").fetchThreadlistFromGraphQL(a),function(a){c("clearTimeout")(e),b(a)},g)})}function f(a,e,f,g){return new(h||(h=b("Promise")))(function(b,h){var k=function(a){i.error("fetch_thread_graphql_timeout",JSON.stringify({timeout:j})),h(a)},l=c("setTimeoutAcrossTransitions")(k,j);c("promiseDone")(d("MercurySyncDataFetcherImpl").fetchThreadFromGraphQL(a,e,f,g),function(a){c("clearTimeout")(l),b(a)},k)})}function k(a,e,f,g){return new(h||(h=b("Promise")))(function(b,h){var k=function(a){i.error("fetch_message_graphql_timeout",JSON.stringify({timeout:j})),h(a)},l=c("setTimeoutAcrossTransitions")(k,j);c("promiseDone")(d("MercurySyncDataFetcherImpl").fetchMessageFromGraphQL(a,e,f,g),function(a){c("clearTimeout")(l),b(a)},k)})}g.getMaxTimeoutMs=a;g.fetchThreadlistFromGraphQL=e;g.fetchThreadFromGraphQL=f;g.fetchMessageFromGraphQL=k}),98);
__d("MercurySyncDFFDataFetcher",["CurrentUser","MercurySingletonProvider","MercurySyncDataFetcher","MercuryThreadIDMap","MessengerState.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=a,this.__threadIDMap=c("MercuryThreadIDMap").getForFBID(this.$1)}a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};var e=a.prototype;e.fetchInvalidateGlobalStateForGraphQL=function(){return this.$1&&this.$1!=="0"&&c("CurrentUser").isLoggedIn()?d("MercurySyncDataFetcher").fetchThreadlistFromGraphQL(this.$1):new(h||(h=b("Promise")))(function(a,b){return b(!0)})};e.fetchInvalidateThreadState=function(a,c,e){var f=11,g=3;a=a||c;c=this.__threadIDMap.getClientIDFromServerIDNow(a);if(!c)return(h||(h=b("Promise"))).resolve({getPayload:function(){return{}}});g=g+d("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,c).length;return!a?(h||(h=b("Promise"))).resolve({getPayload:function(){return{}}}):d("MercurySyncDataFetcher").fetchThreadFromGraphQL(this.$1,a,Math.max(g,f),e)};e.fetchInvalidateMessage=function(a,c,e,f){a=a||c;return!a?(h||(h=b("Promise"))).resolve({getPayload:function(){return{}}}):d("MercurySyncDataFetcher").fetchMessageFromGraphQL(this.$1,a,e,f)};return a}();var i=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercurySyncConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ARBITER_EVENT_INVALID_STATE:"SYNC:INVALID_STATE",ARBITER_EVENT_INVALID_STATE_RETRY:"SYNC:INVALID_STATE_RETRY",ARBITER_EVENT_INVALID_STATE_RECOVER:"SYNC:INVALID_STATE_RECOVER",ARBITER_EVENT_INVALID_STATE_STALE:"SYNC:INVALID_STATE_STALE"});f["default"]=a}),66);
__d("MercurySyncTopicType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELTA:"delta",DELTAFLOW:"deltaflow",DELTAFLOWREJECT:"deltaflowreject"});f["default"]=a}),66);
__d("onAfterLoadSafe",["Run","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("TimeSlice").guard(function(){return d("Run").onAfterLoad(function(){c("requestIdleCallback")(a)})},"delayed after load",{propagationType:c("TimeSlice").PropagationType.ORPHAN})()}g["default"]=a}),98);
__d("MercurySyncDeltaHandler",["invariant","Arbiter","Bootloader","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryDelayedDispatcher","MercuryMessagingLightswitch","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MercurySyncConstants","MercurySyncDeltaHolder","MercurySyncDeltaTypes","MercurySyncEventsProxy","MercurySyncForcedFetchHandler","MercurySyncHolesTypedLogger","MercurySyncTopicType","MercuryThreadIDMap","MessengerDeltaTransformer.bs","gkx","onAfterLoadSafe","performanceAbsoluteNow","promiseDone","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("LogHistory").getInstance("mercury_sync_delta_handler"),k="app_id:219994525426954";a=function(){a.getForFBID=function(a){return l.getForFBID(a)};a.get=function(){return l.get()};function a(a){var b=this;this.$1=a;this.$2=c("MercurySyncForcedFetchHandler").getForFBID(this.$1);this.__payloadPreprocessor=c("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.__delayedDispatcher=c("MercuryDelayedDispatcher").getForFBID(this.$1);this.$3=c("MercurySyncDeltaHolder").getForFBID(this.$1);this.$4=0;this.$11=c("MercuryThreadIDMap").getForFBID(this.$1);this.$5=[];this.$10=c("MercurySyncEventsProxy").getForFBID(this.$1);c("MercuryMessagingLightswitch").guard(function(){j.debug("constructor",JSON.stringify({fbid:b.$1}))});c("Arbiter").subscribe(c("MercurySyncEventsProxy").Events.INIT,function(d,e){c("MercuryMessagingLightswitch").guard(function(){j.debug("initSeqID",JSON.stringify(e))});d=e&&e.seqID;var a=e&&e.fbid;if(!a)return;if(a!==b.$1)return;d?b.$3.updateLastSeqID(d):b.$3.updateLastSeqID(0);b.$13();c("gkx")("678667")&&c("onAfterLoadSafe")(function(){c("Bootloader").loadModules(["MessengerSyncSeqIDSanityCheck"],function(a){a.getForFBID(b.$1).init()},"MercurySyncDeltaHandler")})})}var b=a.prototype;b.setSource=function(a){this.$12=a};b.$13=function(){var a=this;c("MercuryMessagingLightswitch").guard(function(){j.debug("setUpSubscriptionsToRealTimeUpdates",JSON.stringify({fbid:a.$1}))});this.$6=c("Arbiter").subscribe(this.$10.getArbiterType(c("MercurySyncEventsProxy").Events.DELTA),function(b,d){b=d&&d.obj&&d.obj.queue;if(b&&b.toString()!==a.$1)return;b=d&&d.obj&&d.obj.delta;d=d&&d.obj&&d.obj.iseq;if(!b||!d)return;a.$14(d,c("MercurySyncTopicType").DELTA);a.$15(d,b);a.$3.push(d,b);a.$16()});this.$8=c("Arbiter").subscribe(this.$10.getArbiterType(c("MercurySyncEventsProxy").Events.FLOW_REJECT),function(b,c){b=c&&c.obj&&c.obj.queue;if(b&&b.toString()!==a.$1)return;a.$9&&a.$17()});this.$7=c("Arbiter").subscribe(this.$10.getArbiterType(c("MercurySyncEventsProxy").Events.FAKE_DFF),function(b,c){b=c&&c.obj&&c.obj.queue;if(b&&b.toString()!==a.$1)return;b=c&&c.obj&&c.obj.delta;if(!b)return;if(a.$18(b))if(a.$5.some(function(b){return a.$18(b)}))return;else a.$5.push(b);else a.$5.push(b);a.$16()});this.$9=!0};b.$18=function(a){return a["class"]===c("MercurySyncDeltaTypes").ForcedFetch&&!a.threadKey&&!a.messageId};b.$16=function(){if(this.$4>0)return;if(this.$5.length>0){var a=this.$5.shift();this.$19(this.$3.getLastSeqID(),a);this.$16()}a=this.$3.peek();if(!a)return;a=a-this.$3.getLastSeqID();if(a===1){var b=this.$3.pop();if(!b)return;var c=b.seqID;b=b.delta;this.$19(c,b);this.$16()}else a>1?this.$20():(this.$3.pop(),this.$16())};b.$19=function(a,b){b.numNoOps&&b.numNoOps>1?this.$3.updateLastSeqID(a+b.numNoOps-1):this.$3.updateLastSeqID(a),b["class"]===c("MercurySyncDeltaTypes").ForcedFetch?(c("MercuryMessagingLightswitch").guard(function(){j.debug("DFF",JSON.stringify(b))}),b.threadKey!==void 0&&b.messageId===void 0?this.$21(a,b):b.threadKey!==void 0&&b.messageId!==void 0?this.$22(a,b):(d("ChatReliabilityInstrumentation").logDFF_DELTA_INIT(JSON.stringify(b)),this.$23(a))):d("MessengerDeltaTransformer.bs").transform(this.$1,b)};b.$20=function(){var a=JSON.stringify({$24:this.$3.getLastSeqID(),nextSeqID:this.$3.peek()});c("MercuryMessagingLightswitch").guard(function(){j.warn("hole",a)});var b=this.$3.peek();!b&&h(0,5132);b=b-1;d("ChatReliabilityInstrumentation").logDFF_HOLE_INIT(a);this.$23(b)};b.$25=function(a,b,d,e){var f=this;this.$4&&h(0,5134);this.$4++;c("MercuryMessagingLightswitch").guard(function(){j.debug("_scheduleDataFetch:start",JSON.stringify({seqID:a}))});c("promiseDone")(b(),function(b){c("MercuryMessagingLightswitch").guard(function(){j.debug("_scheduleDataFetch:success",JSON.stringify({seqID:a}))}),f.$4--,d(a,b),f.$16()},function(b){c("MercuryMessagingLightswitch").guard(function(){j.error("_scheduleDataFetch:failure",JSON.stringify({seqID:a}))}),f.$4--,e(a,b),f.$16()})};b.emergencyDFF=function(a,b){this.$23(0,a,b)};b.$23=function(a,b,d){var e=this;if(!c("CurrentUser").isLoggedInNow())return;this.$25(void 0,function(){return e.$2.processGlobalDFFForGraphQL()},function(a,d){e.$11.reset();var f=d.getPayload();e.__payloadPreprocessor.handleUpdate(f);f.sequence_id&&(c("MercuryMessagingLightswitch").guard(function(){j.debug("_initiateGlobalDFF:success",JSON.stringify({seqID:f.sequence_id}))}),c("gkx")("678668")?e.$3.updateLastSeqIDAndClearHistory(f.sequence_id):e.$3.updateLastSeqID(f.sequence_id));c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER);b&&b(f.sequence_id)},function(f,g){c("MercuryMessagingLightswitch").guard(function(){j.error("_initiateGlobalDFF:failure","")}),g?(e.$9&&e.$17(),d&&d()):(c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY),c("MercuryMessagingLightswitch").guard(function(){j.debug("_initiateGlobalDFF:retry","")}),e.$23(a,b,d))})};b.$21=function(a,b){var d=this;this.$25(a,function(){return d.$2.processThreadDFF(a,b.threadKey,b.isLazy,d.$12)},function(a,b){d.__payloadPreprocessor.handleUpdate(b.getPayload()),d.$3.updateLastSeqID(a)},function(){c("MercuryMessagingLightswitch").guard(function(){j.error("_initiateThreadDFF:failure",JSON.stringify(b))});var e=babelHelpers["extends"]({},b);delete e.threadKey;d.$3.updateLastSeqID(a-1);d.$3.push(a,e)})};b.$22=function(a,b){var d=this;this.$25(a,function(){return d.$2.processMessageDFF(a,b.threadKey,b.messageId,b.isLazy,d.$12)},function(a,b){b=b.getPayload();var c=b.other_user_fbid?b.other_user_fbid:b.thread_fbid;b=[babelHelpers["extends"]({},b)];var e="client_channel_message";d.__delayedDispatcher.handleUpdateWaitForThread({actions:b,payload_source:e},c);d.$3.updateLastSeqID(a)},function(){c("MercuryMessagingLightswitch").guard(function(){j.error("_initiateMessageDFF:failure",JSON.stringify(b))});var e=babelHelpers["extends"]({},b);delete e.messageId;d.$3.updateLastSeqID(a-1);d.$3.push(a,e)})};b.$14=function(a,b){var d=a-this.$3.getLastSeqID();if(d!==1&&d!==0){if(!c("CurrentUser").isEmployee())return;new(c("MercurySyncHolesTypedLogger"))().setSeqID(a).setDifference(d).setTopicType(b).log()}};b.$15=function(a,b){switch(b["class"]){case c("MercurySyncDeltaTypes").NewMessage:var d=(i||(i=c("performanceAbsoluteNow")))();c("Bootloader").loadModules(["QuickPerformanceLogger"],function(a){var e=b.messageMetadata.tags;Array.isArray(e)&&e.includes(k)&&c("MercuryMessagingLightswitch").guard(function(){a.markerEnd(c("qpl")._(25296903,"1856"),"SUCCESS",b.messageMetadata.offlineThreadingId,d)})},"MercurySyncDeltaHandler");c("MercuryMessagingLightswitch").guard(function(){j.debug("message_delta",JSON.stringify({seqID:a,threadKey:b.messageMetadata.threadKey,messageId:b.messageMetadata.messageId}))});break;case c("MercurySyncDeltaTypes").ReadReceipt:c("MercuryMessagingLightswitch").guard(function(){j.debug("read_receipt_delta",JSON.stringify({seqID:a,threadKey:b.threadKey,actionTimestampMs:b.actionTimestampMs,watermarkTimestampMs:b.watermarkTimestampMs}))});break;case c("MercurySyncDeltaTypes").DeliveryReceipt:c("MercuryMessagingLightswitch").guard(function(){j.debug("delivery_receipt_delta",JSON.stringify({seqID:a,deliveredWatermarkTimestampMs:b.deliveredWatermarkTimestampMs,messageIds:b.messageIds}))});break}};b.pause=function(){this.$4++};b.resume=function(){this.$4--,this.$16()};b.$17=function(a){a===void 0&&(a=!1),this.$9=!1,c("Arbiter").unsubscribe(this.$6),c("Arbiter").unsubscribe(this.$7),c("Arbiter").unsubscribe(this.$8),a||c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE)};return a}();var l=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MercurySyncForcedFetchHandler",["MercurySingletonProvider","MercurySyncDFFDataFetcher","MercuryThreadIDMap","MessengerState.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return{getPayload:function(){return{sequence_id:a}}}}a=function(){a.getForFBID=function(a){return j.getForFBID(a)};a.get=function(){return j.get()};function a(a){this.$1=a,this.$2=c("MercuryThreadIDMap").getForFBID(this.$1),this.$3=c("MercurySyncDFFDataFetcher").getForFBID(this.$1)}var e=a.prototype;e.processMessageDFF=function(a,c,e,f,g){if(f){f=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();f=this.$2.getClientIDFromServerIDNow(f);if(f===void 0)return(h||(h=b("Promise"))).resolve(i(a));f=d("MessengerState.bs").getMessagesFromIDs(this.$1,[e]);if(f.length===0)return(h||(h=b("Promise"))).resolve(i(a))}return this.$3.fetchInvalidateMessage(c.otherUserFbId,c.threadFbId,e,g)};e.processThreadDFF=function(a,c,d,e){if(d){d=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();d=this.$2.getClientIDFromServerIDNow(d);if(d===void 0)return(h||(h=b("Promise"))).resolve(i(a))}return this.$3.fetchInvalidateThreadState(c.otherUserFbId,c.threadFbId,e)};e.processGlobalDFFForGraphQL=function(){return this.$3.fetchInvalidateGlobalStateForGraphQL()};return a}();var j=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MontageDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!1});g["default"]=b}),98);
__d("MontageActions",["invariant","Bootloader","CurrentUser","MercuryServerPayloadPreprocessor","MontageDispatcher","RelayFBEnvironment","RelayModern","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("keyMirror")({REQUEST_UPDATE:null,HAS_UPDATED:null,HANDLE_ACTION:null}),j=new Set();function a(a){c("MontageDispatcher").dispatch({type:i.REQUEST_UPDATE,threadFBID:a})}function b(a,b){c("MontageDispatcher").dispatch({type:i.REQUEST_UPDATE,threadFBID:a})}function e(a){c("MontageDispatcher").dispatch({type:i.HAS_UPDATED,threadFBID:a})}function f(a){if(j.has(a))return;j.add(a);c("Bootloader").loadModules(["MessengerMontageThreadQuery"],function(b){b=d("RelayModern").fetchQuery(c("RelayFBEnvironment"),b,{id:a});c("promiseDone")(b,function(b){c("MercuryServerPayloadPreprocessor").getForFBID(c("CurrentUser").getID()).handleUpdate({current_montage_thread:b}),j["delete"](a)})},"MontageActions")}function k(a,b){c("MercuryServerPayloadPreprocessor").getForFBID(c("CurrentUser").getID()).handleUpdate({montage_delete_message_delta:b})}function l(a,b){c("Bootloader").loadModules(["MessengerNewMontageMessage"],function(a){a=d("RelayModern").fetchQuery(c("RelayFBEnvironment"),a,{id:b.message_fbid});c("promiseDone")(a,function(a){c("MercuryServerPayloadPreprocessor").getForFBID(c("CurrentUser").getID()).handleUpdate({montage_new_message_delta:a.montage_message})})},"MontageActions")}function m(a){h(0,54483)}g.Types=i;g.requestUpdate=a;g.montageThreadChanged=b;g.hasUpdated=e;g.loadMontageThreadForActor=f;g.deleteMontage=k;g.handleNewMontageDelta=l;g.updatePollStickerChoice=m}),98);
__d("RemovedMessageTombstoneContent",["fbt","CurrentUser","GenderConst","IntlVariations","MercuryIDs","MessengerParticipants.bs","MessengerState.bs","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var e;e=((e=a.unsender)==null?void 0:e.id)||a.author;var f=d("MercuryIDs").getUserIDFromParticipantID(e),g=c("CurrentUser").getID();if(f===g)return i();g=d("MessengerState.bs").getThreadMetaNow(g,a.thread_id);g=g==null?void 0:(g=g.custom_nickname)==null?void 0:g[f];g=g||((f=b.get(e))==null?void 0:f.short_name)||((g=a.unsender)==null?void 0:g.short_name)||((f=a.unsender)==null?void 0:f.name);f=(a=b.get(e))==null?void 0:a.gender;if(g)return j(g,f);else return k()}function b(a){if(a==null)return k().toString();var b=d("MercuryIDs").getUserIDFromParticipantID(a);if(b===c("CurrentUser").getID())return i().toString();b=d("MessengerParticipants.bs").getNow(a);a=b&&b.short_name;b=b&&b.gender;if(a)return j(a,b).toString();else return k().toString()}function i(){return c("gkx")("1531920")?h._("__JHASH__HdJ22izQlT7__JHASH__"):h._("__JHASH__YshKLh8CVji__JHASH__")}function j(a,b){return c("gkx")("1531920")?h._("__JHASH__5FzzvjIGDh0__JHASH__",[h._param("name",a,[1,b===c("GenderConst").FEMALE_SINGULAR?c("IntlVariations").GENDER_FEMALE:c("IntlVariations").GENDER_MALE])]):h._("__JHASH__ufisuPhbH6m__JHASH__",[h._param("name",a,[1,b===c("GenderConst").FEMALE_SINGULAR?c("IntlVariations").GENDER_FEMALE:c("IntlVariations").GENDER_MALE])])}function k(){return c("gkx")("1531920")?h._("__JHASH__LFkJwwIuDUO__JHASH__"):h._("__JHASH__COKyM_9cWMo__JHASH__")}g.getRemovedMessageTombstoneContent=a;g.getTombstoneContentForSnippet=b;g._getFbtForCurrentViewerAuthor=i;g._getFbtForOtherAuthor=j;g._getFbtForUnknownAuthor=k}),98);
__d("ZenonCoExperienceActionItemsPopoverMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6271231042985951"}),null);