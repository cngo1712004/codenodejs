;/*FB_PKG_DELIM*/

__d("ZenonMediaStatsSource",[],(function(a,b,c,d,e,f){"use strict";a=["averageRtcpInterval","firCount","frameBitDepth","frameHeight","frameWidth","nackCount","packetsLost","pliCount","qpSum","remoteId","sliCount","timestamp","trackId"];b=["bytesSent","encoderImplementation","framesEncoded","framesSent","headerBytesSent","hugeFramesSent","keyFramesEncoded","lastPacketSentTimestamp","mediaSourceId","packetsSent","perDscpPacketsSent","qualityLimitationDurations","qualityLimitationReason","qualityLimitationResolutionChanges","retransmittedBytesSent","retransmittedPacketsSent","rid","senderId","targetBitrate","totalEncodedBytesTarget","totalEncodeTime","totalPacketSendDelay"];c=["audioLevel","burstDiscardCount","burstDiscardRate","burstLossCount","burstPacketsDiscarded","burstPacketsLost","bytesReceived","concealedSamples","concealmentEvents","decoderImplementation","delayedPacketOutageSamples","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","fractionLost","framesDecoded","framesDropped","framesReceived","gapDiscardRate","gapLossRate","headerBytesReceived","insertedSamplesForDeceleration","jitter","jitterBufferDelay","jitterBufferEmittedCount","jitterBufferTargetDelay","keyFramesDecoded","lastPacketReceivedTimestamp","packetsDiscarded","packetsDuplicated","packetsFailedDecryption","packetsReceived","packetsRepaired","perDscpPacketsReceived","receiverId","relativePacketArrivalDelay","removedSamplesForAcceleration","roundTripTime","silentConcealedSamples","totalAudioEnergy","totalDecodeTime","totalInterFrameDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay"];d=["interruptionCount","sumOfSquaredFramesDuration","totalFramesDuration","totalInterruptionDuration"];e=["availableOutgoingBitrate","consentRequestsSent","requestsReceived","requestsSent","responsesReceived","responsesSent"];var g=["audioLevel","framesPerSecond","height","totalAudioEnergy","totalSamplesDuration","width"],h=["audioDecodingPLC","audioDecodingPLCCNG","decodingNormal","googSpeechExpandRate","packetsLost"],i=["googActualEncBitrate"],j=["googRtt"];f.RTP_STATS=a;f.OUTBOUND_RTP_STATS=b;f.INBOUND_RTP_STATS=c;f.TRACK_STATS=d;f.CANDIDATE_PAIR_STATS=e;f.MEDIA_SOURCE_STATS=g;f.SSRC_STATS=h;f.VIDEO_BWE_STATS=i;f.GOOG_CANDIDATE_PAIR_STATS=j}),66);
__d("ZenonMediaStatsSourcePreM86",[],(function(a,b,c,d,e,f){"use strict";a=["firCount","nackCount","packetsLost","pliCount","qpSum","sliCount","timestamp"];b=["audioLevel","concealedSamples","concealmentEvents","frameHeight","framesDropped","framesReceived","frameWidth","insertedSamplesForDeceleration","interruptionCount","jitterBufferDelay","jitterBufferEmittedCount","removedSamplesForAcceleration","sumOfSquaredFramesDuration","totalAudioEnergy","totalFramesDuration","totalInterruptionDuration","totalSamplesDuration","totalSamplesReceived"];c=["burstDiscardCount","burstDiscardRate","burstLossCount","burstPacketsDiscarded","burstPacketsLost","bytesReceived","decoderImplementation","delayedPacketOutageSamples","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","framesDecoded","gapDiscardRate","gapLossRate","headerBytesReceived","jitter","jitterBufferTargetDelay","keyFramesDecoded","lastPacketReceivedTimestamp","packetsDiscarded","packetsReceived","packetsRepaired","relativePacketArrivalDelay","roundTripTime","totalDecodeTime","totalInterFrameDelay","totalSquaredInterFrameDelay"];d=["bytesSent","framesEncoded","framesSent","headerBytesSent","hugeFramesSent","keyFramesEncoded","packetsSent","qualityLimitationResolutionChanges","retransmittedBytesSent","retransmittedPacketsSent","targetBitrate","totalEncodedBytesTarget","totalEncodeTime","totalPacketSendDelay"];f.RTP_STATS=a;f.TRACK_STATS=b;f.INBOUND_RTP_STATS=c;f.OUTBOUND_RTP_STATS=d}),66);
__d("ZenonRenderedView",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THUMBNAIL:1,GRID:2,PINNED:3});c=a;f["default"]=c}),66);
__d("ZenonMediaStatsConfig",["UserAgent","ZenonMediaStatsSource","ZenonMediaStatsSourcePreM86","ZenonRenderedView"],(function(a,b,c,d,e,f,g){"use strict";var h={contentType:"audio",remote:!1,trackId:"globalStatsTrackId"},i=h.trackId,j=h.contentType,k={contentType:"audio",remote:!1,trackId:"pinnedAudioStatsTrackId"},l={contentType:"video",remote:!1,trackId:"pinnedVideoStatsTrackId"},m={contentType:"audio",remote:!1,trackId:"outboundAudioStatsTrackId"},n=m.trackId,o={contentType:"screen_audio",remote:!1,trackId:"outboundScreenAudioStatsTrackId"},p=o.trackId,q={contentType:"screen",remote:!1,trackId:"outboundScreenStatsTrackId"},r=q.trackId,s={contentType:"video",remote:!1,trackId:"outboundVideoStatsTrackId"},t=s.trackId,u=0,v=6e4,w={AUDIO_DECODING_NORMAL:"audioDecodingNormal",AUDIO_DECODING_PLC:"audioDecodingPLC",AUDIO_DECODING_PLCCNG:"audioDecodingPLCCNG",AUDIO_DEV_IS_STALLED:"audioDevIsStalled",AUDIO_DEV_REC_STALLS:"audioDevRecStalls",AUDIO_DEV_STALL_DURATION:"audioDevStallDuration",AUDIO_DEV_TOTAL_STALLS:"audioDevTotalStalls",AUDIO_LOG_LEVEL:"audioLogLevel",AUDIO_LOG_LEVEL_COUNT:"audioLogLevelCount",AUDIO_LOUDNESS_LEVEL:"audioLoudnessLevel",AV_SYNC:"avSync",AV_SYNC_ABS:"avSyncAbs",AV_SYNC_COUNT:"avSyncCount",AV_SYNC_OOB:"avSyncOob",FRAME_RATE_MEAN:"framerateMean",PACKETS_LOST_CORRECTED:"packetsLostCorrected",RENDERED_VIEW:"renderedView",SIMULCAST_LAYER_CHANGES:"simulcast_layer_changes",VIDEO_CAPTURE_FRAME_COUNT:"captureFrameCount",VIDEO_CAPTURE_IS_STALLED:"videoCaptureIsStalled",VIDEO_CAPTURE_STALL_DURATION:"videoCaptureStallDuration",VIDEO_CAPTURE_TOTAL_STALLS:"videoCaptureTotalStalls",VIDEO_CONVERTED_QP_SUM:"videoConvertedQpSum",VIDEO_DECODE_IS_STALLED:"videoDecodeIsStalled",VIDEO_DECODE_STALL_DURATION:"videoDecodeStallDuration",VIDEO_DECODE_TIME:"videoDecodeTime",VIDEO_DECODE_TOTAL_STALLS:"videoDecodeTotalStalls",VIDEO_DECODED_BYTES:"videoDecodedBytes",VIDEO_ENCODE_IS_STALLED:"videoEncodeIsStalled",VIDEO_ENCODE_STALL_DURATION:"videoEncodeStallDuration",VIDEO_ENCODE_TOTAL_STALLS:"videoEncodeTotalStalls",VIDEO_FREEZE_COUNT:"videoFreezeCount",VIDEO_FREEZE_DURATION:"videoFreezeDuration",VIDEO_FREEZE_DURATION_500MS:"videoFreezeDuration500ms",VIDEO_PAUSE_COUNT:"videoPauseCount",VIDEO_PAUSE_DURATION:"videoPauseDuration",VIDEO_QP:"qp",VIDEO_RECEIVE_IS_STALLED:"videoReceiveIsStalled",VIDEO_RECEIVE_STALL_DURATION:"videoReceiveStallDuration",VIDEO_RECEIVE_TOTAL_STALLS:"videoReceiveTotalStalls",VIDEO_RECEIVER_QUALITY_SCORE:"videoReceiverQualityScore",VIDEO_SENT_IS_STALLED:"videoSentIsStalled",VIDEO_SENT_STALL_DURATION:"videoSentStallDuration",VIDEO_SENT_TOTAL_STALLS:"videoSentTotalStalls",VIDEO_SUM_CAPTURE_PIXEL:"videoSumCapturePixel",VIDEO_SUM_PIXEL:"videoSumPixel"},x={AUDIO_NETEQ_WAIT_TIME:"audioNeteqWaitTime",AUDIO_PACKET_LOSS_RATE:"audioPacketLossRate",AUDIO_PLC_CNG_RATE:"audioPlcCngRate",AUDIO_PLC_RATE:"audioPlcRate",GLOBAL_AUDIO_BITRATE:"globalAudioBitrate",GLOBAL_BATTERY_USAGE:"globalBatteryUsage",GLOBAL_CPU_USAGE:"globalCpuUsage",GLOBAL_VIDEO_BITRATE:"globalVideoBitrate",HEAP_SIZE_LIMIT:"heapSizeLimit",HEAP_TOTAL_SIZE:"heapTotalSize",HEAP_USED_SIZE:"heapUsedSize",ROUND_TRIP_TIME:"roundTripTime",VIDEO_AV_SYNC_ABS:"videoAvSyncAbs",VIDEO_AV_SYNC_OOB:"videoAvSyncOob",VIDEO_CROPPING_RATIO:"videoCroppingRatio",VIDEO_ENCODED_FRAME_RATE:"encodedFrameRate",VIDEO_FRAME_RATE:"videoFrameRate",VIDEO_FREEZE_COUNT_PER_MIN:"videoFreezeCountPerMin",VIDEO_FREEZE_DURATION_PER_MIN:"videoFreezeDurationPerMin",VIDEO_NETEQ_WAIT_TIME:"videoNeteqWaitTime",VIDEO_PACKET_LOSS_RATE:"videoPacketLossRate",VIDEO_QP:"videoQP",VIDEO_QUALITY:"videoQuality",VIDEO_RENDER_SCALE_RATIO:"videoRenderScaleRatio"},y=["bytesReceived","bytesSent","consentRequestsSent","concealedSamples","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","framesDecoded","framesEncoded","framesReceived","framesSent","insertedSamplesForDeceleration","jitterBufferDelay","jitterBufferEmittedCount","keyFramesDecoded","keyFramesEncoded","nackCount","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","requestsReceived","requestsSent","removedSamplesForAcceleration","responsesReceived","responsesSent","silentConcealedSamples","timestamp","totalAudioEnergy","totalDecodeTime","totalEncodedBytesTarget","totalEncodeTime","totalInterFrameDelay","totalPacketSendDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay",w.AUDIO_DECODING_NORMAL,w.AUDIO_DECODING_PLC,w.AUDIO_DECODING_PLCCNG,w.AUDIO_LOG_LEVEL,w.AUDIO_LOG_LEVEL_COUNT,w.AUDIO_LOUDNESS_LEVEL,w.AUDIO_DEV_REC_STALLS,w.AUDIO_DEV_STALL_DURATION,w.AUDIO_DEV_TOTAL_STALLS,w.AV_SYNC_COUNT,w.AV_SYNC_OOB,w.PACKETS_LOST_CORRECTED,w.SIMULCAST_LAYER_CHANGES,w.VIDEO_CAPTURE_FRAME_COUNT,w.VIDEO_FREEZE_COUNT,w.VIDEO_FREEZE_DURATION,w.VIDEO_FREEZE_DURATION_500MS,w.VIDEO_PAUSE_COUNT,w.VIDEO_PAUSE_DURATION,w.VIDEO_SUM_CAPTURE_PIXEL,w.VIDEO_SUM_PIXEL,w.VIDEO_CONVERTED_QP_SUM,w.VIDEO_DECODED_BYTES,w.VIDEO_DECODE_TIME,w.VIDEO_CAPTURE_STALL_DURATION,w.VIDEO_CAPTURE_TOTAL_STALLS,w.VIDEO_DECODE_STALL_DURATION,w.VIDEO_DECODE_TOTAL_STALLS,w.VIDEO_ENCODE_STALL_DURATION,w.VIDEO_ENCODE_TOTAL_STALLS,w.VIDEO_RECEIVE_STALL_DURATION,w.VIDEO_RECEIVE_TOTAL_STALLS,w.VIDEO_SENT_STALL_DURATION,w.VIDEO_SENT_TOTAL_STALLS],z=["audioLevel","availableOutgoingBitrate","frameHeight","frameWidth","framesPerSecond","googActualEncBitrate","googRtt","googSpeechExpandRate","height","jitter","roundTripTime","width",w.AUDIO_DEV_IS_STALLED,w.RENDERED_VIEW,w.FRAME_RATE_MEAN,w.AV_SYNC,w.AV_SYNC_ABS,w.VIDEO_QP,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_DECODE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_RECEIVE_IS_STALLED,w.VIDEO_SENT_IS_STALLED,w.VIDEO_RECEIVER_QUALITY_SCORE],A=["availableOutgoingBitrate","bytesReceived","bytesSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","frameHeight","framesDecoded","framesEncoded","framesPerSecond","framesReceived","framesSent","frameWidth","googActualEncBitrate","googRtt","googSpeechExpandRate","height","insertedSamplesForDeceleration","jitter","jitterBufferDelay","jitterBufferEmittedCount","nackCount","keyFramesDecoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","removedSamplesForAcceleration","roundTripTime","totalAudioEnergy","totalDecodeTime","totalEncodeTime","totalInterFrameDelay","totalPacketSendDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay","width",w.AUDIO_DECODING_NORMAL,w.AUDIO_DECODING_PLC,w.AUDIO_DECODING_PLCCNG,w.AUDIO_DEV_REC_STALLS,w.AUDIO_DEV_STALL_DURATION,w.AUDIO_DEV_TOTAL_STALLS,w.VIDEO_CAPTURE_STALL_DURATION,w.VIDEO_CAPTURE_TOTAL_STALLS,w.VIDEO_DECODE_STALL_DURATION,w.VIDEO_DECODE_TOTAL_STALLS,w.VIDEO_ENCODE_STALL_DURATION,w.VIDEO_ENCODE_TOTAL_STALLS,w.VIDEO_RECEIVE_STALL_DURATION,w.VIDEO_RECEIVE_TOTAL_STALLS,w.VIDEO_SENT_STALL_DURATION,w.VIDEO_SENT_TOTAL_STALLS,w.PACKETS_LOST_CORRECTED,w.VIDEO_CAPTURE_FRAME_COUNT,w.VIDEO_FREEZE_COUNT,w.VIDEO_FREEZE_DURATION,w.VIDEO_FREEZE_DURATION_500MS,w.VIDEO_PAUSE_COUNT,w.VIDEO_PAUSE_DURATION,w.VIDEO_SUM_CAPTURE_PIXEL,w.VIDEO_SUM_PIXEL,w.VIDEO_CONVERTED_QP_SUM,w.VIDEO_DECODED_BYTES,w.VIDEO_DECODE_TIME,w.SIMULCAST_LAYER_CHANGES,w.AUDIO_DEV_IS_STALLED,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_DECODE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_RECEIVE_IS_STALLED,w.VIDEO_SENT_IS_STALLED,w.FRAME_RATE_MEAN,w.AV_SYNC,w.AV_SYNC_ABS],B=["audioLevel","availableOutgoingBitrate","bytesReceived","bytesSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","frameHeight","framerateMean","framesDecoded","framesEncoded","framesPerSecond","framesReceived","framesSent","frameWidth","googRtt","height","jitter","jitterBufferDelay","jitterBufferEmittedCount","keyFramesEncoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","roundTripTime","totalAudioEnergy","totalDecodeTime","totalEncodedBytesTarget","totalEncodeTime","width",w.AUDIO_DECODING_PLCCNG,w.VIDEO_QP,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_SENT_IS_STALLED],C=["consentRequestsSent","estimatedPlayoutTimestamp","estimatedPlayoutTimestamp_delta","fecPacketsDiscarded","fecPacketsReceived","firCount","jitterBufferDelay_delta","jitterBufferDelay","jitterBufferEmittedCount","keyFramesEncoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum_delta","requestsReceived","requestsSent","responsesReceived","responsesSent","totalAudioEnergy"],D={audioLevel:1e4,jitter:1e3,totalAudioEnergy:1e4,totalDecodeTime:1e3,totalEncodeTime:1e3,totalSamplesDuration:1e3},E=["availableOutgoingBitrate","consentRequestsSent","requestsReceived","requestsSent","responsesReceived","responsesSent"],F=["audioLevel","packetsLost","totalAudioEnergy","totalSamplesDuration"],G=[5,50,95],H=["bandwidth","rtt"];function a(){return c("UserAgent").isBrowser("Chrome < 86")||c("UserAgent").isBrowser("Edge (Chromium Based) < 86")||c("UserAgent").isBrowser("Opera < 72")}function b(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").TRACK_STATS:d("ZenonMediaStatsSource").TRACK_STATS}function e(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").INBOUND_RTP_STATS:d("ZenonMediaStatsSource").INBOUND_RTP_STATS}function I(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").OUTBOUND_RTP_STATS:d("ZenonMediaStatsSource").OUTBOUND_RTP_STATS}function J(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").RTP_STATS:d("ZenonMediaStatsSource").RTP_STATS}function K(){return d("ZenonMediaStatsSource").CANDIDATE_PAIR_STATS}function L(){return d("ZenonMediaStatsSource").MEDIA_SOURCE_STATS}function M(){return d("ZenonMediaStatsSource").SSRC_STATS}function N(){return d("ZenonMediaStatsSource").VIDEO_BWE_STATS}function O(){return d("ZenonMediaStatsSource").GOOG_CANDIDATE_PAIR_STATS}g.GLOBAL_STATS_TRACK_INFO=h;g.GLOBAL_STATS_TRACKID=i;g.GLOBAL_STATS_CONTENT_TYPE=j;g.GLOBAL_STATS_RENDERED_VIEW=c("ZenonRenderedView").GRID;g.PINNED_AUDIO_STATS_TRACK_INFO=k;g.PINNED_VIDEO_STATS_TRACK_INFO=l;g.OUTBOUND_AUDIO_STATS_TRACK_INFO=m;g.OUTBOUND_AUDIO_STATS_TRACKID=n;g.OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO=o;g.OUTBOUND_SCREEN_AUDIO_STATS_TRACKID=p;g.OUTBOUND_SCREEN_STATS_TRACK_INFO=q;g.OUTBOUND_SCREEN_STATS_TRACKID=r;g.OUTBOUND_VIDEO_STATS_TRACK_INFO=s;g.OUTBOUND_VIDEO_STATS_TRACKID=t;g.VOICE_ENERGY_THRESHOLD=u;g.AV_SYNC_CUTOFF=v;g.DERIVED_METRICS=w;g.PER_STREAM_AGG_METRICS=x;g.CUMULATIVE_STATS=y;g.DELTA_STATS=z;g.STATS_REQUESTED=A;g.TSLOG_STATS_REQUESTED=B;g.TSLOG_STATS_TO_SUPPRESS=C;g.TSLOG_METRIC_SCALE=D;g.TSLOG_STATS_REQUESTED_FROM_CANDIDATE_PAIR=E;g.RULE_VIOLATION_ALLOWLIST=F;g.PERCENTILES_REQUESTED=G;g.NETWORK_HEALTH_STATS=H;g.isPreChromium86=a;g.getTrackStats=b;g.getInboundRtpStats=e;g.getOutboundRtpStats=I;g.getRtpStats=J;g.getCandidatePairStats=K;g.getMediaSourceStats=L;g.getSsrcStats=M;g.getVideoBweStats=N;g.getGoogCandidatePairStats=O}),98);
__d("ZenonNetworkQualityMonitor",["$InternalEnum","UserAgent","ZenonInfraActionsLogger","ZenonMediaStatsConfig","ZenonNetworkQualityIndicatorConfigSitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i="googActualEncBitrate";a=function(){function a(){var a;this.$3=0;this.$4=0;this.$5=0;this.$6=0;this.$7=[];this.$8=j.Good;this.$9=new Map();this.$1=this.$15();this.$2=this.$16();this.$10=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_poor_packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$11=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_fair_packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$12=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_jitter_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$13=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_avsync_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$14=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_use_disconnected_check||!1;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonNetworkQualityMonitor constructed: rtt "+this.$1+", packetLoss "+this.$2})}var b=a.prototype;b.$16=function(){var a;return(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY};b.$15=function(){var a;return(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").rtt_threshold)!=null?a:Number.POSITIVE_INFINITY};b.$17=function(a,b){if(a!=null){a=a.deltaStat[b];if(a!=null){a=(b=a.getLastAddedValue())!=null?b:0;a>this.$5&&(this.$5=a);return a>this.$1}}return!1};b.$18=function(a,b,c){a=a<0?0:a/(a+b);a>this.$6&&(this.$6=a);return a>=c};b.$19=function(a){if(a!=null){a=a.deltaStat[i];if(a!=null){this.$4=(a=a.getLastAddedValue())!=null?a:0}}};b.$20=function(a,b,c,d){if(a!=null&&c!=="packetsSent"){b=a.cumulativeStat[b];a=a.cumulativeStat[c];if(b!=null&&a!=null)return this.$18(b.getDeltaFromLastUpdate(),a.getDeltaFromLastUpdate(),d)}return!1};b.$21=function(a,b){var c=this,d=b.packetLostKey,e=b.packetsKey,f=b.rttKey;return Array.from(a.values()).some(function(a){var b=c.$20(a,d,e,c.$2);c.$19(a);return b||c.$17(a,f)})};b.getMetricKeys=function(a){return{packetLostKey:d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED,packetsKey:a?"packetsSent":"packetsReceived",rttKey:c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")?"googRtt":"roundTripTime"}};b.getCount=function(){return this.$3};b.getCurrentBitrate=function(){return this.$4};b.getAvgBitrateDuringBadNetwork=function(){var a=this.$7.reduce(function(a,b){return a+b},0),b=this.$7.length;return b===0?0:a/b};b.$22=function(a,b){if(b){this.$8=j.Poor;this.$7.push(this.$4);return this.$8}if(a!=null){b=this.$3;var d=this.$21(a,this.getMetricKeys(!0));a=this.$21(a,this.getMetricKeys(!1));d||a?this.$3<h&&this.$3++:this.$3>0&&this.$3--;this.$3>=h?(this.$8=j.Poor,this.$7.push(this.$4)):this.$3<=0?(b!==this.$3&&this.$3===0&&this.$8!==j.Good&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[Network] Bad network window with avg bitrate: "+this.getAvgBitrateDuringBadNetwork()+", max rtt: "+this.$5+", max packet loss: "+this.$6}),this.$7=[],this.$8=j.Good):this.$3>=1&&this.$8===j.Poor&&this.$7.push(this.$4)}return this.$8};b.$23=function(a,b){var c=this;if(a==null){this.$9=new Map();return this.$9}var d=this.$9,e=new Map();a.forEach(function(a,f){if(a.remote===!1)return;var g=d.get(f)==null;a=[c.$24(a),c.$25(b),c.$26(a),c.$27(a,g),c.$28(a,g)];var h=j.Excellent,i=[];a.forEach(function(a){a.quality<h&&(h=a.quality);a=a.reason;a!=null&&i.push(a)});e.set(f,{quality:h,reasons:new Set(i)})});return this.$9};b.$28=function(a,b){if(!this.$14||a.contentType!=="video"||a.isMuted===!0||b)return{quality:j.Excellent};a=(b=a.cumulativeStat.packetsReceived)==null?void 0:b.getDeltaFromLastUpdate();return a===0?{quality:j.Disconnected,reason:k.ZERO_PACKETS_RECEIVED}:{quality:j.Excellent}};b.$25=function(a){return a?{quality:j.Disconnected,reason:k.ICE_DISCONNECTED}:{quality:j.Excellent}};b.$26=function(a){var b;b=(b=a.cumulativeStat.jitter)==null?void 0:b.getDeltaFromLastUpdate();return a.contentType==="audio"&&b!=null&&b>this.$12?{quality:j.Fair,reason:k.JITTER}:{quality:j.Excellent}};b.$27=function(a,b){if(b)return{quality:j.Excellent};b=(b=a.cumulativeStat.packetsReceived)==null?void 0:b.getDeltaFromLastUpdate();a=(a=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED])==null?void 0:a.getDeltaFromLastUpdate();if(b==null||a==null)return{quality:j.Excellent};if(this.$18(a,b,this.$10))return{quality:j.Poor,reason:k.PACKET_LOSS};else if(this.$18(a,b,this.$11))return{quality:j.Fair,reason:k.PACKET_LOSS};return{quality:j.Excellent}};b.$24=function(a){a=(a=a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC])==null?void 0:a.getLastAddedValue();return a!=null&&a>this.$13?{quality:j.Fair,reason:k.AV_SYNC}:{quality:j.Excellent}};b.determineNetworkStatus=function(a,b){var d=this.$22(a,b);d===j.Poor&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[Network] Showing poor network indicator with current bitrate: "+this.getCurrentBitrate()});return{local:d,remote:this.$23(a,b)}};return a}();var j=b("$InternalEnum")({Excellent:4,Good:3,Fair:2,Poor:1,Disconnected:0}),k=b("$InternalEnum").Mirrored(["PACKET_LOSS","ZERO_PACKETS_RECEIVED","END_TO_END_LANTENCY","AV_SYNC","JITTER","ICE_DISCONNECTED"]);g.ZenonNetworkQualityMonitor=a;g.ZenonNetworkQuality=j;g.ZenonNetworkQualityReason=k}),98);
__d("ZenonScreenSharingAvailabilityType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["AudioCallUnsupported","Available","GroupCallUnsupported","Unknown"]);c=a;f["default"]=c}),66);
__d("ZenonCall",["ZenonCallsModelTypes","ZenonNetworkQualityMonitor","ZenonScreenSharingAvailabilityType","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonCallsModelTypes").ZenonCallState;c=b("ZenonNetworkQualityMonitor").ZenonNetworkQuality;e=(d=b("immutable")).Record({callState:a.New,clientCallId:"",clientEndpointId:"",collisionContext:{groupThreadID:null,peerID:null,serverInfoData:null},endCallDetails:null,endCallReason:null,features:{canAddParticipants:!1,canApproveCollaborationSpaceJoinRequests:!0,cowatchEnabled:!1,cowatchGroupEnabled:!1,dominantSpeaker:null,multiwayVideoEscalation:!1,networkStatus:{local:c.Good,remote:new Map()},screenSharingAvailability:b("ZenonScreenSharingAvailabilityType").Available,screenSharingEnabled:!1,supportMultipleStreams:!1,supportSctpHangup:!1,vrScreenShare:!1},isVideoCall:!1,localMediaTracks:new Map(),mediaTracks:new Map(),participants:d.Map(),remoteMediaTracks:new Map(),remoteScreenSharingUserIDs:d.OrderedSet(),responseSubCode:null,rtpReceivers_I_KNOW_WHAT_I_AM_DOING:[],rtpSenders_I_KNOW_WHAT_I_AM_DOING:[],selfParticipantID:"0",stateSyncInputStates:d.Map(),stateSyncOutputStates:d.Map(),userIdToNodeIdMap:new Map()});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(e);c=a;f["default"]=c}),66);
__d("ZenonAppContextImplQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5906880969402134"}),null);
__d("ZenonAppContextImplQuery.graphql",["ZenonAppContextImplQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"context"}],c=[{kind:"Variable",name:"context",variableName:"context"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonAppContextImplQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonAppContextImplQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("ZenonAppContextImplQuery_facebookRelayOperation"),metadata:{},name:"ZenonAppContextImplQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ZenonIntegrationMatchContainer_match.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ZenonIntegrationMatchContainer_match",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"integration_boundary_name",storageKey:null},action:"THROW",path:"integration_boundary_name"}],type:"IZenonIntegrationBoundary",abstractKey:"__isIZenonIntegrationBoundary"};e.exports=a}),null);
__d("WACryptoPrimitives",["tweetnacl"],(function(a,b,c,d,e,f,g){b={scalarbase:(a=d("tweetnacl")).lowlevel.scalarbase,crypto_hash:a.lowlevel.crypto_hash,modL:a.lowlevel.modL,pack25519:a.lowlevel.pack25519,S:a.lowlevel.S,M:a.lowlevel.M,A:a.lowlevel.A,Z:a.lowlevel.Z,D:a.lowlevel.D,unpack25519:a.lowlevel.unpack25519,pow2523:a.lowlevel.pow2523,crypto_verify_32:a.lowlevel.crypto_verify_32,set25519:a.lowlevel.set25519,add:a.lowlevel.add,scalarmult:a.lowlevel.scalarmult};g.hash=a.hash;g.scalarMult=a.scalarMult;g.verify=a.verify;g.lowlevel=b;g.keypairFromSecretKey=a.box.keyPair.fromSecretKey;g.keyPair=a.box.keyPair;g.signDetachedVerify=a.sign.detached.verify}),98);
__d("WACryptoUtils",["WACryptoPrimitives","WAErr"],(function(a,b,c,d,e,f,g){function a(a,b){return h(new Uint8Array(a),new Uint8Array(b))}function h(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function b(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function e(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function f(a){if(a!==(a|0))throw c("WAErr")("bound must be int32");if(a<=0)throw c("WAErr")("bound must not be positive");var b=new Int32Array(1),d=-1>>>1;d=a*Math.floor(d/a);var e=-1;while(e===-1){self.crypto.getRandomValues(b);var f=b[0]>>>1;f<d&&(e=f%a)}return e}g.arrayBuffersEqual=a;g.uint8ArraysEqual=h;g.rawKeysEqual=b;g.serializedPubKeysEqual=e;g.randomNumberLessThan=f}),98);
__d("MAWDbIdentityTxns",["MAWDexieTable","MAWGlobals","WACryptoUtils","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalidate dhash for ",""]);h=function(){return a};return a}function a(a,b){return a.identity.get(b).then(function(a){return a!=null})}function b(a,b){return i(a,b).then(function(a){return a.map(function(a){if(a==null)return;return{id:a.deviceJid,identity:a.identity}}).filter(Boolean)})}function c(a,b){return a.identity.bulkPut(b).then(function(){})}function e(a,b){return i(a,b).then(function(a){var c=new Map();for(var d=0;d<a.length;d++){var e=a[d],f=b[d];e!=null&&c.set(f,{pubKey:e.identity})}return c})}function i(a,b){return a.identity.bulkGet(b)}function j(a,b){return a.identity.where("userJid").equals(b).toArray()}function f(a,b){return a.identity.where("userJid").anyOf(b).toArray()}function k(a,b,c){var e=[],f=new Map();b.forEach(function(b){var d=j(a,b).then(function(a){var d=[];a.forEach(function(a){if(c!=null&&a.deviceJid===c)return;d.push(a)});d.length>0&&f.set(b,d)});e.push(d)});return d("MAWDexieTable").dexieAll(e).then(function(){return f})}function l(a,b){var c=b.find(function(a){return a.deviceJid===d("MAWGlobals").getMyDeviceJid()});if(c!=null)return a.identity.get(c.deviceJid).then(function(a){if(a!=null&&!d("WACryptoUtils").uint8ArraysEqual(c.identity,a.identity))return!0;else return!1});else return d("MAWDexieTable").dexieResolve(!1)}function m(a,b){d("WALogger").DEV(h(),b);return a.contacts.bulkGet(b).then(function(b){b=b.filter(Boolean);b.forEach(function(a){a.dhash=null});return a.contacts.bulkPut(b)}).then(function(){})}function n(a,b){return a.identity.bulkGet(b.map(function(a){a=a.deviceJid;return a})).then(function(a){a=new Set(a.map(function(a,c){return a==null?b[c]:null}).filter(Boolean).map(function(a){a=a.userJid;return a}));return Array.from(a)})}g.hasDeviceJid=a;g.bulkGetIdentities=b;g.bulkPutIdentities=c;g.getIdentitiesForDevices=e;g.bulkGetIdentityRows=i;g.getIdentitiesForUser=j;g.getIdentitiesForUsers=f;g.getIdentitiesForMultipleUsers=k;g.compareIdentityMismatch=l;g.invalidateDhash=m;g.getUsersWithNewDevices=n}),98);
__d("WASignalLocalStorageProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={};a.internalSpec={sessionVersion:[1,(d=d("WAProtoConst")).TYPES.UINT32],localIdentityPublic:[2,d.TYPES.BYTES],remoteIdentityPublic:[3,d.TYPES.BYTES],rootKey:[4,d.TYPES.BYTES],previousCounter:[5,d.TYPES.UINT32],senderChain:[6,d.TYPES.MESSAGE,e],receiverChains:[7,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e],pendingKeyExchange:[8,d.TYPES.MESSAGE,c],pendingPreKey:[9,d.TYPES.MESSAGE,b],remoteRegistrationId:[10,d.TYPES.UINT32],localRegistrationId:[11,d.TYPES.UINT32],needsRefresh:[12,d.TYPES.BOOL],aliceBaseKey:[13,d.TYPES.BYTES]};b.internalSpec={preKeyId:[1,d.TYPES.UINT32],signedPreKeyId:[3,d.TYPES.INT32],baseKey:[2,d.TYPES.BYTES]};c.internalSpec={sequence:[1,d.TYPES.UINT32],localBaseKey:[2,d.TYPES.BYTES],localBaseKeyPrivate:[3,d.TYPES.BYTES],localRatchetKey:[4,d.TYPES.BYTES],localRatchetKeyPrivate:[5,d.TYPES.BYTES],localIdentityKey:[7,d.TYPES.BYTES],localIdentityKeyPrivate:[8,d.TYPES.BYTES]};e.internalSpec={senderRatchetKey:[1,d.TYPES.BYTES],senderRatchetKeyPrivate:[2,d.TYPES.BYTES],chainKey:[3,d.TYPES.MESSAGE,h],messageKeys:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f]};f.internalSpec={index:[1,d.TYPES.UINT32],cipherKey:[2,d.TYPES.BYTES],macKey:[3,d.TYPES.BYTES],iv:[4,d.TYPES.BYTES]};h.internalSpec={index:[1,d.TYPES.UINT32],key:[2,d.TYPES.BYTES]};i.internalSpec={currentSession:[1,d.TYPES.MESSAGE,a],previousSessions:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,a]};j.internalSpec={id:[1,d.TYPES.UINT32],publicKey:[2,d.TYPES.BYTES],privateKey:[3,d.TYPES.BYTES]};k.internalSpec={id:[1,d.TYPES.UINT32],publicKey:[2,d.TYPES.BYTES],privateKey:[3,d.TYPES.BYTES],signature:[4,d.TYPES.BYTES],timestamp:[5,d.TYPES.FIXED64]};l.internalSpec={publicKey:[1,d.TYPES.BYTES],privateKey:[2,d.TYPES.BYTES]};m.internalSpec={senderKeyId:[1,d.TYPES.UINT32],senderChainKey:[2,d.TYPES.MESSAGE,p],senderSigningKey:[3,d.TYPES.MESSAGE,n],senderMessageKeys:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,o]};n.internalSpec={"public":[1,d.TYPES.BYTES],"private":[2,d.TYPES.BYTES]};o.internalSpec={iteration:[1,d.TYPES.UINT32],seed:[2,d.TYPES.BYTES]};p.internalSpec={iteration:[1,d.TYPES.UINT32],seed:[2,d.TYPES.BYTES]};q.internalSpec={senderKeyStates:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m]};g.SessionStructureSpec=a;g.SessionStructure$PendingPreKeySpec=b;g.SessionStructure$PendingKeyExchangeSpec=c;g.SessionStructure$ChainSpec=e;g.SessionStructure$Chain$MessageKeySpec=f;g.SessionStructure$Chain$ChainKeySpec=h;g.RecordStructureSpec=i;g.PreKeyRecordStructureSpec=j;g.SignedPreKeyRecordStructureSpec=k;g.IdentityKeyPairStructureSpec=l;g.SenderKeyStateStructureSpec=m;g.SenderKeyStateStructure$SenderSigningKeySpec=n;g.SenderKeyStateStructure$SenderMessageKeySpec=o;g.SenderKeyStateStructure$SenderChainKeySpec=p;g.SenderKeyRecordStructureSpec=q}),98);
__d("WACryptoHkdf",["Promise","WABinary","WACryptoHmac","WAErr"],(function(a,b,c,d,e,f,g){var h,i=255*d("WACryptoHmac").SHA256_BYTE_LENGTH;function j(a,e,f){if(f<0||f>i)return(h||(h=b("Promise"))).reject(c("WAErr")("HKDF::expand given bad length "+f));var g,j=Math.ceil(f/d("WACryptoHmac").SHA256_BYTE_LENGTH),k=d("WABinary").Binary.build(e).readByteArray(),l=new(d("WABinary").Binary)(),m=d("WACryptoHmac").encodeKeySha256(a).then(function(a){g=a;return new Uint8Array(0)});e=function(a){m=m.then(function(b){return d("WACryptoHmac").sign(g,d("WABinary").Binary.build(b,k,a).readByteArray())}).then(function(a){a=new Uint8Array(a);l.writeByteArray(a);return a})};for(a=1;a<=j;a++)e(a);return m.then(function(){return l.readBuffer(f)})}function a(a,b,c){return d("WACryptoHmac").extractSha256(null,a).then(function(a){return j(new Uint8Array(a),b,c)})}function e(a,b,c,e){return d("WACryptoHmac").extractSha256(b,a).then(function(a){return j(new Uint8Array(a),c,e)})}g.expand=j;g.extractAndExpand=a;g.extractWithSaltAndExpand=e}),98);
__d("WAXmlParsingFailure",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.parser=a,this.reason=b}var b=a.prototype;b.toString=function(){return"XmlParsingFailure: "+this.parser+": "+this.reason};return a}();f.XmlParsingFailure=a}),66);
__d("WAParsableXmlNode",["WAErr","WAHasProperty","WAXmlParsingFailure"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var c=this;this.$1=a;this.$2=b;this.$3=Array.isArray(b.content)?b.content.map(function(b){return new c.constructor(a,b)}):null}var b=a.prototype;b.name=function(){return this.$1};b.node=function(){return this.$2};b.hasAttr=function(a){return c("WAHasProperty")(this.$2.attrs,a)};b.assertTag=function(a){this.$2.tag!==a&&this["throw"]("to be <"+a+">")};b.tag=function(){return this.$2.tag};b.maybeChild=function(a){var b=this.$3;if(!b)return null;for(var c=0;c<b.length;c++)if(b[c].tag()===a)return b[c];return null};b.hasChild=function(a){return!!this.maybeChild(a)};b.child=function(a){var b=this.maybeChild(a);return!b?this["throw"]("to have child <"+a+">"):b};b.assertAttr=function(a,b){var c=this.attrString(a);c!==b&&this["throw"]('to have "'+a+'"="'+b+'", but instead has "'+c+'"')};b.attrString=function(a){return!c("WAHasProperty")(this.$2.attrs,a)?this["throw"]('to have attribute "'+a+'"'):this.decodeAsString(this.$2.attrs[a])};b.forEachAttributeKey=function(a){var b=this.$2.attrs;Object.keys(b).forEach(function(b){return a(b)})};b.maybeAttrString=function(a){return this.hasAttr(a)?this.decodeAsString(this.$2.attrs[a]):null};b.maybeAttrInt=function(a,b,c){return this.hasAttr(a)?this.attrInt(a,b,c):null};b.attrEnumValues=function(a,b,c){b=new Set(b);var d=this.attrString(a);if(!b.has(d)){if(c!=null)return c;c=Array.from(b).join("|");return this["throw"]('to have "'+a+'"={'+c+'} but has value "'+d+'"')}return d};b.attrEnum=function(a,b){var d=this.attrString(a);if(!c("WAHasProperty")(b,d)){var e=Object.keys(b).join("|");return this["throw"]('to have "'+a+'"={'+e+'} but has value "'+d+'"')}return b[d]};b.attrEnumOrNullIfUnknown=function(a,b){a=this.attrString(a);return!c("WAHasProperty")(b,a)?null:b[a]};b.attrEnumOrDefault=function(a,b,c){return this.hasAttr(a)?this.attrEnum(a,b):c};b.attrInt=function(a,b,c){var d=this.attrString(a);return this.$4(d,a,b,c)};b.$4=function(a,b,c,d){var e=parseInt(a,10);if(Number.isNaN(e))return this["throw"]('to have "'+b+'"={integer} but has value "'+a+'"');else if(c!==void 0&&e<c)return this["throw"]('to have "'+b+'"={at least '+c+"} but has value "+e);else if(d!==void 0&&e>=d)return this["throw"]('to have "'+b+'"={below '+d+"} but has value "+e);return e};b.forEachChild=function(a){var b=this.$3;if(b)b.forEach(function(b){return a(b)});else if(this.$2.content!=null)return this["throw"]("to have children")};b.forEachChildWithTag=function(a,b){this.forEachChild(function(c){c.tag()===a&&b(c)})};b.mapChildren=function(a){var b=this.$3;return!b&&this.$2.content!=null?this["throw"]("to have children"):b?b.map(function(b){return a(b)}):[]};b.mapChildrenWithTag=function(a,b){var c=this.$3;return!c&&this.$2.content!=null?this["throw"]("to have children"):c?c.filter(function(b){return b.tag()===a}).map(function(a){return b(a)}):[]};b.mapFirstChild=function(a){var b=this.$3;return!b||b.length===0?this["throw"]("to have children"):a(b[0])};b.hasContent=function(){return!this.$3&&!!this.$2.content};b.hasChildren=function(){return this.$3!=null};b.getChildren=function(){return this.$3};b.mapAttrKeys=function(a){var b=this.getAttrKeys();return b&&b.length?b.map(a):[]};b.getAttrKeys=function(){return Object.keys(this.$2.attrs)};b.hasAttrs=function(){var a=this.$2.attrs?Object.keys(this.$2.attrs):[];return a.length>0};b.getNode=function(){return this.$2};b.unsafeSetChildren=function(a){this.$3=a};b.unsafeSetNodeContent=function(a){this.$2.content=a};b.contentUint=function(a){var b=this.contentBytes(a);return h(b,a)};b.contentBytes=function(a){a===void 0&&(a=-1);if(this.$3)return this["throw"]("to have binary content, but has children instead");else if(this.$2.content!=null){var b=this.$2.content;return a!==-1&&b.length!==a?this["throw"]("to be "+a+" bytes, but got "+b.length+" instead"):b}else return this["throw"]("to have content")};b.contentString=function(){if(this.$3)return this["throw"]("to have string content, but has children instead");else if(this.$2.content!=null)return this.$2.content;else return this["throw"]("to have content")};b.contentInt=function(a,b){var c=this.contentString();return this.$4(c,"content",a,b)};b.contentEnum=function(a){var b=this.contentString();if(!c("WAHasProperty")(a,b)){var d=Object.keys(a).join("|");return this["throw"]("to have content {"+d+'} but has value "'+b+'"')}return a[b]};b.decodeAsString=function(a){if(typeof a!=="string")throw c("WAErr")("decodeAsString: attribute is "+typeof a+" not a string: "+a);return a};b["throw"]=function(a){throw new(d("WAXmlParsingFailure").XmlParsingFailure)(this.$1,"expected <"+this.$2.tag+"> "+a)};b.toString=function(){return this.$2.toString()};return a}();function h(a,b){var c=0;for(var d=0;d<b;d++)c=c*256+a[d];return c}g.ParsableXmlNode=a;g.convertBytesToUint=h}),98);
__d("WASignalOther",["WACryptoHkdf","WACryptoUtils","WAErr","WAParsableXmlNode","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){var h={name:"AES-CBC"},i={name:"HMAC",hash:"SHA-256"};function j(a,b){if(a.length!==b)throw c("WAErr")("Signal expected "+b+" bytes, given "+a.length);return a}function a(a,b){return j(new Uint8Array(a),b)}function b(a){var b=a.buffer,c=a.byteOffset;a=a.length;return c===0&&a===b.byteLength?b:b.slice(c,c+a)}function e(a,b){return a.readByteArray(b)}function f(a){return new Uint8Array(a)}function k(a,b,d){if(a.length-b<d)throw c("WAErr")("Can not split off "+d+" bytes from index "+b+" of "+a.length+" bytes");return a.slice(b,b+d)}function l(a){a=a==="extendedRange"?(-1>>>1)-1:16380;return d("WACryptoUtils").randomNumberLessThan(a)+1}function m(a){return q(a)}function n(a){return d("WAParsableXmlNode").convertBytesToUint(a,4)}function o(){var a=-1>>>1;return d("WACryptoUtils").randomNumberLessThan(a)+1}function p(a){return q(a)}function q(a,b,d){b===void 0&&(b=0);d===void 0&&(d=4294967296);if(typeof a==="number"&&b<=a&&a<d&&Math.floor(a)===a)return a;else throw c("WAErr")("Expected integer in range ["+b+", "+d+"), given "+String(a))}function r(a,b){return d("encodeProtobuf").encodeProtobuf(a,b).readByteArray()}function s(a,b,c){return c(d("decodeProtobuf").decodeProtobuf(a,b))}function t(a,b,c,e){return d("WACryptoHkdf").extractWithSaltAndExpand(a,b,c,e).then(function(a){return new Uint8Array(a)})}function u(a,b){var c,d;b==="hmac-sha256"?(c=i,d=["sign"]):(b,c=h,d=["encrypt","decrypt"]);return self.crypto.subtle.importKey("raw",a,c,!1,d)}function v(a){return a}function w(a){return a}function x(a,b){return d("WACryptoUtils").arrayBuffersEqual(a,b)}g.AES_CBC=h;g.HMAC_SHA256=i;g.ensureSize=j;g.toBytes=a;g.toBuffer=b;g.readBytes=e;g.makeBytes=f;g.sliceBytes=k;g.makeRegistrationId=l;g.castRegistrationId=m;g.castRegistrationIdFromBytes=n;g.makeSenderKeyId=o;g.castSenderKeyId=p;g.ensureIntInRange=q;g.encodeSignalProto=r;g.decodeSignalProto=s;g.hkdf=t;g.makeCryptoKey=u;g.castToByteEncoded=v;g.castToSessionHash=w;g.areSessionHashesEqual=x}),98);
__d("WASignalKeys",["WACryptoPrimitives","WAErr","WALogger","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["deserializePreKey error ",""]);h=function(){return a};return a}var i=5,j=16777215;function k(a,b){return{publicKey:a,privateKey:b}}function a(a){a=d("WACryptoPrimitives").keypairFromSecretKey(a);var b=a.publicKey;a=a.secretKey;return k(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function b(a,b){return{publicKey:d("WASignalOther").toBytes(a,32),privateKey:d("WASignalOther").toBytes(b,32)}}function l(){var a=d("WACryptoPrimitives").keyPair(),b=a.publicKey;a=a.secretKey;a[0]&=248;a[31]=64|a[31]&63;return k(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function m(a,b){return k(d("WASignalOther").sliceBytes(b,1,32),a)}function n(a,b){return{serializedPubKey:b,privateKey:a}}function e(){var a=l();return n(a.privateKey,o(a))}function o(a){var b=d("WASignalOther").makeBytes(33);b[0]=i;b.set(a.publicKey,1);return b}function f(a){var b=d("WASignalOther").makeBytes(33);b[0]=i;b.set(d("WASignalOther").ensureSize(a,32),1);return b}function p(a){return n(a.privateKey,o(a))}function q(a,b){a=(a-1)%j;a<=0&&(a+=j);var c=[];for(var e=0;e<b;e++){var f=a===j?1:a+1,g=l(),h=d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,{id:f,publicKey:o(g),privateKey:g.privateKey});c.push({plainObject:{id:f,keyPair:g},record:h});a=f}return c}function r(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey;a=a.privateKey;return b==null||c==null||a==null?null:{id:s(b),keyPair:m(d("WASignalOther").toBytes(a,32),u(new Uint8Array(c)))}}catch(a){d("WALogger").DEV(h(),a);return null}}function s(a){return d("WASignalOther").ensureIntInRange(a,1,j)}function t(a){return d("WASignalOther").ensureIntInRange(a,0,j)}function u(a){if(a.length===0||a[0]!==i)throw c("WAErr")("Unrecognized public key type");return d("WASignalOther").ensureSize(a,33)}function v(){var a=d("WASignalOther").makeBytes(32);self.crypto.getRandomValues(a);return a}function w(a,b){return d("WACryptoPrimitives").scalarMult(a,b.subarray(1)).buffer}g.KEY_TYPE=i;g.makeKeyPairFrom=a;g.makeKeyPairFromArrayBuffers=b;g.makeKeyPair=l;g.makeKeyPairFromSerialized=m;g.makeSerializedKeyPairFrom=n;g.makeSerializedKeyPair=e;g.serializePubKey=o;g.serializeIdentity=f;g.toSerializedKeyPair=p;g.makePreKeys=q;g.deserializePreKey=r;g.castToPreKeyId=s;g.castToSignedPreKeyId=t;g.castToSerializedPubKey=u;g.makeRawSenderKey=v;g.ecdh=w}),98);
__d("MAWCompareIdentity",["MAWDbIdentityTxns","MAWODSProxy","MAWQplProxy","SignalDbTypes","WABase64","WACryptoUtils","WAJids","WALogger","WAOdsEnums","WASignalKeys","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Got identity mismatch ",", "," in compare identity"]);h=function(){return a};return a}function a(a){return a.meta.bulkGet([d("SignalDbTypes").MetaKeysEnum.fbid,d("SignalDbTypes").MetaKeysEnum.deviceId,d("SignalDbTypes").MetaKeysEnum.identityKeyPair]).then(function(b){var e=b[0],f=b[1];b=b[2];e=e==null?void 0:e.value.fbid;f=f==null?void 0:f.value.deviceId;var g=b==null?void 0:b.value.identityKeyPair;if(e!=null&&f!=null){b=d("WAJids").toDeviceJid(d("WAJids").toMsgrUserJid(e),f);return d("MAWDbIdentityTxns").bulkGetIdentities(a,[b]).then(function(a){if(!(a.length===0)){a=a[0];if((g==null?void 0:g.publicKey)==null)return!0;if(!d("WACryptoUtils").serializedPubKeysEqual(a.identity,d("WASignalKeys").serializePubKey(g))){var b=d("MAWQplProxy").startQplUserFlow(c("qpl")._(741087294,"2028"));b.endSuccess();d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.COMPARE_IDENTITY,key:"meta_identity_mismatch"});c("gkx")("8498")&&c("gkx")("3827")&&d("WALogger").ERROR(h(),d("WABase64").encodeB64(a.identity),d("WABase64").encodeB64(d("WASignalKeys").serializePubKey(g)));return!1}}return!0})}return!0})}g.compareIdentity=a}),98);
__d("MAWDbMetaTxns",["MAWTransactionMode","MAWTransactor","SignalDbTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWTransactor").makeMsgrTransactor({meta:d("MAWTransactionMode").READWRITE},"saveCAT")(function(a,b){return a.meta.put({key:d("SignalDbTypes").MetaKeysEnum.cat,value:{cat:b}}).then(function(){return b})});function a(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.deviceUUID).then(function(a){return{deviceUUID:a==null?void 0:a.value.deviceUUID}})}function b(a){return a.meta.bulkGet([d("SignalDbTypes").MetaKeysEnum.lastSignedPrekeyId,d("SignalDbTypes").MetaKeysEnum.identityKeyPair]).then(function(a){var b=a[0];a=a[1];b=b==null?void 0:b.value.lastSignedPrekeyId;a=a==null?void 0:a.value.identityKeyPair;return{identityPair:a,keyId:b}})}function c(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.lastPrekeyId).then(function(a){return a==null?void 0:a.value.lastPrekeyId})}function e(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.lastPrekeyGenerationId).then(function(a){return a==null?void 0:a.value.lastPrekeyGenerationId})}function f(a){return a.meta.toArray()}g.saveCAT=h;g.getPushMetaData=a;g.maybeGetLastSignedPrekeyIdAndIdentity=b;g.maybeGetLastPrekeyId=c;g.maybeGetLastPrekeyGenerationId=e;g.getAllMeta=f}),98);
__d("MAWCryptoAuthTokenWrapper",["MessengerWebInitData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MessengerWebInitData").cryptoAuthToken}g.getCryptoAuthToken=a}),98);
__d("MAWDeviceRegistrationActions",["MAWCompareIdentity","MAWCurrentUser","MAWDexieTable","MAWLoggerUtils","MessengerWebInitData","SignalDbTypes","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": signedPrekey}"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Device Registration Meta Check] Device Id should be a number"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWDeviceRegistrationActions: sessionId is null"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": ",""]);o=function(){return a};return a}var p="Device registration meta is incomplete: ",q=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration]);function r(a,b,c,e,f){(a!=null||b!=null||c!=null||e!=null||f!=null)&&(a==null&&q.TAGS([d("MAWLoggerUtils").Tag.SignedPrekey]).ERROR(o(),p,d("SignalDbTypes").MetaKeysEnum.lastSignedPrekeyId),b==null&&q.ERROR(n(),p,d("SignalDbTypes").MetaKeysEnum.deviceUUID),c==null&&q.ERROR(m(),p,d("SignalDbTypes").MetaKeysEnum.regId),e==null&&q.ERROR(l(),p,d("SignalDbTypes").MetaKeysEnum.identityKeyPair),f==null&&q.ERROR(k(),p,d("SignalDbTypes").MetaKeysEnum.fbid))}function a(a){var b;return d("MAWDexieTable").dexieAll([a.meta.bulkGet([(b=d("SignalDbTypes")).MetaKeysEnum.lastSignedPrekeyId,b.MetaKeysEnum.deviceUUID,b.MetaKeysEnum.lastSessionDeviceWasLinkedTo,b.MetaKeysEnum.regId,b.MetaKeysEnum.identityKeyPair,b.MetaKeysEnum.fbid,b.MetaKeysEnum.deviceId,b.MetaKeysEnum.registrationVersion]),d("MAWCompareIdentity").compareIdentity(a)]).then(function(b){var e=b[0],f=e[0],g=e[1],k=e[2],l=e[3],m=e[4],n=e[5],o=e[6];e=e[7];var s=b[1],t=f==null?void 0:(b=f.value)==null?void 0:b.lastSignedPrekeyId,u=g==null?void 0:(f=g.value)==null?void 0:f.deviceUUID,v=k==null?void 0:(b=k.value)==null?void 0:b.lastSessionDeviceWasLinkedTo,w=l==null?void 0:(g=l.value)==null?void 0:g.regId,x=m==null?void 0:(f=m.value)==null?void 0:f.identityKeyPair;b=n==null?void 0:(k=n.value)==null?void 0:k.fbid;var y=o==null?void 0:(l=o.value)==null?void 0:l.deviceId,z=e==null?void 0:e.value.registrationVersion;if(t==null||u==null||w==null||x==null||b==null){r(t,u,w,x,b);return null}c("MessengerWebInitData").sessionId==null&&q.ERROR(j());if(y!=null&&typeof y!=="number"){q.ERROR(i());return null}return a.signedPrekey.get(t).then(function(a){if(a==null){q.TAGS([d("MAWLoggerUtils").Tag.SignedPrekey]).ERROR(h(),p);return null}return{deviceId:y,deviceUUID:u,identityCompareResult:s,lastSessionDeviceWasLinkedTo:v,lastSignedPrekeyId:t,registrationVersion:z,signalRegInfo:{identityKeyPair:x,regId:w,signedPreKey:a}}})})}function b(a,b){var c;return d("MAWDexieTable").dexieAll([a.meta.bulkPut([{key:(c=d("SignalDbTypes")).MetaKeysEnum.deviceUUID,value:{deviceUUID:b.deviceUUID}},{key:c.MetaKeysEnum.fbid,value:{fbid:d("MAWCurrentUser").getID()}},{key:c.MetaKeysEnum.regId,value:{regId:b.signalRegInfo.regId}},{key:c.MetaKeysEnum.identityKeyPair,value:{identityKeyPair:b.signalRegInfo.identityKeyPair}},{key:c.MetaKeysEnum.lastSignedPrekeyId,value:{lastSignedPrekeyId:b.signalRegInfo.signedPreKey.keyId}},{key:c.MetaKeysEnum.registrationVersion,value:{registrationVersion:b.registrationVersion}},{key:c.MetaKeysEnum.authKeyPair,value:{authKeyPair:b.signalRegInfo.authKeyPair}}]),a.signedPrekey.put(b.signalRegInfo.signedPreKey)])}function e(a,b){return a.meta.put({key:d("SignalDbTypes").MetaKeysEnum.deviceId,value:{deviceId:b}})}function f(a,b){return a.meta.put({key:d("SignalDbTypes").MetaKeysEnum.lastSessionDeviceWasLinkedTo,value:{lastSessionDeviceWasLinkedTo:b}})}function s(a,b,c){return a.contacts.get(b).then(function(d){if(d!=null)return a.contacts.put(babelHelpers["extends"]({},d,{icdcInfo:c}));else return a.contacts.put({contactJid:b,dhash:null,icdcInfo:c})}).then(function(){})}g.getRegistrationMeta=a;g.saveUnsentRegistrationMeta=b;g.saveDeviceId=e;g.saveLastSessionDeviceWasLinkedTo=f;g.saveICDC=s}),98);
__d("MAWDeviceRegistrationDomainUtil",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h="https://www.messenger.com",i="https://www.facebook.com",j="https://web.facebook.com",k={MESSENGER_OR_FB_COM:"1",OTHER:"3",WEB_FB_COM:"2"},l=typeof window!=="undefined"?window:self;function a(a){var b;if(!c("gkx")("7858"))return a;b=(b=l.location.origin)!=null?b:"unknown";switch(b){case h:case i:return a+"-"+k.MESSENGER_OR_FB_COM;case j:return a+"-"+k.WEB_FB_COM;default:return a+"-"+k.OTHER}}g.generateDeviceUUID=a}),98);
__d("MAWDeviceRegistrationTypes",[],(function(a,b,c,d,e,f){"use strict";a=25;b=7;c=100;d="https://reg-e2ee.facebook.com";e=d;var g="https://v.whatsapp.net",h="https://reg-e2ee.instagram.com",i="/v2/fb_icdc_fetch",j="/v2/fb_register_v2",k="Device has already been registered to WA servers",l="Device registration finished successfully",m="Device registration retries failed "+b+" times. No longer attempting registration.",n="Device registration response was null",o="Current user id is zero",p="CryptoAuthToken is empty",q="CryptoAuthToken is expired",r={failed:"failed",finished:"finished"};f.MAX_USERS_FOR_NOTIFY_DEVICE_CHANGE=a;f.MAX_DEVICE_REGISTRATION_RETRIES=b;f.MAX_ROTATE_CRYPTO_AUTH_TOKEN_RETRIES=c;f.REG_FB_DOMAIN=d;f.REG_MSGR_DOMAIN=e;f.REG_WA_DOMAIN=g;f.REG_IGD_DOMAIN=h;f.ICDC_ENDPOINT=i;f.REGISTRATION_ENDPOINT=j;f.DEVICE_ALREADY_REGISTERED=k;f.DEVICE_SUCCESSFULLY_REGISTERED=l;f.FAILED_REGISTRATION_RETRIES=m;f.NULL_RESPONSE_FROM_SERVER=n;f.DEVICE_REGISTER_ERROR_ZERO_AS_USER_ID=o;f.DEVICE_REGISTER_ERROR_EMPTY_CAT_TOKEN=p;f.DEVICE_REGISTER_ERROR_EXPIRED_CAT_TOKEN=q;f.RegistrationStatesEnum=r}),66);
__d("MAWSignalIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WALogger","WAWorkerGlobalScope","err","gkx","promiseDone","qex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SignalDb initialization] upgradeneeded is triggered in another worker. This should not happen."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[JOB] Setting up the jobs database"]);j=function(){return a};return a}var k=null,l=null,m="jobs",n="observations";function o(){return c("qex")._("940")}function p(){if(k==null)throw c("err")("SignalDB IndexDB should've been initialized");return k}function q(){if(l==null)throw c("err")("SignalDB IndexDB should've been initialized");return l.then(function(){return p()})}function a(){return k!=null}var r=[function(a){a=a.target.result;a=a.createObjectStore(m,{autoIncrement:!0,keyPath:"jobId"});a.createIndex("uniqKey","uniqKey")},function(a){a=a.target.result;a.createObjectStore(n,{autoIncrement:!1,keyPath:"id"})},function(a){a=a.target.transaction;a=a.objectStore(n);a.createIndex("lastUpdate","lastUpdate",{unique:!1})}];function s(){return c("gkx")("2033")}function e(a,b){b===void 0&&(b=!1);l=null;k=null;return t(a,b).then(function(){return k.version})}function t(a,c){c===void 0&&(c=!1);if(!c&&s())return(h||(h=b("Promise"))).resolve();if(l!=null)return l;if(k!=null)return(h||(h=b("Promise"))).resolve();c=d("MAWCurrentUser").getID();var e=d("MAWIndexedDbMetadata").signalDbName(c),f=(a=(c=a)!=null?c:o())!=null?a:r.length;l=new(h||(h=b("Promise")))(function(a,b){d("WALogger").LOG(j());var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<r.length;b++){var c=r[b],d=b+1;u(a,d)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){d("WALogger").ERROR(i()),c.close(),d("WAWorkerGlobalScope").workerGlobalScope.location.reload==null?void 0:d("WAWorkerGlobalScope").workerGlobalScope.location.reload()};k=c;a()};c.onerror=function(){b(c.error)}});return l}function u(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function v(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function f(a,b,e,f){var g=v(b);return function(b){return function(){for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];var m=f!=null?d("MAWQplProxy").startQplUserFlow(f):null,n=function f(h){return q().then(function(c){var d=function(b){b=c.transaction(a,b!=null?v(b):g,{durability:"relaxed"});return b.objectStore(a)};return b.apply(void 0,[d].concat(i))}).then(function(a){m==null?void 0:m.endSuccess();return a})["catch"](function(b){m==null?void 0:m.endFail("job_transaction_fail");b=d("MAWErrorObject").getErrorObject(b);if((b==null?void 0:b.name)==="InvalidStateError"&&h===1){l=null;k=null;c("promiseDone")(t());return f(h-1)}throw c("unrecoverableViolation")(e+":"+a+" - Error performing transaction in signalDB transactor v2","messenger_e2ee_web",b?{error:b}:{})})};return n(1)}}}g.getSignalDbVersion=o;g.getSignalDB=p;g.isSignalDBInitted=a;g.dbMigrations=r;g.makeSignalDbIgnoringPreviousCreations=e;g.makeSignalDB=t;g.makeSignalMsgrTransactor=f}),98);
__d("MAWObservationApi",["MAWSignalIndexedDb","MAWTransactionMode","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{addObservation:d("MAWSignalIndexedDb").makeSignalMsgrTransactor("observations",d("MAWTransactionMode").READWRITE,"addObservation")(function(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=a(),g=f.get(c);g.onsuccess=function(a){var g=a.target.result;g!=null?(g.observations.push(d),g.lastUpdate=d,a=f.put(g)):(g={id:c,lastUpdate:d,observations:[d]},a=f.add(g));a.onsuccess=function(){return b(g)};a.onerror=e};g.onerror=e})}),getAndRemoveObservation:d("MAWSignalIndexedDb").makeSignalMsgrTransactor("observations",d("MAWTransactionMode").READWRITE,"getAndRemoveObservation")(function(a,c){return new(h||(h=b("Promise")))(function(b,d){var e=a(),f=e.get(c);f.onsuccess=function(a){var f=a.target.result;a=e["delete"](c);a.onsuccess=function(){return b(f)};a.onerror=d};f.onerror=d})}),getAndRemoveStaleObservations:d("MAWSignalIndexedDb").makeSignalMsgrTransactor("observations",d("MAWTransactionMode").READWRITE,"getAndRemoveStaleObservations")(function(a,c){return new(h||(h=b("Promise")))(function(b,d){var e=[],f=a(),g=IDBKeyRange.upperBound(c),h=f.index("lastUpdate").openCursor(g);h.onsuccess=function(a){a=a.target.result;if(a==null){b(e);return}var c=a.value;e.push(c);var f=a["delete"]();f.onerror=function(){return d("An error with deleting observation: "+f.error.toString())};a["continue"]()};h.onerror=function(){return d("An error with retrieving observations: "+h.error.toString())}})})}}c=d("MAWSignalIndexedDb").makeSignalMsgrTransactor("observations",d("MAWTransactionMode").READWRITE,"clearSignalObservationStore")(function(a){return new(h||(h=b("Promise")))(function(b,c){var d=a().clear();d.onsuccess=b;d.onerror=function(){return c("An error with clearing observations: "+d.error.toString())}})});g.getObservationApi=a;g.clearSignalObservationStore=c}),98);
__d("MAWClearSignalAndTempStores",["MAWDeleteOldLogsFromDisk","MAWDexieTable","MAWIndexedDb","MAWJobActionsV2","MAWLoggingSwitches","MAWObservationApi","MAWSignalIndexedDb","MAWTransactionMode","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWIndexedDb").makeMsgrTransactor({jobs:(a=d("MAWTransactionMode")).READWRITE,meta:a.READWRITE,personalSenderKeyStatuses:a.READWRITE,prekey:a.READWRITE,prekeyGeneration:a.READWRITE,senderKeySessions:a.READWRITE,session:a.READWRITE,signedPrekey:a.READWRITE,tasks:a.READWRITE},"clearSignalAndTempStores")(function(a){return d("MAWDexieTable").dexieAll([a.jobs.clear(),a.meta.clear(),a.prekey.clear(),a.prekeyGeneration.clear(),a.session.clear(),a.signedPrekey.clear(),a.tasks.clear(),a.senderKeySessions.clear(),a.personalSenderKeyStatuses.clear()]).then(function(){})}),j=d("MAWSignalIndexedDb").makeSignalMsgrTransactor("jobs",a.READWRITE,"clearJob")(d("MAWJobActionsV2").clearJobs);c=function(){return(h||(h=b("Promise"))).all([d("MAWLoggingSwitches").removeLoggingFromBridge&&d("MAWDeleteOldLogsFromDisk").clearLogs(),i(),j(),d("MAWObservationApi").clearSignalObservationStore()["catch"](function(){})]).then(function(){})};g.clearSignalAndTempStores=c}),98);
__d("XArmadilloWebLinkDeviceToSessionControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger/armadillo/link_device/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWDeviceRegistrationSessionUtil",["CSRFGuard","DTSG","DTSGUtils","MAWDeviceRegistrationActions","MAWIndexedDb","MAWLoggerUtils","MAWTransactionMode","PHPQuerySerializer","SprinkleConfig","WATagsLogger","WAWorkerGlobalScope","XArmadilloWebLinkDeviceToSessionControllerRouteBuilder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LinkDeviceToTheSession] fetch result is not succesful"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LinkDeviceToTheSession] success"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LinkDeviceToTheSession] parse response error ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LinkDeviceToTheSession] fetch is not 200: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LinkDeviceToTheSession] fetch error ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LinkDeviceToTheSession] deviceUUID is null"]);n=function(){return a};return a}var o=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration]),p=d("MAWIndexedDb").makeMsgrTransactor({meta:d("MAWTransactionMode").READWRITE},"saveLastSessionDeviceWasLinkedTo")(function(a,b){return d("MAWDeviceRegistrationActions").saveLastSessionDeviceWasLinkedTo(a,b)});function a(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWorkerGlobalScope").workerGlobalScope.location.origin;if(e==null||e==="")return;if(a==null){o.ERROR(n());return}e=new URL(e).hostname;e=(e=c("XArmadilloWebLinkDeviceToSessionControllerRouteBuilder").buildUri({}).setDomain(e))==null?void 0:(e=e.setProtocol("https"))==null?void 0:e.toString();if(e==null)return;var f=d("DTSG").getToken();if(f==null)return;a={device_id:a,fb_dtsg:f};c("SprinkleConfig").param_name&&(a[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(f));f=d("WAWorkerGlobalScope").workerGlobalScope.fetch;var g;try{g=(yield f(e,{body:(h||(h=c("PHPQuerySerializer"))).serialize(a),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",redirect:"error"}))}catch(a){o.ERROR(m(),a);return}if(!g.ok){o.ERROR(l(),g.status);return}f=(yield g.text());d("CSRFGuard").exists(f)&&(f=d("CSRFGuard").clean(f));var q;try{q=JSON.parse(f)}catch(a){o.ERROR(k(),a);return}((e=q)==null?void 0:e.success)===!0?(o.LOG(j()),yield p(b)):o.WARN(i())});return q.apply(this,arguments)}g.linkDeviceToTheSession=a}),98);
__d("MAWConstants",[],(function(a,b,c,d,e,f){"use strict";a=5;b="Facebook user";c="Instagram user";d=24;e=3;var g=50;f.MESSAGE_RETRY_COUNT_LIMIT=a;f.FB_UNKNOWN_USER=b;f.INS_UNKNOWN_USER=c;f.MAX_APPDATA_RECIPIENTS=d;f.CURRENT_REGISTRATION_VERSION=e;f.BRIDGE_UPLOAD_BATCH_SIZE=g}),66);
__d("WASignalSessions",["WABinary","WAErr","WASignalKeys","WASignalOther"],(function(a,b,c,d,e,f,g){var h=3;function a(a,b){return i(a,0,b,[])}function i(a,b,c,d){return{ratchetPubKey:a,nextMsgIndex:b,chainKey:c,unusedMsgKeys:d}}function b(a,b){return j(a,0,b)}function j(a,b,c){return{ratchetKey:a,nextMsgIndex:b,chainKey:c}}function k(a,b,c){return{remoteOneTimeId:a,remoteSignedId:b,localOneTimePubKey:c}}function e(a,b){return n(a.local,a.remote,a.rootKey,a.recvChains,a.sendChain,a.initialExchangeInfo,a.prevSendChainHighestIndex,b,a.aliceBaseKey)}function f(a,b,c){return n(a.local,a.remote,a.rootKey,b,c,a.initialExchangeInfo,a.prevSendChainHighestIndex,a.prevSessions,a.aliceBaseKey)}function l(a,b,c,d){c===void 0&&(c=a.sendChain);return n(a.local,a.remote,d,b,c,null,Math.max(a.sendChain.nextMsgIndex-1,0),a.prevSessions,a.aliceBaseKey)}function m(a,b,c,d,e,f,g){return n(a,b,c,d,e,f,0,[],g)}function n(a,b,c,d,e,f,g,h,i){return{local:a,remote:b,rootKey:c,sendChain:e,recvChains:d,initialExchangeInfo:f,prevSendChainHighestIndex:g,prevSessions:h,aliceBaseKey:i}}function o(a,b){b=new(d("WABinary").Binary)(b);var c=d("WASignalOther").readBytes(b,32),e=d("WASignalOther").readBytes(b,32);b=d("WASignalOther").readBytes(b,16);return p(a,c,e,b)}function p(a,b,c,d){return{index:a,cipherKey:b,macKey:c,iv:d}}function q(a){return{senderRatchetKey:a.ratchetPubKey,chainKey:{index:a.nextMsgIndex,key:a.chainKey},messageKeys:a.unusedMsgKeys}}function r(a){var b=a.ratchetKey;return{senderRatchetKey:b.serializedPubKey,senderRatchetKeyPrivate:b.privateKey,chainKey:{index:a.nextMsgIndex,key:a.chainKey}}}function s(a){var b=a.local,c=a.remote,d=a.initialExchangeInfo,e=void 0;if(d){var f=d.remoteOneTimeId;e={preKeyId:f!=null?f:void 0,signedPreKeyId:d.remoteSignedId,baseKey:d.localOneTimePubKey}}return{currentSession:{sessionVersion:h,localIdentityPublic:b.pubKey,remoteIdentityPublic:c.pubKey,rootKey:a.rootKey,previousCounter:a.prevSendChainHighestIndex,senderChain:r(a.sendChain),receiverChains:a.recvChains.map(q),pendingPreKey:e,remoteRegistrationId:c.regId,localRegistrationId:b.regId,aliceBaseKey:a.aliceBaseKey},previousSessions:a.prevSessions}}function t(a){var b=a.local,c=a.remote,e=a.sendChain,f=a.initialExchangeInfo,g=void 0;if(f){var i=f.remoteOneTimeId;g={preKeyId:i!=null?i:void 0,signedPreKeyId:f.remoteSignedId,baseKey:d("WASignalOther").toBuffer(f.localOneTimePubKey)}}return{sessionVersion:h,localIdentityPublic:d("WASignalOther").toBuffer(b.pubKey),remoteIdentityPublic:d("WASignalOther").toBuffer(c.pubKey),rootKey:d("WASignalOther").toBuffer(a.rootKey),previousCounter:a.prevSendChainHighestIndex,senderChain:{senderRatchetKey:d("WASignalOther").toBuffer(e.ratchetKey.serializedPubKey),senderRatchetKeyPrivate:d("WASignalOther").toBuffer(e.ratchetKey.privateKey),chainKey:{index:e.nextMsgIndex,key:d("WASignalOther").toBuffer(e.chainKey)},messageKeys:[]},receiverChains:a.recvChains.map(function(a){return{senderRatchetKey:d("WASignalOther").toBuffer(a.ratchetPubKey),chainKey:{index:a.nextMsgIndex,key:d("WASignalOther").toBuffer(a.chainKey)},messageKeys:a.unusedMsgKeys.map(function(a){return{index:a.index,cipherKey:d("WASignalOther").toBuffer(a.cipherKey),macKey:d("WASignalOther").toBuffer(a.macKey),iv:d("WASignalOther").toBuffer(a.iv)}})}}),pendingPreKey:g,remoteRegistrationId:c.regId,localRegistrationId:b.regId,aliceBaseKey:a.aliceBaseKey==null?void 0:d("WASignalOther").toBuffer(a.aliceBaseKey)}}function u(a){var b=A(a.currentSession,"currentSession");return w(b,a.previousSessions)}function v(a){return w(a,[])}function w(a,b){var e=A(a.sessionVersion,"sessionVersion");if(e!==h)throw c("WAErr")("Signal: bad session version "+e);e=A(a.senderChain,"senderChain");var f=A(e.chainKey,"senderChain.chainKey");e=j(d("WASignalKeys").makeSerializedKeyPairFrom(z(e.senderRatchetKeyPrivate,32,"senderRatchetKeyPrivate"),y(e.senderRatchetKey,"senderRatchetKey")),A(f.index,"senderChain.chainKey.index"),z(f.key,32,"senderChain.chainKey.key"));f=A(a.receiverChains,"receiverChains").map(function(a){var b=A(a.chainKey,"receiverChains[].chainKey");return i(y(a.senderRatchetKey,"receiverChains[].senderRatchetKey"),A(b.index,"receiverChains[].chainKey.index"),z(b.key,32,"receiverChains[].chainKey.key"),x(a.messageKeys))});var g={regId:d("WASignalOther").castRegistrationId(A(a.localRegistrationId,"localRegistrationId")),pubKey:y(a.localIdentityPublic,"localIdentityPublic")},l={regId:d("WASignalOther").castRegistrationId(A(a.remoteRegistrationId,"remoteRegistrationId")),pubKey:y(a.remoteIdentityPublic,"remoteIdentityPublic")},m=a.pendingPreKey,o=null;if(m){var p=m.preKeyId;o=k(p!=null?d("WASignalKeys").castToPreKeyId(p):null,d("WASignalKeys").castToSignedPreKeyId(A(m.signedPreKeyId,"pendingPreKey.signedPreKeyId")),y(m.baseKey,"pendingPreKey.baseKey"))}p=a.aliceBaseKey==null?null:y(a.aliceBaseKey,"aliceBaseKey");return n(g,l,z(a.rootKey,32,"rootKey"),f,e,o,a.previousCounter||0,b,p)}function x(a){return a.map(function(a){return{index:A(a.index,"messageKeys[].index"),cipherKey:z(a.cipherKey,32,"messageKeys[].cipherKey"),macKey:z(a.macKey,32,"messageKeys[].macKey"),iv:z(a.iv,16,"messageKeys[].iv")}})}function y(a,b){return d("WASignalKeys").castToSerializedPubKey(new Uint8Array(A(a,b)))}function z(a,b,c){return d("WASignalOther").toBytes(A(a,c),b)}function A(a,b){if(a==null)throw c("WAErr")("Signal: protobuf is missing "+b);return a}g.FORMAT_VERSION=h;g.makeFreshRecvChain=a;g.makeRecvChain=i;g.makeFreshSendChain=b;g.makeSendChain=j;g.makeInitialExchangeInfo=k;g.setPrevSessions=e;g.updateChains=f;g.ratchetSession=l;g.makeFreshSession=m;g.makeSession=n;g.splitMsgKey=o;g.serializeSession=s;g.detachSession=t;g.parseSessionFromRecord=u;g.parseSession=v;g._parseSession=w;g.bytesOrThrow=z;g.definedOrThrow=A}),98);
__d("WACryptoEd25519",["WACryptoPrimitives","WAErr"],(function(a,b,c,d,e,f,g){var h=null;function i(a){var b=h;h=[];try{return a()}finally{((a=h)!=null?a:[]).forEach(function(a){return void a.fill(0)});h=b}}function j(a,b){if(h==null)throw c("WAErr")("allocate called outside of active scope");return new a(b)}function a(a,b,c){d("WACryptoPrimitives").lowlevel.crypto_hash(a,b,c)}function b(a,b){for(var c=0;c<64;++c)b[c]=a[c],a[c]=0;l(a,b);b.fill(0)}function e(a,b){var c=[k(),k(),k(),k()];d("WACryptoPrimitives").lowlevel.scalarbase(c,b);R(a,c)}function k(a){var b=j(Float64Array,16);if(a){if(a.length>16)throw c("WAErr")("Incorrect initialiser array provided to the fieldElement");for(var d=0;d<a.length;d++)b[d]=a[d]}return b}function l(a,b){d("WACryptoPrimitives").lowlevel.modL(a,b)}var m=function(){return k([0])},n=function(){return k([1])},o=function(){return k([2])},p=function(){return k([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function q(){return[k(),k(),k(),k()]}function r(){return[k(),k(),k(),k()]}function s(){return[k(),k(),k()]}function t(a,b){var c=0;b=b;while(b>0){var d=b%65536;a[c]=d;b=(b-d)/65536;c++}}function u(a,b){return T(a,b)?0:1}function v(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=j(Uint8Array,32);b(c,a);return c[0]&1}function w(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=o(),g=k();c(g,b);e(a,f,g)}function x(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.A,g=m(),h=n(),i=k(),j=k(),l=k(),o=k();t(g,486662);c(i,b);e(j,g,b);f(l,i,j);f(o,l,h);e(a,b,o)}function y(a,b,c){c===1&&a.set(b)}var z=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function A(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.unpack25519,f=c.lowlevel.pow2523,g=c.lowlevel.M;c=c.lowlevel.S;var h=k();e(h,z);e=k();f(e,b);f=k();g(f,b,e);e=k();c(e,f);c=k();g(c,f,h);y(f,c,1^u(e,b));a.set(f)}function B(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.M,g=n(),h=k(),i=k(),j=k();c(h,b,g);e(i,b,g);S(j,i);f(a,h,j)}function C(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=m();c(a,e,b)}function D(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3])}function E(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3]);c(a[3],b[0],b[1])}function F(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.Z;c(a[0],b[0]);c(a[2],b[1]);w(a[3],b[2]);e(a[1],b[0],b[1]);b=k();c(b,a[1]);e(a[1],a[2],a[0]);f(a[2],a[2],a[0]);f(a[0],b,a[1]);f(a[3],a[3],a[2])}var G=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function H(a,b,c){var e=d("WACryptoPrimitives").lowlevel.unpack25519,f=d("WACryptoPrimitives").lowlevel.M,g=k();e(g,G);e=k();B(e,b);var h=k();x(h,b);var i=k();A(i,h);h=k();f(h,b,g);b=k();S(b,i);g=k();f(g,h,b);i=k();C(i,g);y(g,i,v(g)^c);a[0].set(g);a[1].set(e);a[2].set(n());f(a[3],a[0],a[1])}function I(a,b){a[0].set(b[0]),a[1].set(b[1]),a[2].set(b[2])}function J(a,b){var c=s();I(c,b);F(a,c)}function K(a,b){var c=r(),d=s();J(c,b);D(d,c);F(c,d);D(d,c);F(c,d);E(a,c)}function L(a){var b,c=(b=d("WACryptoPrimitives")).lowlevel.S,e=b.lowlevel.M,f=b.lowlevel.pow2523;b=b.lowlevel.pack25519;var g=k(),h=k(),i=k(),j=k(),l=k();f(g,a);c(h,g);c(i,h);e(j,i,a);e(l,j,a);f=new Uint8Array(32);b(f,l);return 1&f[31]}function M(a,b){C(a[0],b[0]),a[1].set(b[1]),a[2].set(b[2]),C(a[3],b[3])}function f(a,b){var c=q();b=U(c,b);if(b!==0)return-1;M(a,c);return 0}function N(a,b){var c=d("WACryptoPrimitives").lowlevel.M,e=d("WACryptoPrimitives").lowlevel.A;b=b;var f=n(),g=m();t(g,486662);var h=k();w(h,b);b=k();e(b,h,f);h=k();S(h,b);f=k();c(f,h,g);b=k();C(b,f);c=k();x(c,b);h=L(c);f=k([0]);y(f,g,h);c=k();e(c,b,f);g=k();C(g,c);y(c,g,h);a.set(c)}function O(a){var b=d("WACryptoPrimitives").lowlevel.unpack25519;a=d("WACryptoPrimitives").hash(a);var c=(a[31]&128)>>7;a[31]&=127;var e=k();b(e,a);b=k();P(b,e);a=q();H(a,b,c);e=q();K(e,a);return e}function P(a,b){return i(function(){return N(a,b)})}function Q(a){return i(function(){return O(a)})}function R(a,b){var c=k(),e=k(),f=k(),g=d("WACryptoPrimitives").lowlevel.M,h=d("WACryptoPrimitives").lowlevel.pack25519;S(f,b[2]);g(c,b[0],f);g(e,b[1],f);h(a,e);g=new Uint8Array(32);h(g,c);a[31]^=(g[0]&1)<<7}function S(a,b){var c=k();c.set(b);var e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.S;for(var g=253;g>=0;--g)f(c,c),g!==2&&g!==4&&e(c,c,b);a.set(c)}function T(a,b){var c=d("WACryptoPrimitives").lowlevel.pack25519,e=d("WACryptoPrimitives").lowlevel.crypto_verify_32,f=new Uint8Array(32),g=new Uint8Array(32);c(f,a);c(g,b);return e(f,0,g,0)}function U(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.set25519,f=c.lowlevel.S,g=c.lowlevel.M,h=c.lowlevel.Z,i=c.lowlevel.A,j=c.lowlevel.D,l=c.lowlevel.unpack25519;c=c.lowlevel.pow2523;var o=k(),q=k(),r=k(),s=k(),t=k(),u=k(),v=k();e(a[2],n());l(a[1],b);f(r,a[1]);g(s,r,j);h(r,r,a[2]);i(s,a[2],s);f(t,s);f(u,t);g(v,u,t);g(o,v,r);g(o,o,s);c(o,o);g(o,o,r);g(o,o,s);g(o,o,s);g(a[0],o,s);f(q,a[0]);g(q,q,s);T(q,r)&&g(a[0],a[0],p());f(q,a[0]);g(q,q,s);if(T(q,r))return-1;V(a[0])===b[31]>>7&&h(a[0],m(),a[0]);g(a[3],a[0],a[1]);return 0}function V(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=new Uint8Array(32);b(c,a);return c[0]&1}g.runInAllocationScope=i;g.allocate=j;g.hashSha512=a;g.reduce=b;g.scalarmultBase=e;g.fieldElement=k;g.modL=l;g.p3Element=q;g.unpack=f;g.elligator=P;g.hashToPoint=Q;g.pack=R;g.inv25519=S;g.unpackneg=U}),98);
__d("WASignalSignatures",["Promise","WACryptoEd25519","WACryptoPrimitives","WAErr","WAHex","WALogger","WALongInt","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["deserializeSignedPreKey error ",""]);i=function(){return a};return a}function j(a,b,c){return d("WACryptoEd25519").runInAllocationScope(function(){var e,f=b.length,g=a.privateKey,h=new Uint8Array(32);(e=d("WACryptoEd25519")).scalarmultBase(h,g);var i=h[31]&128,j=new Uint8Array(f+128);j[0]=254;j.fill(255,1,32);j.set(g,32);j.set(b,64);j.set(c,f+64);var k=e.allocate(Uint8Array,64);e.hashSha512(k,j,f+128);j.set(h,32);h=e.allocate(Float64Array,64);e.reduce(k,h);e.scalarmultBase(j,k);var l=e.allocate(Uint8Array,64);e.hashSha512(l,j,f+64);e.reduce(l,h);for(f=0;f<32;++f)h[f]=k[f];for(f=0;f<32;++f)for(k=0;k<32;++k)h[f+k]+=l[f]*g[k];e.modL(j.subarray(32,64),h);return{pubKeyNegative:i!==0,signedMsg:j}})}function a(a,c){return(h||(h=b("Promise"))).resolve().then(function(){var b=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(b);return k(a,c,b)})}function e(a,b,c){var e=c[63];return e&96?!1:d("WACryptoEd25519").runInAllocationScope(function(){var f,g,h=(f=d("WACryptoPrimitives")).lowlevel.A,i=f.lowlevel.M,j=f.lowlevel.Z,k=f.lowlevel.pack25519,l=f.lowlevel.unpack25519,m=(g=d("WACryptoEd25519")).allocate(Uint8Array,64);m.set(c);m[63]=e&127;var n=g.fieldElement(),o=g.fieldElement(),p=g.fieldElement(),q=g.fieldElement(),r=g.fieldElement(),s=g.allocate(Uint8Array,32),t=g.fieldElement();t[0]=1;l(n,a.subarray(1));j(o,n,t);h(p,n,t);g.inv25519(q,p);i(r,o,q);k(s,r);s[31]=s[31]&127|e&128;return f.signDetachedVerify(b,m,s)})}function k(a,b,c){a=j(a,b,c);b=d("WASignalOther").sliceBytes(a.signedMsg,0,64);b[63]=b[63]&127|(a.pubKeyNegative?128:0);return b}function l(a,b,e){var f=d("WASignalKeys").makeKeyPair(),g=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(g);e=k(e,d("WASignalKeys").serializePubKey(f),g);if(!Number.isSafeInteger(b))throw c("WAErr")("Expected timestamp to be a safe integer, given "+String(b));return{id:d("WASignalKeys").castToPreKeyId(a),ts:b,keyPair:f,signature:e}}function f(a,b){var c=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(c);return k(a,b,c)}function m(a){var b=a.id,c=a.keyPair;return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:b,publicKey:d("WASignalKeys").serializePubKey(c),privateKey:c.privateKey,signature:a.signature,timestamp:a.ts})}function n(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey,e=a.privateKey,f=a.signature;a=a.timestamp;return b==null||c==null||e==null||f==null||a==null?null:{id:d("WASignalKeys").castToSignedPreKeyId(b),ts:d("WALongInt").numberOrThrowIfTooLarge(a),keyPair:d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalOther").toBytes(e,32),d("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))),signature:d("WASignalOther").toBytes(f,64)}}catch(a){d("WALogger").DEV(i(),a);return null}}function o(a){return new Uint8Array(d("WAHex").parseHex(a))}function p(a){if(a.length===33)return d("WASignalKeys").castToSerializedPubKey(a);else if(a.length===32)return d("WASignalKeys").serializeIdentity(a);else throw c("WAErr")("verifyCertificate publicKey incorrect length")}function q(a,c,d){return(h||(h=b("Promise"))).resolve().then(function(){var b=l(a,c,d),e=m(b);return{plainObject:b,record:e}})}g.signMsg=a;g.verifyMsgSignalVariant=e;g.makeSignature=k;g.makeSignedPreKey=l;g.signSenderKeyMessage=f;g.serializeSignedPreKeyForPrivateStorage=m;g.deserializeSignedPreKey=n;g.convertPublicKeyHexToUint8Array=o;g.convertPublicKeyToSerializedPubKey=p;g.generateSignedPreKey=q}),98);
__d("WASignalWhisperTextProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={};a.internalSpec={ratchetKey:[1,(d=d("WAProtoConst")).TYPES.BYTES],counter:[2,d.TYPES.UINT32],previousCounter:[3,d.TYPES.UINT32],ciphertext:[4,d.TYPES.BYTES]};b.internalSpec={registrationId:[5,d.TYPES.UINT32],preKeyId:[1,d.TYPES.UINT32],signedPreKeyId:[6,d.TYPES.UINT32],baseKey:[2,d.TYPES.BYTES],identityKey:[3,d.TYPES.BYTES],message:[4,d.TYPES.BYTES]};c.internalSpec={id:[1,d.TYPES.UINT32],baseKey:[2,d.TYPES.BYTES],ratchetKey:[3,d.TYPES.BYTES],identityKey:[4,d.TYPES.BYTES],baseKeySignature:[5,d.TYPES.BYTES]};e.internalSpec={id:[1,d.TYPES.UINT32],iteration:[2,d.TYPES.UINT32],ciphertext:[3,d.TYPES.BYTES]};f.internalSpec={id:[1,d.TYPES.UINT32],iteration:[2,d.TYPES.UINT32],chainKey:[3,d.TYPES.BYTES],signingKey:[4,d.TYPES.BYTES]};h.internalSpec={generation:[1,d.TYPES.UINT32],signature:[2,d.TYPES.BYTES]};g.SignalMessageSpec=a;g.PreKeySignalMessageSpec=b;g.KeyExchangeMessageSpec=c;g.SenderKeyMessageSpec=e;g.SenderKeyDistributionMessageSpec=f;g.DeviceConsistencyCodeMessageSpec=h}),98);
__d("WASignalGroupSession",["WASignalKeys","WASignalSessions"],(function(a,b,c,d,e,f,g){var h=5,i=3;function j(a){var b=d("WASignalSessions").definedOrThrow(a.senderSigningKey,"senderSigningKey"),c=d("WASignalSessions").definedOrThrow(a.senderMessageKeys,"senderMessageKeys"),e=d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey");return{senderSigningKeyPublic:r(b["public"],"public"),senderSigningKeyPrivate:b["private"]?d("WASignalSessions").bytesOrThrow(b["private"],32,"private"):void 0,senderKeyId:d("WASignalSessions").definedOrThrow(a.senderKeyId,"senderKeyId"),unusedMsgKeys:c.map(function(a){return k(d("WASignalSessions").definedOrThrow(a.iteration,"iteration"),d("WASignalSessions").bytesOrThrow(a.seed,50,"seed"))}),senderKeyChainKey:l(d("WASignalSessions").definedOrThrow(e.iteration,"iteration"),d("WASignalSessions").bytesOrThrow(e.seed,32,"seed"))}}function a(a,b,c,d,e){return{senderSigningKeyPublic:a,senderSigningKeyPrivate:b,senderKeyChainKey:c,senderKeyId:d,unusedMsgKeys:e==null?[]:e}}function b(a,b){var c=a.senderKeyStates.findIndex(function(a){return a.senderKeyId===b.senderKeyId});return{senderKeyStates:a.senderKeyStates.map(function(a,d){return d===c?b:a})}}function c(a,b){a=a.senderKeyStates.slice(a.senderKeyStates.length>h-1?1:0);a.push(b);return{senderKeyStates:a}}function e(a){return{senderKeyStates:[a]}}function k(a,b){return{iteration:a,seed:b}}function l(a,b){return{nextMsgIndex:a,chainKey:b}}function f(a){a=d("WASignalSessions").definedOrThrow(a.senderKeyStates,"senderKeyStates");return m(a)}function m(a){return n(a)}function n(a){a=a.map(function(a){return j(a)});return{senderKeyStates:a}}function o(a,b){var c=a.senderKeyStates.findIndex(function(a){return a.senderKeyId===b});return c===-1?void 0:a.senderKeyStates[c]}function p(a){return{senderKeyStates:a.senderKeyStates.map(function(a){return q(a)})}}function q(a){return{senderKeyId:a.senderKeyId,senderChainKey:{iteration:a.senderKeyChainKey.nextMsgIndex,seed:a.senderKeyChainKey.chainKey},senderSigningKey:{"public":a.senderSigningKeyPublic,"private":a.senderSigningKeyPrivate},senderMessageKeys:a.unusedMsgKeys.map(function(a){var b=a.iteration;a=a.seed;return{iteration:b,seed:a}})}}function r(a,b){return d("WASignalKeys").castToSerializedPubKey(new Uint8Array(d("WASignalSessions").definedOrThrow(a,b)))}function s(a){return a}g.FORMAT_VERSION=i;g.makeSenderKeyState=a;g.updateSessionWithUpdatedSenderKeyState=b;g.updateSessionWithNewSenderKeyState=c;g.makeNewSenderKeySession=e;g.makeSenderKeyMsgKey=k;g.makeSenderKeyChainKey=l;g.parseSessionFromRecord=f;g._parseSession=m;g.makeSenderKeySessionFromRecord=n;g.findSenderKeyState=o;g.serializeSession=p;g.serializeSenderKeyState=q;g.convertFromRawToSenderKeyState=s}),98);
__d("WASignalWhitepaper",["Promise","WABinary","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions","regeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=new Uint8Array(32);i.fill(255);var j=new Uint8Array([1]),k=new Uint8Array([2]);function a(a,c,e){var f,g,h,j,k,l,m,q,r,s,t,u,v,w,x,y,z;return b("regeneratorRuntime").async(function(A){while(1)switch(A.prev=A.next){case 0:g=a.regId,h=a.staticKeyPair;j=c.identity;k=c.signedKey.publicKey;l=e.privateKey;m=h.privateKey;q=(f=c.oneTimeKey)==null?void 0:f.publicKey;r=d("WABinary").Binary.build(i,p(m,k),p(l,j),p(l,k),q&&p(l,q)).readByteArray();A.next=9;return b("regeneratorRuntime").awrap(o(r,"WhisperText"));case 9:s=A.sent;t=s[0];u=s[1];v=c.ratchetKey;w=d("WASignalSessions").makeFreshRecvChain(v,u);x=d("WASignalKeys").makeSerializedKeyPair();A.next=17;return b("regeneratorRuntime").awrap(n(t,x,v));case 17:y=A.sent;z=d("WASignalSessions").makeInitialExchangeInfo(c.oneTimeKey==null?null:c.oneTimeKey.id,c.signedKey.id,d("WASignalKeys").serializePubKey(e));return A.abrupt("return",d("WASignalSessions").makeFreshSession({regId:g,pubKey:d("WASignalKeys").serializePubKey(h)},{regId:c.regId,pubKey:j},y.rootKey,[w],d("WASignalSessions").makeFreshSendChain(x,y.chainKey),z,d("WASignalKeys").serializePubKey(e)));case 20:case"end":return A.stop()}},null,this)}function c(a,c,e,f){var g,h,j,k,l,m,n,p,r,s,t,u,v,w;return b("regeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:h=a.regId,j=a.staticKeyPair;k=j.privateKey;l=f.signed.privateKey;m=e;n=c.pubKey;p=(g=f.oneTime)==null?void 0:g.privateKey;r=d("WABinary").Binary.build(i,q(n,l),q(m,k),q(m,l),p&&q(m,p)).readByteArray();x.next=9;return b("regeneratorRuntime").awrap(o(r,"WhisperText"));case 9:s=x.sent;t=s[0];u=s[1];v=f.ratchet;w=d("WASignalSessions").makeFreshSendChain(v,u);return x.abrupt("return",d("WASignalSessions").makeSession({regId:h,pubKey:d("WASignalKeys").serializePubKey(j)},c,t,[],w,null,0,[],e));case 15:case"end":return x.stop()}},null,this)}function e(a){a=d("WASignalGroupSession").makeSenderKeyState(d("WASignalKeys").serializePubKey(a),a.privateKey,d("WASignalGroupSession").makeSenderKeyChainKey(0,d("WASignalKeys").makeRawSenderKey()),d("WASignalOther").makeSenderKeyId(),[]);return(h||(h=b("Promise"))).resolve(d("WASignalGroupSession").makeNewSenderKeySession(a))}function f(a,c,e,f,g){e=d("WASignalGroupSession").makeSenderKeyState(e,void 0,d("WASignalGroupSession").makeSenderKeyChainKey(c,f),a,[]);c=null;g?c=d("WASignalGroupSession").updateSessionWithNewSenderKeyState(g,e):c=d("WASignalGroupSession").makeNewSenderKeySession(e);return(h||(h=b("Promise"))).resolve(c)}function l(a,c){var e,f,g,i;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(d("WASignalOther").makeCryptoKey(c,"hmac-sha256"));case 2:e=l.sent;f=function(a){return self.crypto.subtle.sign({name:"HMAC",hash:"SHA-256"},e,a)};g=f(j).then(function(a){return d("WASignalOther").hkdf(new Uint8Array(a),null,"WhisperMessageKeys",80)}).then(function(b){return d("WASignalSessions").splitMsgKey(a,b)});i=f(k).then(function(a){return d("WASignalOther").toBytes(a,32)});return l.abrupt("return",(h||(h=b("Promise"))).all([i,g]));case 7:case"end":return l.stop()}},null,this)}function m(a,c){var e,f,g,i;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(d("WASignalOther").makeCryptoKey(c,"hmac-sha256"));case 2:e=l.sent;f=function(a){return self.crypto.subtle.sign({name:"HMAC",hash:"SHA-256"},e,a)};g=f(j).then(function(a){return d("WASignalOther").hkdf(new Uint8Array(a),null,"WhisperGroup",50)}).then(function(b){return d("WASignalGroupSession").makeSenderKeyMsgKey(a,b)});i=f(k).then(function(a){return d("WASignalOther").toBytes(a,32)});return l.abrupt("return",(h||(h=b("Promise"))).all([i,g]));case 7:case"end":return l.stop()}},null,this)}function n(a,c,e){var f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:f=c.privateKey;g=e;h=d("WASignalKeys").ecdh(f,g);l.next=5;return b("regeneratorRuntime").awrap(o(new Uint8Array(h),"WhisperRatchet",a));case 5:i=l.sent;j=i[0];k=i[1];return l.abrupt("return",{rootKey:j,chainKey:k});case 9:case"end":return l.stop()}},null,this)}function o(a,c,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:e===void 0&&(e=null);g.next=3;return b("regeneratorRuntime").awrap(d("WASignalOther").hkdf(a,e,c,64));case 3:f=g.sent;return g.abrupt("return",[d("WASignalOther").sliceBytes(f,0,32),d("WASignalOther").sliceBytes(f,32,32)]);case 5:case"end":return g.stop()}},null,this)}function p(a,b){return new Uint8Array(d("WASignalKeys").ecdh(a,b))}function q(a,b){return p(b,a)}g.initiateSessionOutgoing=a;g.initiateSessionIncoming=c;g.initiateSenderKeySessionOutgoing=e;g.initiateSenderKeySessionIncoming=f;g.deriveMsgKey=l;g.deriveSenderKeyMsgKey=m;g.calculateRatchet=n}),98);
__d("WASignalCipher",["Promise","WABinary","WACryptoUtils","WALogger","WAResultOrError","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","decodeProtobuf","encodeProtobuf","regeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptMsgFromSession error ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["deserializePkMsg error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["deserializeMsg error ",""]);k=function(){return a};return a}var l=40,m=8,n=2e3;function a(a,c){var e,f,g,h,i,j,k,l,n,o,p,q,r,s,u,x,y,z,A,B,C;return b("regeneratorRuntime").async(function(D){while(1)switch(D.prev=D.next){case 0:e=a.sendChain;D.next=3;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveMsgKey(e.nextMsgIndex,e.chainKey));case 3:f=D.sent;g=f[0];h=f[1];D.next=8;return b("regeneratorRuntime").awrap(w(h));case 8:i=D.sent;j=i.cipherKey;k=i.macKey;D.next=13;return b("regeneratorRuntime").awrap(self.crypto.subtle.encrypt({name:"AES-CBC",iv:h.iv},j,c));case 13:l=D.sent;n=new(d("WABinary").Binary)();n.writeByteArray(a.local.pubKey);n.writeByteArray(a.remote.pubKey);o=n.size();n.writeUint8(t(d("WASignalSessions").FORMAT_VERSION,d("WASignalSessions").FORMAT_VERSION));d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").SignalMessageSpec,{ratchetKey:e.ratchetKey.serializedPubKey,counter:h.index,previousCounter:a.prevSendChainHighestIndex,ciphertext:l},n);p=n.readByteArray();D.next=23;return b("regeneratorRuntime").awrap(v(k,p));case 23:q=D.sent;r=p.subarray(o);s=d("WABinary").Binary.build(r,new Uint8Array(q,0,m)).readByteArray();y=a.initialExchangeInfo;y!=null?(A=new(d("WABinary").Binary)(),A.writeUint8(t(d("WASignalSessions").FORMAT_VERSION,d("WASignalSessions").FORMAT_VERSION)),d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,{registrationId:a.local.regId,preKeyId:(z=y.remoteOneTimeId)!=null?z:void 0,signedPreKeyId:y.remoteSignedId,baseKey:y.localOneTimePubKey,identityKey:a.local.pubKey,message:s},A),u="pkmsg",x=A.readByteArray()):(u="msg",x=s);B=d("WASignalSessions").makeSendChain(e.ratchetKey,h.index+1,g);C=d("WASignalSessions").updateChains(a,a.recvChains,B);return D.abrupt("return",[C,{type:u,ciphertext:x}]);case 31:case"end":return D.stop()}},null,this)}function c(a,c){var e,f,g,h,i,j,k,l,m,n,o,p,r,s;return b("regeneratorRuntime").async(function(t){while(1)switch(t.prev=t.next){case 0:if(!(a==null)){t.next=2;break}return t.abrupt("return",d("WAResultOrError").makeError("errSignalNoSession"));case 2:t.next=4;return b("regeneratorRuntime").awrap(q(a,c));case 4:e=t.sent;if(!e.success){t.next=10;break}f=e.value,g=f[0],h=f[1];return t.abrupt("return",d("WAResultOrError").makeResult({newSessionInfo:null,updatedSession:g,plaintext:h}));case 10:i=a.prevSessions,j=e,k=0;case 13:if(!(!j.success&&k<i.length)){t.next=22;break}l=d("WASignalSessions").parseSession(i[k]);t.next=17;return b("regeneratorRuntime").awrap(q(l,c));case 17:m=t.sent,m.success&&((n=m.value,o=n[0],p=n[1]),r=d("WASignalSessions").setPrevSessions(o,[d("WASignalSessions").detachSession(a)].concat(i.slice(0,k),i.slice(k+1))),s=!a||!d("WACryptoUtils").serializedPubKeysEqual(r.remote.pubKey,a.remote.pubKey)?r.remote.pubKey:null,j=d("WAResultOrError").makeResult({newSessionInfo:{newIdentity:s,baseSession:l,usedPreKey:null},updatedSession:r,plaintext:p}));case 19:k++;t.next=13;break;case 22:return t.abrupt("return",j);case 23:case"end":return t.stop()}},null,this)}function e(a,b){if(x(a,b))return a;var c=a.prevSessions;for(var e=0;e<c.length;e++){var f=d("WASignalSessions").parseSession(c[e]);if(x(f,b))return d("WASignalSessions").setPrevSessions(f,[d("WASignalSessions").detachSession(a)].concat(c.slice(0,e),c.slice(e+1)))}return null}function f(a,c,e,f){var g,h,i,j,k,m,n,o,p,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:h=f.localSignedPreKey;if(!(h==null)){u.next=3;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidSignedPreKey"));case 3:i=d("WASignalSignatures").deserializeSignedPreKey(h);if(!(i==null)){u.next=6;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalSignedPreKeyDeserialization"));case 6:if(!(i.id!==e.localSignedPreKeyId)){u.next=8;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalSignedPreKeyIdMismatch"));case 8:j=null;if(!(e.localOneTimeKeyId!=null)){u.next=18;break}k=f.localOneTimeKey;if(!(k==null)){u.next=13;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidOneTimeKey"));case 13:j=d("WASignalKeys").deserializePreKey(k);if(!(j==null)){u.next=16;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalOneTimeKeyDeserialization"));case 16:if(!(j.id!==e.localOneTimeKeyId)){u.next=18;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalOneTimeKeyMismatch"));case 18:u.next=20;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").initiateSessionIncoming(a,e.remote,e.sessionBaseKey,{signed:i.keyPair,oneTime:(g=j)==null?void 0:g.keyPair,ratchet:d("WASignalKeys").toSerializedKeyPair(i.keyPair)}));case 20:m=u.sent;n=m.remote.pubKey;o=!c||!d("WACryptoUtils").serializedPubKeysEqual(n,c.remote.pubKey)?n:null;c&&!o&&(m=d("WASignalSessions").setPrevSessions(m,[d("WASignalSessions").detachSession(c)].concat(c.prevSessions.slice(0,l-1))));u.next=26;return b("regeneratorRuntime").awrap(q(m,e));case 26:p=u.sent;if(p.success){u.next=29;break}return u.abrupt("return",p);case 29:r=p.value,s=r[0],t=r[1];return u.abrupt("return",d("WAResultOrError").makeResult({newIdentity:o,baseSession:m,updatedSession:s,plaintext:t}));case 31:case"end":return u.stop()}},null,this)}function o(a){var b,c,e=null;try{var f=s(a,d("WASignalSessions").FORMAT_VERSION,m);if(!f.success)return f;f=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").SignalMessageSpec,f.value);var g=f.ratchetKey;e=f.counter;c=f.ciphertext;if(g==null||e==null||c==null)return d("WAResultOrError").makeError("errSignalDeserializeInvalidProtoFormat");b=d("WASignalKeys").castToSerializedPubKey(new Uint8Array(g))}catch(a){d("WALogger").DEV(k(),a);return d("WAResultOrError").makeError("errSignalDeserializeRatchetKeyBadFormat")}f={ratchetPubKey:b,counter:e,ciphertext:new Uint8Array(c),versionContentMac:a};return d("WAResultOrError").makeResult(f)}function p(a){a=s(a,d("WASignalSessions").FORMAT_VERSION,0);if(!a.success)return a;var b,c,e,f,g;try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,a.value);var h=a.registrationId,i=a.preKeyId,k=a.signedPreKeyId,l=a.baseKey,m=a.identityKey;a=a.message;if(h==null||k==null||l==null||m==null||a==null)return d("WAResultOrError").makeError("errSignalDeserializePkInvalidProtoFormat");f=d("WASignalKeys").castToSerializedPubKey(new Uint8Array(l));b={regId:d("WASignalOther").castRegistrationId(h),pubKey:d("WASignalKeys").castToSerializedPubKey(new Uint8Array(m))};e=i!=null?d("WASignalKeys").castToPreKeyId(i):null;c=d("WASignalKeys").castToSignedPreKeyId(k);g=new Uint8Array(a)}catch(a){d("WALogger").DEV(j(),a);return d("WAResultOrError").makeError("errSignalDeserializePkKeyBadFormat")}l=o(g);return!l.success?l:d("WAResultOrError").makeResult(babelHelpers["extends"]({},l.value,{remote:b,sessionBaseKey:f,localSignedPreKeyId:c,localOneTimeKeyId:e}))}function q(a,c){var e,f,g,h,j,k,l,n,o,p,q,s,t,u,x,y,z,A,B,C,D,E,F,G,H,I;return b("regeneratorRuntime").async(function(J){while(1)switch(J.prev=J.next){case 0:e=c.ratchetPubKey,f=c.counter,g=c.ciphertext,h=c.versionContentMac;j=a.recvChains;k=a.recvChains.findIndex(function(a){return d("WACryptoUtils").serializedPubKeysEqual(a.ratchetPubKey,e)});if(!(k===-1)){J.next=24;break}J.next=6;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").calculateRatchet(a.rootKey,a.sendChain.ratchetKey,e));case 6:o=J.sent;p=d("WASignalSessions").makeFreshRecvChain(e,o.chainKey);J.next=10;return b("regeneratorRuntime").awrap(r(p,f));case 10:q=J.sent;if(q.success){J.next=13;break}return J.abrupt("return",q);case 13:s=q.value;t=d("WASignalKeys").makeSerializedKeyPair();J.next=17;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").calculateRatchet(o.rootKey,t,e));case 17:u=J.sent;x=j.slice(-4);x.push(s.updatedChain);n=s.msgKey;l=d("WASignalSessions").ratchetSession(a,x,d("WASignalSessions").makeFreshSendChain(t,u.chainKey),u.rootKey);J.next=34;break;case 24:J.next=26;return b("regeneratorRuntime").awrap(r(j[k],f));case 26:y=J.sent;if(y.success){J.next=29;break}return J.abrupt("return",y);case 29:z=y.value,A=j.slice(),A[k]=z.updatedChain,n=z.msgKey,l=d("WASignalSessions").updateChains(a,A,a.sendChain);case 34:J.next=36;return b("regeneratorRuntime").awrap(w(n));case 36:B=J.sent;C=B.cipherKey;D=B.macKey;E=d("WABinary").Binary.build(a.remote.pubKey,a.local.pubKey,h.subarray(0,-m)).readByteArray();J.next=42;return b("regeneratorRuntime").awrap(v(D,E));case 42:F=J.sent;G=h.subarray(-m);H=!d("WACryptoUtils").uint8ArraysEqual(new Uint8Array(F,0,m),G);I=null;J.prev=46;J.next=49;return b("regeneratorRuntime").awrap(self.crypto.subtle.decrypt({name:"AES-CBC",iv:n.iv},C,g));case 49:I=J.sent;J.next=55;break;case 52:J.prev=52,J.t0=J["catch"](46),d("WALogger").DEV(i(),J.t0);case 55:if(!(H&&I==null)){J.next=59;break}if(!(k===-1)){J.next=58;break}return J.abrupt("return",d("WAResultOrError").makeError("errInvalidMacInvalidCipherKeyNewChain"));case 58:return J.abrupt("return",d("WAResultOrError").makeError("errInvalidMacInvalidCipherKey"));case 59:if(!H){J.next=61;break}return J.abrupt("return",d("WAResultOrError").makeError("errInvalidMacWithDecryptedPlaintext"));case 61:if(!(I==null)){J.next=63;break}return J.abrupt("return",d("WAResultOrError").makeError("errUnknownInvalidCipherKey"));case 63:return J.abrupt("return",d("WAResultOrError").makeResult([l,I]));case 64:case"end":return J.stop()}},null,this,[[46,52]])}function r(a,c){var e,f,g,h,i,j,k,l,m,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:e=c-a.nextMsgIndex;if(!(e>2e3)){q.next=3;break}return q.abrupt("return",d("WAResultOrError").makeError("errSignalTooManyMessagesInFuture"));case 3:f=a.unusedMsgKeys;if(!(e<0)){q.next=9;break}g=f.findIndex(function(a){return a.index===c});if(!(g===-1)){q.next=8;break}return q.abrupt("return",d("WAResultOrError").makeError("errDuplicateMsg"));case 8:return q.abrupt("return",d("WAResultOrError").makeResult({msgKey:f[g],updatedChain:d("WASignalSessions").makeRecvChain(a.ratchetPubKey,a.nextMsgIndex,a.chainKey,u(f,g))}));case 9:h=a.nextMsgIndex;q.next=12;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveMsgKey(h,a.chainKey));case 12:i=q.sent;j=i[0];k=i[1];l=null;if(!(e>0)){q.next=30;break}m=e+f.length-n;m>0?(l=f.slice(m),m-=f.length):l=f.slice();o=h+1;case 20:if(!(o<=c)){q.next=30;break}m>0?m--:l.push(k);q.next=24;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveMsgKey(o,j));case 24:p=q.sent,j=p[0],k=p[1];case 27:o++;q.next=20;break;case 30:return q.abrupt("return",d("WAResultOrError").makeResult({msgKey:k,updatedChain:d("WASignalSessions").makeRecvChain(a.ratchetPubKey,c+1,j,l||f)}));case 31:case"end":return q.stop()}},null,this)}function s(a,b,c){if(a.length<1)return d("WAResultOrError").makeError("errSignalEmptyVersionContentSuffix");var e=a[0]>>>4;if(e!==b)return e<b?d("WAResultOrError").makeError("errSignalLegacyMsg"):d("WAResultOrError").makeError("errSignalInvalidVersion");e=a.length-c;return e<1?d("WAResultOrError").makeError("errSignalContentExceededExpectedLength"):d("WAResultOrError").makeResult(a.subarray(1,e))}function t(a,b){return(a<<4|b)&255}function u(a,b){var c=[];for(var d=0;d<a.length;d++)d!==b&&c.push(a[d]);return c}function v(a,b){return self.crypto.subtle.sign(d("WASignalOther").HMAC_SHA256,a,b)}function w(a){return(h||(h=b("Promise"))).all([d("WASignalOther").makeCryptoKey(a.cipherKey,"aes-cbc"),d("WASignalOther").makeCryptoKey(a.macKey,"hmac-sha256")]).then(function(a){var b=a[0];a=a[1];return{cipherKey:b,macKey:a}})}function x(a,b){a=a.aliceBaseKey;return!a?!1:d("WACryptoUtils").serializedPubKeysEqual(a,b)}g.MAX_UNUSED_KEYS=n;g.encryptMsg=a;g.decryptMsg=c;g.findMatchingSession=e;g.decryptPkMsgWithNewSession=f;g.deserializeMsg=o;g.deserializePkMsg=p;g.decryptMsgFromSession=q;g.readContent=s;g.versionByte=t}),98);
__d("WASignalGroupCipher",["WABinary","WALogger","WAResultOrError","WASignalCipher","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","decodeProtobuf","encodeProtobuf","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Exception caught during SenderKeyMessageSpec Proto: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["deserializeSenderKeyDistributionMsg error ",""]);i=function(){return a};return a}var j=64;function a(a,c){var e,f,g,h,i,j,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:e=k(a);if(e.success){m.next=3;break}return m.abrupt("return",e);case 3:f=e.value,g=f.senderKeyId,h=f.iteration,i=f.signingKeyPublic,j=f.chainKey;m.next=6;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").initiateSenderKeySessionIncoming(g,h,i,j,c));case 6:l=m.sent;return m.abrupt("return",d("WAResultOrError").makeResult(l));case 8:case"end":return m.stop()}},null,this)}function c(a){a=d("WASignalGroupSession").serializeSenderKeyState(a);var b=new(d("WABinary").Binary)();b.writeUint8(d("WASignalCipher").versionByte(d("WASignalGroupSession").FORMAT_VERSION,d("WASignalGroupSession").FORMAT_VERSION));d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyDistributionMessageSpec,{id:a.senderKeyId,iteration:d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey").iteration,chainKey:d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey").seed,signingKey:d("WASignalSessions").definedOrThrow(a.senderSigningKey,"senderSigningKey")["public"]},b);return b.readByteArray()}function e(a,c){var e,f,g,h,i,j,k,l,n,o,p,q,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:if(!(!a.senderKeyStates||a.senderKeyStates.length===0)){u.next=2;break}return u.abrupt("return",d("WAResultOrError").makeError("errSignalNoSession"));case 2:e=a.senderKeyStates[a.senderKeyStates.length-1];u.next=5;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveSenderKeyMsgKey(e.senderKeyChainKey.nextMsgIndex,e.senderKeyChainKey.chainKey));case 5:f=u.sent;g=f[0];h=f[1];u.next=10;return b("regeneratorRuntime").awrap(m(h.seed));case 10:i=u.sent;j=i[0];k=i[1];u.next=15;return b("regeneratorRuntime").awrap(self.crypto.subtle.encrypt({name:"AES-CBC",iv:k},j,c));case 15:l=u.sent;n=new(d("WABinary").Binary)();d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyMessageSpec,{id:e.senderKeyId,iteration:h.iteration,ciphertext:l},n);o=new(d("WABinary").Binary)();o.writeUint8(d("WASignalCipher").versionByte(d("WASignalGroupSession").FORMAT_VERSION,d("WASignalGroupSession").FORMAT_VERSION));o.writeBinary(n);p=d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalSessions").definedOrThrow(e.senderSigningKeyPrivate,"senderSigningKeyPrivate"),e.senderSigningKeyPublic);q=d("WASignalSignatures").signSenderKeyMessage(p,o.readByteArray());r=new(d("WABinary").Binary)();r.writeUint8(d("WASignalCipher").versionByte(d("WASignalGroupSession").FORMAT_VERSION,d("WASignalGroupSession").FORMAT_VERSION));r.writeBinary(n);r.writeByteArray(q);s=d("WASignalGroupSession").makeSenderKeyChainKey(h.iteration+1,g);t=d("WASignalGroupSession").updateSessionWithUpdatedSenderKeyState(a,d("WASignalGroupSession").makeSenderKeyState(e.senderSigningKeyPublic,e.senderSigningKeyPrivate,s,e.senderKeyId,e.unusedMsgKeys));return u.abrupt("return",d("WAResultOrError").makeResult([t,r.readByteArray()]));case 30:case"end":return u.stop()}},null,this)}function f(a,c){var e,f,g,h,i,j,k,l,p,q,r,s,t,u,v;return b("regeneratorRuntime").async(function(w){while(1)switch(w.prev=w.next){case 0:e=c.senderKeyMessageId,f=c.iteration,g=c.ciphertext,h=c.versionContentMac;i=d("WASignalGroupSession").findSenderKeyState(a,e);if(!(i==null)){w.next=4;break}return w.abrupt("return",d("WAResultOrError").makeError("errSignalNoSession"));case 4:j=i.senderSigningKeyPublic;k=n(h,j);if(k){w.next=8;break}return w.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKey"));case 8:w.next=10;return b("regeneratorRuntime").awrap(o(i,f));case 10:l=w.sent;if(l.success){w.next=13;break}return w.abrupt("return",l);case 13:p=l.value;q=p.msgKey;r=d("WASignalGroupSession").updateSessionWithUpdatedSenderKeyState(a,p.updatedSenderKeyState);w.next=18;return b("regeneratorRuntime").awrap(m(q.seed));case 18:s=w.sent;t=s[0];u=s[1];w.next=23;return b("regeneratorRuntime").awrap(self.crypto.subtle.decrypt({name:"AES-CBC",iv:u},t,g));case 23:v=w.sent;return w.abrupt("return",d("WAResultOrError").makeResult([r,v]));case 25:case"end":return w.stop()}},null,this)}function k(a){var b,c,e,f;try{a=d("WASignalCipher").readContent(a,d("WASignalGroupSession").FORMAT_VERSION,0);if(!a.success)return a;a=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyDistributionMessageSpec,a.value);b=a.id;c=a.iteration;var g=d("WASignalSessions").bytesOrThrow(a.signingKey,33,"signingKey");e=d("WASignalKeys").castToSerializedPubKey(g);f=d("WASignalSessions").bytesOrThrow(a.chainKey,32,"chainKey");if(b==null||c==null)return d("WAResultOrError").makeError("errSignalGrpInvalidProtoFormat")}catch(a){d("WALogger").DEV(i(),a);return d("WAResultOrError").makeError("errSignalGrpInvalidKeyFormat")}return d("WAResultOrError").makeResult({senderKeyId:b,iteration:c,signingKeyPublic:e,chainKey:f})}function l(a){if(a.length<1)return d("WAResultOrError").makeError("errSignalGrpVersionContentEmpty");var b=a[0]>>>4;if(b!==d("WASignalGroupSession").FORMAT_VERSION)return b<d("WASignalGroupSession").FORMAT_VERSION?d("WAResultOrError").makeError("errSignalLegacyMsg"):d("WAResultOrError").makeError("errSignalInvalidVersion");if(a.length<1+j)return d("WAResultOrError").makeError("errSignalGrpInvalidVersionContentLength");var c,e,f;try{b=a.subarray(1,-j);b=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyMessageSpec,b);c=b.id;e=b.iteration;f=b.ciphertext;if(c==null||e==null||f==null)return d("WAResultOrError").makeError("errSignalGrpSenderKeyInvalidProtoFormat")}catch(a){d("WALogger").ERROR(h(),a);return d("WAResultOrError").makeError("errSignalGrpSenderKeyProtoError")}return d("WAResultOrError").makeResult({senderKeyMessageId:c,iteration:e,ciphertext:new Uint8Array(f),versionContentMac:a})}function m(a){var c,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:c=new(d("WABinary").Binary)(a);e=d("WASignalOther").readBytes(c,16);f=d("WASignalOther").readBytes(c,32);g.next=5;return b("regeneratorRuntime").awrap(d("WASignalOther").makeCryptoKey(f,"aes-cbc"));case 5:g.t0=g.sent;g.t1=e;return g.abrupt("return",[g.t0,g.t1]);case 8:case"end":return g.stop()}},null,this)}function n(a,b){var c=a.subarray(a.length-j);a=a.subarray(0,a.length-j);return d("WASignalSignatures").verifyMsgSignalVariant(b,a,d("WASignalOther").toBytes(d("WASignalOther").toBuffer(c),64))}function o(a,c){var e,f,g,h,i,j,k,l,m,n,o,q;return b("regeneratorRuntime").async(function(r){while(1)switch(r.prev=r.next){case 0:e=a;f=c-e.senderKeyChainKey.nextMsgIndex;if(!(f>2e3)){r.next=4;break}return r.abrupt("return",d("WAResultOrError").makeError("errSignalGrpTooManyMessagesInFuture"));case 4:g=a.unusedMsgKeys||[];if(!(f<0)){r.next=10;break}h=g.findIndex(function(a){return a.iteration===c});if(!(h===-1)){r.next=9;break}return r.abrupt("return",d("WAResultOrError").makeError("errDuplicateMsg"));case 9:return r.abrupt("return",d("WAResultOrError").makeResult({msgKey:g[h],updatedSenderKeyState:d("WASignalGroupSession").makeSenderKeyState(e.senderSigningKeyPublic,e.senderSigningKeyPrivate,e.senderKeyChainKey,e.senderKeyId,p(g,h))}));case 10:i=e.senderKeyChainKey.nextMsgIndex;r.next=13;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveSenderKeyMsgKey(i,e.senderKeyChainKey.chainKey));case 13:j=r.sent;k=j[0];l=j[1];m=null;if(!(f>0)){r.next=31;break}n=f+g.length-d("WASignalCipher").MAX_UNUSED_KEYS;n>0?(m=g.slice(n),n-=g.length):m=g.slice();o=i+1;case 21:if(!(o<=c)){r.next=31;break}n>0?n--:m.push(l);r.next=25;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveSenderKeyMsgKey(o,k));case 25:q=r.sent,k=q[0],l=q[1];case 28:o++;r.next=21;break;case 31:return r.abrupt("return",d("WAResultOrError").makeResult({msgKey:l,updatedSenderKeyState:d("WASignalGroupSession").makeSenderKeyState(e.senderSigningKeyPublic,e.senderSigningKeyPrivate,d("WASignalGroupSession").makeSenderKeyChainKey(c+1,k),a.senderKeyId,m||g)}));case 32:case"end":return r.stop()}},null,this)}function p(a,b){var c=[];for(var d=0;d<a.length;d++)d!==b&&c.push(a[d]);return c}g.processSenderKeyDistributionMsg=a;g.createSenderKeyDistributionProto=c;g.encryptSenderKeyMsgWithSession=e;g.decryptSenderKeyMsgFromSession=f;g.deserializeSenderKeyMsg=l}),98);
__d("WACryptoLibrary",["WACryptoUtils","WALogger","WAResultOrError","WASignalCipher","WASignalGroupCipher","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSignatures","WASignalWhitepaper","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getSessionForRecipient pkmsg signature verification result: ",""]);h=function(){return a};return a}var i=[],j=300;function k(a){i.push(a),i.length>=j&&i.shift()}function a(a){a(i),i=[]}function l(a,c){var e,f,g,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:k("createOutgoingSession");e=s(c);f=e.signedKey;j.next=5;return b("regeneratorRuntime").awrap(d("WASignalSignatures").verifyMsgSignalVariant(e.identity,f.publicKey,f.signature));case 5:g=j.sent;d("WALogger").DEV(h(),g);if(g){j.next=10;break}k("createOutgoingSession: errSignalInvalidKey");return j.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKey"));case 10:j.next=12;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").initiateSessionOutgoing(a,e,d("WASignalKeys").makeKeyPair()));case 12:i=j.sent;return j.abrupt("return",d("WAResultOrError").makeResult(i));case 14:case"end":return j.stop()}},null,this)}function c(a,c,d,e,f){var g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:g=a.handleNewSession;k("establishOutgoingSession");j.next=4;return b("regeneratorRuntime").awrap(l(c,e));case 4:h=j.sent;if(h.success){j.next=7;break}return j.abrupt("return",h);case 7:i=h.value;return j.abrupt("return",g(d,i,i.remote.pubKey,null,f));case 9:case"end":return j.stop()}},null,this)}function e(a,c,e,f){var g,h,i,j,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:(g=a.loadSession,h=a.handleNewSession),k("encryptContent"),i=null;case 3:p.next=5;return b("regeneratorRuntime").awrap(g(c,"cryptoLibraryEncryptContent"));case 5:j=p.sent;if(!(j==null)){p.next=9;break}k("encryptContent: errSignalInvalidKey");return p.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKey"));case 9:if(!(f!=null&&!d("WACryptoUtils").uint8ArraysEqual(f,j.remote.pubKey))){p.next=12;break}k("encryptContent: identity-mismatch");return p.abrupt("return",d("WAResultOrError").makeError("identity-mismatch"));case 12:p.next=14;return b("regeneratorRuntime").awrap(d("WASignalCipher").encryptMsg(j,e));case 14:l=p.sent;m=l[0];n=l[1];p.next=19;return b("regeneratorRuntime").awrap(h(c,m,m.remote.pubKey));case 19:o=p.sent,o.success?i=d("WAResultOrError").makeResult(babelHelpers["extends"]({},n,{baseKey:m.aliceBaseKey})):o.error;case 21:if(i==null){p.next=3;break}case 22:return p.abrupt("return",i);case 23:case"end":return p.stop()}},null,this)}function f(a,c,e,f,g){var h,i,j,l,n,o,p,q,r,s,t,u,v,w,x,y;return b("regeneratorRuntime").async(function(z){while(1)switch(z.prev=z.next){case 0:h=a.loadSession,i=a.handleNewSession,j=a.loadSignedPreKey,l=a.loadOneTimePreKey;k("decryptContent");n=!1;z.next=5;return b("regeneratorRuntime").awrap(h(e,"decryptContent"));case 5:o=z.sent;if(!(f.type==="pkmsg")){z.next=20;break}q=d("WASignalCipher").deserializePkMsg(f.ciphertext);if(q.success){z.next=11;break}k("decryptContent: errCryptoDeserialization");return z.abrupt("return",d("WAResultOrError").makeError("errCryptoDeserialization"));case 11:r=q.value;z.next=14;return b("regeneratorRuntime").awrap(m({loadSignedPreKey:j,loadOneTimePreKey:l},c,r,o));case 14:s=z.sent;if(s.success){z.next=17;break}return z.abrupt("return",s);case 17:p=s.value;z.next=32;break;case 20:f.type;t=d("WASignalCipher").deserializeMsg(f.ciphertext);if(t.success){z.next=25;break}k("decryptContent: errCryptoDeserialization");return z.abrupt("return",d("WAResultOrError").makeError("errCryptoDeserialization"));case 25:u=t.value;z.next=28;return b("regeneratorRuntime").awrap(d("WASignalCipher").decryptMsg(o,u));case 28:v=z.sent;if(v.success){z.next=31;break}return z.abrupt("return",v);case 31:p=v.value;case 32:w=p,x=w.newSessionInfo;if(!(x&&(x.newIdentity!=null||x.usedPreKey!=null))){z.next=36;break}z.next=36;return b("regeneratorRuntime").awrap(i(e,x.baseSession,x.newIdentity,x.usedPreKey));case 36:if(n){z.next=41;break}y=x==null?void 0:x.baseSession.remote.pubKey;z.next=40;return b("regeneratorRuntime").awrap(g(new Uint8Array(p.plaintext),y));case 40:n=!0;case 41:z.next=43;return b("regeneratorRuntime").awrap(i(e,p.updatedSession,p.updatedSession.remote.pubKey));case 43:return z.abrupt("return",d("WAResultOrError").makeResult());case 44:case"end":return z.stop()}},null,this)}function m(a,c,e,f){var g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:g=a.loadSignedPreKey,h=a.loadOneTimePreKey;k("decryptPkMsg");i=f&&d("WASignalCipher").findMatchingSession(f,e.sessionBaseKey);if(!i){x.next=13;break}x.next=6;return b("regeneratorRuntime").awrap(d("WASignalCipher").decryptMsgFromSession(i,e));case 6:j=x.sent;if(j.success){x.next=9;break}return x.abrupt("return",j);case 9:l=j.value,m=l[0],n=l[1];return x.abrupt("return",d("WAResultOrError").makeResult({newSessionInfo:null,updatedSession:m,plaintext:n}));case 13:o=e.localOneTimeKeyId;x.next=16;return b("regeneratorRuntime").awrap(g(e.localSignedPreKeyId));case 16:p=x.sent;if(!(o==null)){x.next=21;break}x.t0=null;x.next=24;break;case 21:x.next=23;return b("regeneratorRuntime").awrap(h(o));case 23:x.t0=x.sent;case 24:q=x.t0;x.next=27;return b("regeneratorRuntime").awrap(d("WASignalCipher").decryptPkMsgWithNewSession(c,f,e,{localSignedPreKey:p,localOneTimeKey:q}));case 27:r=x.sent;if(r.success){x.next=30;break}return x.abrupt("return",r);case 30:s=r.value,t=s.newIdentity,u=s.baseSession,v=s.updatedSession,w=s.plaintext;return x.abrupt("return",d("WAResultOrError").makeResult({newSessionInfo:{newIdentity:t,baseSession:u,usedPreKey:o},updatedSession:v,plaintext:w}));case 32:case"end":return x.stop()}},null,this)}function n(c,e,f,g){var h,a,i,j,l,m,n,o,q,r;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:(h=c.loadSenderKeySession,a=c.saveSenderKeySession),k("encryptGroupContent"),i=null;case 3:p.next=5;return b("regeneratorRuntime").awrap(h(e,f));case 5:j=p.sent;if(j.success){p.next=8;break}return p.abrupt("return",d("WAResultOrError").makeError(j.error));case 8:l=j.value;p.next=11;return b("regeneratorRuntime").awrap(d("WASignalGroupCipher").encryptSenderKeyMsgWithSession(l,g));case 11:m=p.sent;if(!m.success){p.next=20;break}n=m.value,o=n[0],q=n[1];p.next=16;return b("regeneratorRuntime").awrap(a(e,f,o));case 16:r=l.senderKeyStates[l.senderKeyStates.length-1];i=d("WAResultOrError").makeResult({ciphertext:{ciphertext:q,type:"skmsg"},senderKeyId:r.senderKeyId,senderKeyDistributionProto:d("WASignalGroupCipher").createSenderKeyDistributionProto(d("WASignalGroupSession").convertFromRawToSenderKeyState(r))});p.next=22;break;case 20:k("encryptGroupContent: sender-key-no-session");return p.abrupt("return",d("WAResultOrError").makeError("sender-key-no-session"));case 22:if(i==null){p.next=3;break}case 23:return p.abrupt("return",i);case 24:case"end":return p.stop()}},null,this)}function o(c,e,f,g,h){var i,a,j,l,m,n,o,q,r,s;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:i=c.loadSenderKeySession,a=c.saveSenderKeySession;k("decryptGroupContent");j=!1;p.next=5;return b("regeneratorRuntime").awrap(i(e,f));case 5:l=p.sent;if(l.success){p.next=8;break}return p.abrupt("return",d("WAResultOrError").makeError(l.error));case 8:m=d("WASignalGroupCipher").deserializeSenderKeyMsg(g);if(m.success){p.next=12;break}k("decryptGroupContent: errCryptoDeserialization");return p.abrupt("return",d("WAResultOrError").makeError("errCryptoDeserialization"));case 12:n=l.value;p.next=15;return b("regeneratorRuntime").awrap(d("WASignalGroupCipher").decryptSenderKeyMsgFromSession(n,m.value));case 15:o=p.sent;if(o.success){p.next=18;break}return p.abrupt("return",o);case 18:q=o.value,r=q[0],s=q[1];if(j){p.next=23;break}p.next=22;return b("regeneratorRuntime").awrap(h(new Uint8Array(s)));case 22:j=!0;case 23:p.next=25;return b("regeneratorRuntime").awrap(a(e,f,r));case 25:return p.abrupt("return",d("WAResultOrError").makeResult());case 26:case"end":return p.stop()}},null,this)}function p(c,e,f,g){var h,a,i,j,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:h=c.loadSenderKeySession,a=c.saveSenderKeySession;k("saveSenderKeySession");i=null;if(!h){n.next=8;break}n.next=6;return b("regeneratorRuntime").awrap(h(e,f));case 6:j=n.sent,i=j.success?j.value:null;case 8:n.next=10;return b("regeneratorRuntime").awrap(d("WASignalGroupCipher").processSenderKeyDistributionMsg(g,i));case 10:l=n.sent;if(l.success){n.next=13;break}return n.abrupt("return",l);case 13:m=l.value;n.next=16;return b("regeneratorRuntime").awrap(a(e,f,m));case 16:return n.abrupt("return",d("WAResultOrError").makeResult());case 17:case"end":return n.stop()}},null,this)}function q(c,e,f,g){var a,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:a=c.saveSenderKeySession;k("rotateGroupSenderKey");j.next=4;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").initiateSenderKeySessionOutgoing(g));case 4:h=j.sent;i=h.senderKeyStates[0].senderKeyId;j.next=8;return b("regeneratorRuntime").awrap(a(e,f,h));case 8:return j.abrupt("return",{senderKeyId:i});case 9:case"end":return j.stop()}},null,this)}function r(c,e,f){var g,a,h,i,j,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:g=c.loadSenderKeySession,a=c.saveSenderKeySession;k("createSenderKeyDistributionMsg");m.next=4;return b("regeneratorRuntime").awrap(g(e,f));case 4:h=m.sent;i=h.error;if(!(!h.success&&i==="errLoadSenderKeySession")){m.next=15;break}m.next=9;return b("regeneratorRuntime").awrap(d("WASignalKeys").makeKeyPair());case 9:j=m.sent;m.next=12;return b("regeneratorRuntime").awrap(q({saveSenderKeySession:a},e,f,j));case 12:m.next=14;return b("regeneratorRuntime").awrap(g(e,f));case 14:h=m.sent;case 15:if(!h.success){m.next=19;break}l=h.value.senderKeyStates.slice(-1);if(!(l.length>0)){m.next=19;break}return m.abrupt("return",d("WAResultOrError").makeResult(d("WASignalGroupCipher").createSenderKeyDistributionProto(d("WASignalGroupSession").convertFromRawToSenderKeyState(l[0]))));case 19:k("createSenderKeyDistributionMsg: errGetSenderKeyProto");return m.abrupt("return",d("WAResultOrError").makeError("errGetSenderKeyProto"));case 21:case"end":return m.stop()}},null,this)}function s(a){var b=a.regId,c=a.identity,e=a.signedKey;a=a.oneTimeKey;k("sanitizeInitialSessionInfo");var f=d("WASignalKeys").castToSerializedPubKey(e.publicKey);return{regId:d("WASignalOther").castRegistrationId(b),identity:d("WASignalKeys").castToSerializedPubKey(c),signedKey:{id:d("WASignalKeys").castToSignedPreKeyId(e.id),publicKey:f,signature:d("WASignalOther").ensureSize(e.signature,64)},oneTimeKey:a&&{id:d("WASignalKeys").castToPreKeyId(a.id),publicKey:d("WASignalKeys").castToSerializedPubKey(a.publicKey)},ratchetKey:f}}g.publishLogs=a;g.createOutgoingSession=l;g.establishOutgoingSession=c;g.encryptContent=e;g.decryptContent=f;g.encryptGroupContent=n;g.decryptGroupContent=o;g.saveSenderKeySession=p;g.rotateGroupSenderKey=q;g.createSenderKeyDistributionMsg=r}),98);
__d("WALock",["Promise","WAResolvable","WATagsLogger"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Lock failed for ",""]);i=function(){return a};return a}function a(a){return{lock:function(c,e){var f=new(d("WAResolvable").Resolvable)(),g=c.map(function(a){return[a,new(d("WAResolvable").Resolvable)()]});(h||(h=b("Promise"))).all(g.map(function(b){var c=b[0],d=b[1];return a.enqueue(c,function(){d.resolve();return f.promise})}))["catch"](function(a){d("WATagsLogger").TAGS(["WALock"]).ERROR(i(),c)});return h.all(g.map(function(a){a[0];a=a[1];return a.promise})).then(function(){return e()})["finally"](function(){f.resolve()})},wait:function(b){return a.wait(b)}}}g.makeLock=a}),98);
__d("WALockMap",["WALock","WAPromiseQueue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=-1);a=new(d("WAPromiseQueue").PromiseQueueMap)(a);return d("WALock").makeLock(a)}g.makeLockMap=a}),98);
__d("WACryptoManager",["MAWLoggerUtils","Promise","WABaseGlobals","WACryptoLibrary","WACryptoUtils","WAErr","WAJids","WALockMap","WALogger","WANullthrows","WAPromiseQueue","WAResultOrError","WASignalCipher","WASignalGroupSession","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","WASignalSessions","WASignalSignatures","WATagsLogger","WATimeUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate signed prekey with id: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to deserialize signed prekey: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate signed prekey ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to save generate prekeys: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate one time prekey: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SendMessage] end encryption"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SendMessage] start encryption"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SendMessage] sendWrittenMsg bulkEncryptContent"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sessions] Failed to create a session"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sessions] Received keys ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sessions] fail during key requesting"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sessions] Missing sessions: ",". Requesting keys"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sessions] No need to establish outgoing sessions"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sessions] Establish outgoing sessions"]);v=function(){return a};return a}var w=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.CryptoManager]),x={type:"default"};function a(a){return{regInfo:a.regInfo,sessionLocks:d("WALockMap").makeLockMap(),network:a.network,storage:a.storage}}function y(a,c,e,f,g){var h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:m.next=2;return b("regeneratorRuntime").awrap(f(c,g));case 2:h=m.sent;if(!(h!=null&&e.type!=="requestNewSession")){m.next=13;break}i=h;if(!(e.type==="default")){m.next=9;break}return m.abrupt("return",d("WAResultOrError").makeResult(i));case 9:if(!(i.aliceBaseKey!=null&&e.session.baseKey!=null)){m.next=13;break}e.type;if(d("WACryptoUtils").uint8ArraysEqual(e.session.baseKey,i.aliceBaseKey)){m.next=13;break}return m.abrupt("return",d("WAResultOrError").makeResult(i));case 13:if(!(e.type==="useSession")){m.next=17;break}j=e.session.keys;m.next=25;break;case 17:e.type;m.next=20;return b("regeneratorRuntime").awrap(a.network.requestKeys(c));case 20:k=m.sent;if(k.success){m.next=23;break}return m.abrupt("return",k);case 23:j=k.value.keys,e.type==="compareTSAndUseSession"&&e.session.timestamp>=k.value.timestamp&&(j=e.session.keys);case 25:m.next=27;return b("regeneratorRuntime").awrap(d("WACryptoLibrary").createOutgoingSession(a.regInfo,j));case 27:l=m.sent;if(l.success){m.next=30;break}return m.abrupt("return",l);case 30:return m.abrupt("return",d("WAResultOrError").makeResult(l.value));case 31:case"end":return m.stop()}},null,this)}function e(a,b,c,e){return a.storage.runInTransaction(function(f){f=f.handleNewSession;return d("WACryptoLibrary").establishOutgoingSession({handleNewSession:f},a.regInfo,b,c,e)})}function z(a,c){var e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:d("WALogger").DEV(v());k.next=3;return b("regeneratorRuntime").awrap(a.storage.runInTransaction(function(a){a=a.loadSessions;return a(c).then(function(a){return d("WAResultOrError").makeResult(a)})}));case 3:e=k.sent;f=e.success===!0?e.value:new Map();g=c.filter(function(a){return!f.has(a)});if(!(g.length===0)){k.next=9;break}d("WALogger").DEV(u());return k.abrupt("return",f);case 9:d("WALogger").DEV(t(),g.length);k.next=12;return b("regeneratorRuntime").awrap(a.network.bulkRequestKeys(g));case 12:h=k.sent;if(h.success){k.next=16;break}d("WALogger").ERROR(s());return k.abrupt("return",f);case 16:i=h.value;d("WALogger").DEV(r(),i.size);j=new(d("WAPromiseQueue").PromiseQueue)();i.forEach(function(b,c){j.enqueue(function(){return d("WACryptoLibrary").createOutgoingSession(a.regInfo,b.keys).then(function(a){a.success===!1?d("WALogger").ERROR(q()):f.set(c,a.value)})})});k.next=22;return b("regeneratorRuntime").awrap(j.wait());case 22:return k.abrupt("return",f);case 23:case"end":return k.stop()}},null,this)}function A(a,b,c){return a.sessionLocks.lock(b.map(function(a){return a}),c)}function f(a,e){var f=Array.from(e.keys());return A(a,f,function(){var g,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:d("WALogger").LOG(p());k.next=3;return b("regeneratorRuntime").awrap(z(a,f));case 3:g=k.sent;i=new Map();d("WALogger").DEV(o());k.next=8;return b("regeneratorRuntime").awrap(a.storage.runInTransaction(function(a){var f=a.handleNewSession;return(h||(h=b("Promise"))).all(Array.from(g.entries()).map(function(a){var g,h,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:h=a[0],j=a[1];n.next=3;return b("regeneratorRuntime").awrap(d("WASignalCipher").encryptMsg(j,c("WANullthrows")((g=e.get(h))==null?void 0:g.plaintext)));case 3:k=n.sent;l=k[0];m=k[1];i.set(h,babelHelpers["extends"]({},m,{baseKey:null}));return n.abrupt("return",f(h,l,l.remote.pubKey));case 8:case"end":return n.stop()}},null,this)})).then(function(){return d("WAResultOrError").makeResult()})}));case 8:j=k.sent;if(!(j.success===!0)){k.next=14;break}d("WALogger").DEV(n());return k.abrupt("return",d("WAResultOrError").makeResult(i));case 14:return k.abrupt("return",j);case 15:case"end":return k.stop()}},null,this)})}function B(a,b,c,e,f){return a.sessionLocks.lock([b],function(){return a.storage.runInTransaction(function(g){var h=g.handleNewSession,i=g.loadSession;return d("WACryptoLibrary").encryptContent({loadSession:function(b){return y(a,b,e,i,"cryptoManagerEncryptContent").then(function(a){if(a.success===!0)return a.value;else return null})},handleNewSession:h},b,c,f)})})}function C(a,b,c,e){return a.sessionLocks.lock([b],function(){return a.storage.runInTransaction(function(f){var g=f.loadSession,h=f.handleNewSession,i=f.loadSignedPreKey;f=f.loadOneTimePreKey;return d("WACryptoLibrary").decryptContent({loadSession:g,handleNewSession:h,loadSignedPreKey:i,loadOneTimePreKey:f},a.regInfo,b,c,e)},{fetchUnknownDevices:!0})})}function D(a,c){return a.sessionLocks.lock([c],function(){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(a.storage.runInTransaction(function(a){a=a.loadSession;return a(c,"getParticipantInfo").then(function(a){return d("WAResultOrError").makeResult(a)})}));case 2:e=g.sent;if(!(e.success===!0)){g.next=5;break}return g.abrupt("return",(f=e.value)==null?void 0:f.remote);case 5:case"end":return g.stop()}},null,this)})}function E(a){return a.storage.runInTransaction(function(a){var e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:g=a.getLastPreKeyGenerationId,h=a.saveOneTimePreKey;m.next=3;return b("regeneratorRuntime").awrap(g());case 3:i=m.sent;j=((e=i==null?void 0:i.lastPreKeyId)!=null?e:0)+1;k=d("WASignalKeys").makePreKeys(j,1)[0];m.next=8;return b("regeneratorRuntime").awrap(h({keyId:k.plainObject.id,encoded:k.record}));case 8:l=m.sent;if(!l.success){m.next=11;break}return m.abrupt("return",d("WAResultOrError").makeResult(k.plainObject));case 11:throw c("WAErr")("Cannot save one time prekey: "+l.error+", LastPreKeyId: "+((f=i==null?void 0:i.lastPreKeyId)!=null?f:0));case 12:case"end":return m.stop()}},null,this)}).then(function(a){if(a.success)return a.value;else{w.TAGS([d("MAWLoggerUtils").Tag.OneTimePrekey]).ERROR(m(),a);throw c("WAErr")("[CryptoManager] failed to generate one time prekey")}})}function F(a){return a.storage.runInTransaction(function(a){var c,e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=a.getLastPreKeyGenerationId,f=a.savePreKeysGeneration;i.next=3;return b("regeneratorRuntime").awrap(e());case 3:g=i.sent;h=d("WASignalKeys").makePreKeys(((c=g==null?void 0:g.lastPreKeyId)!=null?c:0)+1,d("WABaseGlobals").getConfig().maxPrekeysToUpload());return i.abrupt("return",f(h.map(function(a){var b=a.plainObject;a=a.record;return{keyId:b.id,encoded:a}})));case 6:case"end":return i.stop()}},null,this)}).then(function(a){if(a.success)return a.value;else{w.TAGS([d("MAWLoggerUtils").Tag.SignedPrekey]).ERROR(l(),a);throw c("WAErr")("[CryptoManager] failed to save generate prekeys")}})}function G(a){return a.storage.runInTransaction(function(a){a=a.loadLatestSignedPreKey;return a().then(function(a){return d("WAResultOrError").makeResult(a)})}).then(function(b){if(b.success===!1){var e;w.TAGS([d("MAWLoggerUtils").Tag.SignedPrekey]).ERROR(k(),b==null?void 0:b.payload);throw c("WAErr")("Failed to generate signed prekey: "+((e=b==null?void 0:(e=b.payload)==null?void 0:e.message)!=null?e:""))}e=b.value;e=d("WASignalSignatures").deserializeSignedPreKey(e);if(e==null){w.TAGS([d("MAWLoggerUtils").Tag.SignedPrekey]).ERROR(j(),b);throw c("WAErr")("failed to deserialize signed prekey")}return H(a,e.id+1)})}function H(a,b){var e=d("WASignalSignatures").makeSignedPreKey(b,d("WATimeUtils").unixTimeMs(),a.regInfo.staticKeyPair),f=d("WASignalSignatures").serializeSignedPreKeyForPrivateStorage(e);return a.storage.runInTransaction(function(a){a=a.saveSignedPreKeyIfNew;return a(e.id,f).then(function(a){if(a.type==="success")return d("WAResultOrError").makeResult(e);else{a.type;return d("WAResultOrError").makeResult(a.key)}})}).then(function(a){if(a.success===!1){var b;w.TAGS([d("MAWLoggerUtils").Tag.SignedPrekey]).ERROR(i(),a);throw c("WAErr")("Unexpected error when generateSignedPreKeyWithId: "+((b=a==null?void 0:(b=a.payload)==null?void 0:b.message)!=null?b:a.error))}return a.value})}function I(a,b,c,e){return a.sessionLocks.lock([b],function(){return a.storage.runInTransaction(function(a){var f=a.loadSenderKeySession;a=a.saveSenderKeySession;return d("WACryptoLibrary").encryptGroupContent({loadSenderKeySession:f,saveSenderKeySession:a},b,c,e)})})}function J(a,b,c,e,f){return a.sessionLocks.lock([b],function(){return a.storage.runInTransaction(function(a){var g=a.loadSenderKeySession;a=a.saveSenderKeySession;return d("WACryptoLibrary").decryptGroupContent({loadSenderKeySession:g,saveSenderKeySession:a},b,c,e,f)})})}function K(a,b,c,e){return a.sessionLocks.lock([b],function(){return a.storage.runInTransaction(function(f){var a=f.saveSenderKeySession;f=f.loadSenderKeySession;return d("WACryptoLibrary").saveSenderKeySession({loadSenderKeySession:d("WABaseGlobals").getConfig().useUpdatedSenderKeySession()?f:void 0,saveSenderKeySession:a},b,c,e)})})}function L(a,c,e){return a.sessionLocks.lock([c],function(){var f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(E(a));case 2:f=i.sent;i.next=5;return b("regeneratorRuntime").awrap(a.storage.runInTransaction(function(a){a=a.saveSenderKeySession;return d("WACryptoLibrary").rotateGroupSenderKey({saveSenderKeySession:a},c,e,f.keyPair).then(d("WAResultOrError").makeResult)}));case 5:g=i.sent;if(!g.success){i.next=10;break}return i.abrupt("return",(h||(h=b("Promise"))).resolve(g.value));case 10:return i.abrupt("return",(h||(h=b("Promise"))).reject(g.error));case 11:case"end":return i.stop()}},null,this)})}function M(a){return(h||(h=b("Promise"))).resolve().then(function(){return{regId:d("WASignalOther").makeRegistrationId(a),staticKeyPair:d("WASignalKeys").makeKeyPair(),authKeyPair:d("WASignalKeys").makeKeyPair()}})}function N(a){return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").RecordStructureSpec,d("WASignalSessions").serializeSession(a))}function O(a){return d("WASignalOther").decodeSignalProto(d("WASignalLocalStorageProtocol.pb").RecordStructureSpec,a,d("WASignalSessions").parseSessionFromRecord)}function P(a){return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").SenderKeyRecordStructureSpec,d("WASignalGroupSession").serializeSession(a))}function Q(a){return d("WASignalOther").decodeSignalProto(d("WASignalLocalStorageProtocol.pb").SenderKeyRecordStructureSpec,a,d("WASignalGroupSession").parseSessionFromRecord)}function R(a){return a}function S(a,b){return a+"|"+b}function T(a){a=a.split("|");if(a.length!==2)throw c("WAErr")("Incorrect ComplexSenderKey");return{groupId:d("WAJids").unsafeCoerceToGroupJid(a[0]),deviceId:d("WAJids").unsafeCoerceToDeviceJid(a[1])}}g.DEFAULT_SESSION_REQUEST=x;g.initCryptoManager=a;g.getSessionForRecipient=y;g.establishOutgoingSession=e;g.ensureSessionsExists=z;g.acquireSessionLocks=A;g.bulkEncryptContent=f;g.encryptContent=B;g.decryptContent=C;g.getParticipantInfo=D;g.generateOneTimePreKey=E;g.generatePreKeys=F;g.generateSignedPreKey=G;g.generateSignedPreKeyWithId=H;g.encryptGroupContent=I;g.decryptGroupContent=J;g.saveSenderKeySession=K;g.rotateGroupSenderKey=L;g.generateRegistrationInfo=M;g.encodeSession=N;g.decodeSession=O;g.encodeSenderKeySession=P;g.decodeSenderKeySession=Q;g.castToPreKeyGenerationId=R;g.encodeSenderKey=S;g.decodeSenderKey=T}),98);
__d("WAPreRegistrationCrypto",["WACryptoManager","WAErr","WASignalSignatures","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,c,e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(d("WACryptoManager").generateRegistrationInfo());case 2:a=k.sent;c=a.regId;e=a.staticKeyPair;f=a.authKeyPair;g=Date.now();k.next=9;return b("regeneratorRuntime").awrap(d("WASignalSignatures").generateSignedPreKey(1,g,e));case 9:h=k.sent;i=h.plainObject;j=h.record;return k.abrupt("return",{regId:c,identityKeyPair:e,authKeyPair:f,signedPreKey:{keyId:i.id,encoded:j}});case 13:case"end":return k.stop()}},null,this)}function e(a){var b=d("WASignalSignatures").deserializeSignedPreKey(a.signedPreKey.encoded);if(b==null||b.id!==a.signedPreKey.keyId)throw c("WAErr")("Badly formatted signed prekey");return{regId:a.regId,identityPubKeyType:5,identityPubKey:a.identityKeyPair.publicKey,signedPreKey:b}}g.makeRegistrationData=a;g.serializeRegistrationData=e}),98);
__d("MAWDeviceRegistrationUtilWorker",["MAWConstants","MAWCurrentUser","MAWDeviceRegistrationDomainUtil","MAWDeviceRegistrationTypes","MAWLoggerUtils","MessengerWebInitData","URI","WABase64","WAPreRegistrationCrypto","WATagsLogger","WAWorkerGlobalScope","asyncToGeneratorRuntime","err","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ICDC failed to fetch url:",". error: ",""]);i=function(){return a};return a}function j(a,b){var c=new Uint8Array(b);a=a;for(b=b-1|0;b>=0;--b)c[b]=a&255,a=a>>>8;return c}function k(a,b,c,e,f,g,h,i,k){var l;f=(l=d("WABase64")).encodeB64(j(f,4));g=l.encodeB64(j(g,1));h=l.encodeB64(h);var m=l.encodeB64(j(i.id,3)),n=l.encodeB64(i.keyPair.publicKey);l=l.encodeB64(i.signature);i=new Map().set("fbid",a).set("fb_cat",b).set("app_id",c).set("device_id",e).set("e_regid",f).set("e_keytype",g).set("e_ident",h).set("e_skey_id",m).set("e_skey_val",n).set("e_skey_sig",l);if(k){a=d("WABase64").encodeB64(k.signedICDCIdentityList);b=d("WABase64").encodeB64(k.ihash);i.set("icdc_list",a).set("icdc_ts",k.ts).set("icdc_seq",k.seq).set("ihash",b)}return i}function l(a){var b=[];a.forEach(function(a,c,d){b.push(encodeURIComponent(c)+("="+encodeURIComponent(a.toString())))});return b.join("&")}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("WAWorkerGlobalScope").workerGlobalScope.fetch(b,{body:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST"}));return yield a.json()}catch(a){d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration]).ERROR(i(),b,a);throw a}});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("WAWorkerGlobalScope").workerGlobalScope.fetch(b,{body:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST"}));return b.json()});return p.apply(this,arguments)}function q(){var a=new(h||(h=c("URI")))(t()+d("MAWDeviceRegistrationTypes").ICDC_ENDPOINT);return a.toString()}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=q();a=(yield m(a,b));if(a==null)throw c("err")(d("MAWDeviceRegistrationTypes").NULL_RESPONSE_FROM_SERVER);if(a.status!==200)throw c("err")("WA Server returned status code "+a.status+" while attempting device registration");return a});return s.apply(this,arguments)}function t(){var a=Number(d("MAWCurrentUser").getAppID()),b=d("MAWDeviceRegistrationTypes").REG_FB_DOMAIN;switch(a){case 1217981644879628:case 936619743392459:case 487152425211411:case 1035956773910536:b=d("MAWDeviceRegistrationTypes").REG_IGD_DOMAIN;break;case 772021112871879:b=d("MAWDeviceRegistrationTypes").REG_MSGR_DOMAIN;break;default:b=d("MAWDeviceRegistrationTypes").REG_FB_DOMAIN}return b}function u(){var a=new(h||(h=c("URI")))(t()+d("MAWDeviceRegistrationTypes").REGISTRATION_ENDPOINT);return a.toString()}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=u(),e;try{e=(yield o(a,b))}catch(a){throw c("err")("Post request failed: "+(a==null?void 0:a.message)+" url:"+b)}if(e==null)throw c("err")(d("MAWDeviceRegistrationTypes").NULL_RESPONSE_FROM_SERVER);if(e.wa_device_id==null||e.status!==200){a=e.message!=null?': "'+e.message+'"':"";b="WA Server returned status code "+e.status+a+" while attempting device registration";throw c("err")(b)}if(typeof e.wa_device_id!=="number")throw c("err")("Device ID from WA Server was not a number");return{deviceId:e.wa_device_id,icdcSuccess:(a=e.icdc_success)!=null?a:!1,type:e.type}});return w.apply(this,arguments)}function a(a,b,c,d){a=new Map().set("fbid",a).set("fb_cat",b).set("app_id",c).set("device_id",d);b=l(a);return r(b)}function e(a,b,c,d,e,f,g,h,i){a=k(a,b,c,d,e,f,g,h,i);b=l(a);return v(b)}function f(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=!1;a=!a&&!c("gkx")("976")&&c("MessengerWebInitData").sessionId!=null?d("MAWDeviceRegistrationDomainUtil").generateDeviceUUID(c("MessengerWebInitData").sessionId):c("uuidv4")();var b=(yield d("WAPreRegistrationCrypto").makeRegistrationData());return{deviceUUID:a,lastSignedPrekeyId:b.signedPreKey.keyId,registrationVersion:d("MAWConstants").CURRENT_REGISTRATION_VERSION,signalRegInfo:b}});return x.apply(this,arguments)}g.getRegistrationEndpoint=u;g.fetchICDC=a;g.register=e;g.createNewRegistrationMeta=f}),98);
__d("WAArmadilloICDC.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={seq:[1,(c=d("WAProtoConst")).TYPES.INT32],timestamp:[2,c.TYPES.INT64],devices:[3,c.FLAGS.REPEATED|c.TYPES.BYTES],signingDeviceIndex:[4,c.TYPES.INT32]};b.internalSpec={details:[1,c.TYPES.BYTES],signature:[2,c.TYPES.BYTES]};g.ICDCIdentityListSpec=a;g.SignedICDCIdentityListSpec=b}),98);
__d("WAIdentityUtils",["WABinary","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.length===33&&a[0]===5;return b?a.slice(1):a}function i(a,b){for(var c=0;c<a.length&&c<b.length;++c)if(a[c]!==b[c])return a[c]-b[c];return a.length-b.length}function a(a){a=a.map(function(a){return h(a)});var b=new(d("WABinary").Binary)();a.sort(i).forEach(function(a){return b.writeByteArray(a)});a=self.crypto.subtle.digest("SHA-256",b.readByteArray());return a.then(function(a){a=new Uint8Array(a);return d("WASignalOther").sliceBytes(a,0,10)})}g.removeKeyTypeIfNeeded=h;g.computeIdentitiesHash=a}),98);
__d("WAICDCUtils",["WAArmadilloICDC.pb","WABase64","WABinary","WACryptoEd25519","WACryptoUtils","WAErr","WAIdentityUtils","WAJids","WALogger","WASignalKeys","WASignalOther","WASignalSignatures","WATimeUtils","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["ICDC timestamp is negative. time: ",", closkSkew: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["signingDeviceIndex not found. This should never happen. ",". caller: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched missed signingDeviceIndex"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched timestamp between XML node and byte structure"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched sequence between XML node and byte structure"]);l=function(){return a};return a}function a(a,b,c,e){if(a!==e.details.seq){d("WALogger").ERROR(l());return null}if(c!==e.details.timestamp){d("WALogger").ERROR(k());return null}if(e.details.signingDeviceIndex==null){d("WALogger").ERROR(j());return null}var f=e.details.signingDeviceIndex;return{dirty:b,sequence:a,timestamp:c,signingDeviceIndex:f,devices:e.details.devices.map(function(a){return new Uint8Array(a)})}}function m(a){return a.signingDeviceIndex<0||a.signingDeviceIndex>=a.devices.length}function n(a,b){if(m(b))return null;var c=new Set(),e=new Set();b.devices.forEach(function(a){c.add(a.id),e.add(a.identity.toString())});var f=new Set(),g=new Set();a.devicesInfo.forEach(function(a){var b=d("WAJids").extractDeviceId(a.jid);a=d("WAIdentityUtils").removeKeyTypeIfNeeded(a.identity);(!c.has(b)||!e.has(a.toString()))&&(f.add(b),g.add(a.buffer))});return{seq:b.sequence,signingDevice:d("WAIdentityUtils").removeKeyTypeIfNeeded(b.devices[b.signingDeviceIndex].identity).buffer,unknownDevices:Array.from(g),unknownDeviceIds:Array.from(f)}}function b(a,b,c){var d=new Map();c.forEach(function(a){d.set(a.user,a)});c=d.get(a.user);var e=void 0;c!=null&&(e=n(a,c));var f=[],g=[];b.forEach(function(a){var b=d.get(a.user);if(b!=null){b=n(a,b);b!=null&&f.push(b)}g.push(a.user)});return{senderIdentity:(a=e)!=null?a:void 0,recipientIdentities:f,recipientUserJids:g}}function e(a,b,c){if(a==null||a.seq==null||a.signingDevice==null)return{action:"none"};else if(b==null)return{action:"error",failureTs:d("WATimeUtils").unixTime(),sync:!0};var e=a.seq,f=a.signingDevice;if(e===b.sequence){var g=new Set();c.forEach(function(a){return g.add(d("WAIdentityUtils").removeKeyTypeIfNeeded(a).toString())});e=!g.has(new Uint8Array(f).toString());b=a.unknownDevices.some(function(a){return!g.has(new Uint8Array(a).toString())});if(e||b)return{action:"error",failureTs:d("WATimeUtils").unixTime(),sync:!0}}else return{action:"error",failureTs:d("WATimeUtils").unixTime(),sync:!0};return{action:"none"}}function f(a){a=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloICDC.pb").SignedICDCIdentityListSpec,a);var b=a.signature;a=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloICDC.pb").ICDCIdentityListSpec,a.details);return{signature:b,details:a}}function o(a){return a.map(function(a){return d("WASignalKeys").serializeIdentity(new Uint8Array(d("WABase64").decodeB64UrlSafe(a)))})}function p(a,b,e,f,g){var j=d("WAIdentityUtils").removeKeyTypeIfNeeded(a.publicKey);e=e.map(function(a){return d("WAIdentityUtils").removeKeyTypeIfNeeded(a)});var k=e.findIndex(function(a){return d("WACryptoUtils").uint8ArraysEqual(a,j)});if(k===-1){d("WALogger").ERROR(i(),f,g);throw c("WAErr")("signingDeviceIndex not found")}f=b==null?1:b+1;g=d("WATimeUtils").unixTime();g<0&&d("WALogger").ERROR(h(),Date.now(),d("WATimeUtils").getClockSkew());b={seq:f,timestamp:g,devices:e,signingDeviceIndex:k};f=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloICDC.pb").ICDCIdentityListSpec,b).readBuffer();g=q(a,d("WABinary").Binary.build(f).readByteArray());e={details:f,signature:g};k=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloICDC.pb").SignedICDCIdentityListSpec,e).readBuffer();return{icdcInfo:b,encodedSignedICDC:k}}function q(a,b){var c=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(c);var e=new Uint8Array(64);d("WACryptoEd25519").hashSha512(e,b,b.length);e=d("WASignalSignatures").makeSignature(a,b,c);return d("WABinary").Binary.build(e).readBuffer()}g.validateAndPrepareICDCFromNotification=a;g.isICDCIndexInvalid=m;g.computeICDCParticipantDevices=b;g.validateICDCInfo=e;g.decodeICDCInfo=f;g.base64DeviceIdentitiesToSerializedPubKeys=o;g.computeICDCInfoForUpload=p}),98);
__d("MAWDeviceRegistrationWorker",["MAWClearSignalAndTempStores","MAWCryptoAuthTokenWrapper","MAWCurrentUser","MAWDbMetaTxns","MAWDeviceRegistrationActions","MAWDeviceRegistrationSessionUtil","MAWDeviceRegistrationTypes","MAWDeviceRegistrationUtilWorker","MAWIndexedDb","MAWJids","MAWLoggerUtils","MAWODSProxy","MAWQplProxy","MAWTransactionMode","MessengerWebInitData","WAICDCUtils","WAIdentityUtils","WAOdsEnums","WAPreRegistrationCrypto","WASignalKeys","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Skipping device registration"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crypto Auth Token was null or incomplete"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot process ICDC payload during registration: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Beginning device registration"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Device registration failure - ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);m=function(){return a};return a}var n=typeof window!=="undefined"?window:self,o=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration]),p=!1,q;function r(a){var b;b=(b=n.location.origin)!=null?b:"unknown";p||(q=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25302457,"311"),{bool:{identityCompareResult:a.identityCompareResult,isDeviceRegistrationDomainUniquenessEnabled:c("gkx")("7858")},"int":{registrationVersion:a.registrationVersion},string:{hostname:b}}),p=!0)}function s(){if(p){var a;(a=q)==null?void 0:a.endFail("failure_during_device_registration");q=null}}function a(){if(p){var a;(a=q)==null?void 0:a.endSuccess();q=null}}function t(a){var b;(b=q)==null?void 0:b.addPoint("wa_registration_response",{string:{registrationType:a}})}function u(a){return{message:a,registrationState:d("MAWDeviceRegistrationTypes").RegistrationStatesEnum.failed}}var v=function(a){return d("MAWIndexedDb").makeMsgrTransactor({meta:d("MAWTransactionMode").READWRITE,signedPrekey:d("MAWTransactionMode").READWRITE},"inMetaStoreAndSignedPreKey")(a)},w=function(a){return d("MAWIndexedDb").makeMsgrTransactor({meta:d("MAWTransactionMode").READWRITE},"saveDeviceId")(a)};function x(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){o.LOG(k());var b=(yield d("MAWDeviceRegistrationUtilWorker").createNewRegistrationMeta());yield v(d("MAWDeviceRegistrationActions").saveUnsentRegistrationMeta)(b);var e=d("MAWCurrentUser").getID(),f=b.deviceUUID,g=d("WAPreRegistrationCrypto").serializeRegistrationData(b.signalRegInfo),h=null,i=!1;i=(i=i?1019394685547802:d("MAWCurrentUser").getAppID())==null?void 0:i.toString();if(i==null)return u("appId is null, cannot register to WhatsApp");if(e==="0")return u(d("MAWDeviceRegistrationTypes").DEVICE_REGISTER_ERROR_ZERO_AS_USER_ID);if(a.encrypted_serialized_cat==="")return u(d("MAWDeviceRegistrationTypes").DEVICE_REGISTER_ERROR_EMPTY_CAT_TOKEN);if(!d("WATimeUtils").isInFuture(d("WATimeUtils").castToUnixTime(a.expiration_time_in_seconds)))return u(d("MAWDeviceRegistrationTypes").DEVICE_REGISTER_ERROR_EXPIRED_CAT_TOKEN);var l=null,m=null;try{var n=(yield d("MAWDeviceRegistrationUtilWorker").fetchICDC(e,a.encrypted_serialized_cat,i,f)),p=[].concat(d("WAICDCUtils").base64DeviceIdentitiesToSerializedPubKeys(n.device_identities));if(n.curr_identity_idx!=null){var q=n.curr_identity_idx;p[q]=d("WASignalKeys").serializeIdentity(g.identityPubKey)}else p.push(d("WASignalKeys").serializeIdentity(g.identityPubKey));l=d("WAICDCUtils").computeICDCInfoForUpload(b.signalRegInfo.identityKeyPair,n.icdc_seq,p,"registration","registration");m=(yield d("WAIdentityUtils").computeIdentitiesHash(p))}catch(a){o.ERROR(j(),a)}q=!1;try{b=(yield d("MAWDeviceRegistrationUtilWorker").register(e,a.encrypted_serialized_cat,i,f,g.regId,g.identityPubKeyType,g.identityPubKey,g.signedPreKey,l&&m?{ihash:m,seq:l.icdcInfo.seq,signedICDCIdentityList:l.encodedSignedICDC,ts:l.icdcInfo.timestamp}:null));n=b==null?void 0:b.type;n!=null&&d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.REGISTRATION_TYPE,key:n});h=b==null?void 0:b.deviceId;q=(p=b==null?void 0:b.icdcSuccess)!=null?p:!1;t(b==null?void 0:b.type)}catch(a){return u(a)}if(h==null)return u(d("MAWDeviceRegistrationTypes").NULL_RESPONSE_FROM_SERVER);a=d("MAWJids").toUserJid(e);if(c("gkx")("976")){i=c("MessengerWebInitData").sessionId;i!=null&&c("promiseDone")(d("MAWDeviceRegistrationSessionUtil").linkDeviceToTheSession(f,i))}if(l!=null&&q){g=l.icdcInfo;m=function(a){return d("MAWIndexedDb").makeMsgrTransactor({contacts:d("MAWTransactionMode").READWRITE},"saveICDC")(a)};yield m(d("MAWDeviceRegistrationActions").saveICDC)(a,{devices:g.devices,dirty:!0,sequence:g.seq,signingDeviceIndex:g.signingDeviceIndex,timestamp:g.timestamp})}yield w(d("MAWDeviceRegistrationActions").saveDeviceId)(h);return{message:d("MAWDeviceRegistrationTypes").DEVICE_SUCCESSFULLY_REGISTERED,registrationState:d("MAWDeviceRegistrationTypes").RegistrationStatesEnum.finished}});return y.apply(this,arguments)}var z=function(a){return d("MAWIndexedDb").makeMsgrTransactor({identity:d("MAWTransactionMode").READONLY,meta:d("MAWTransactionMode").READONLY,signedPrekey:d("MAWTransactionMode").READONLY},"checkExistingRegistration")(a)()};function e(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWCryptoAuthTokenWrapper").getCryptoAuthToken();if(b==null){o.WARN(i());return{message:"Crypto Auth Token was null or incomplete",registrationState:d("MAWDeviceRegistrationTypes").RegistrationStatesEnum.failed}}var e=(yield z(d("MAWDeviceRegistrationActions").getRegistrationMeta));a!=null&&d("MAWQplProxy").sendQplPointThroughBridge(a,"device_registration_check",{annotations:{bool:{identityCompareResult:e==null?void 0:e.identityCompareResult,isDeviceRegistrationDomainUniquenessEnabled:c("gkx")("7858")},"int":{registrationVersion:e==null?void 0:e.registrationVersion}}});if(e==null||e.deviceId==null){try{yield d("MAWClearSignalAndTempStores").clearSignalAndTempStores(),yield d("MAWDbMetaTxns").saveCAT(b)}catch(a){return u(a)}r({identityCompareResult:e==null?void 0:e.identityCompareResult,registrationVersion:e==null?void 0:e.registrationVersion});return x(b)}else{yield d("MAWDbMetaTxns").saveCAT(b);a=c("MessengerWebInitData").sessionId;b=e.lastSessionDeviceWasLinkedTo==null||e.lastSessionDeviceWasLinkedTo!==a;a!=null&&!(e.deviceUUID===a||e.deviceUUID.startsWith(a+"-"))&&b&&c("promiseDone")(d("MAWDeviceRegistrationSessionUtil").linkDeviceToTheSession(e.deviceUUID,a))}o.LOG(h());return{message:d("MAWDeviceRegistrationTypes").DEVICE_ALREADY_REGISTERED,registrationState:d("MAWDeviceRegistrationTypes").RegistrationStatesEnum.finished}});return A.apply(this,arguments)}function f(a){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.DEVICE_REGISTRATION,key:"fail"}),d("MAWCurrentUser").isEmployee()||d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.DEVICE_REGISTRATION_NON_EMPLOYEE,key:"fail"}),o.ERROR(m(),d("MAWDeviceRegistrationTypes").FAILED_REGISTRATION_RETRIES),a.forEach(function(a){o.ERROR(l(),a)}),s()}g.endRegistrationTimerSuccess=a;g.handleRegistrationError=u;g.setupDeviceRegistration=e;g.logDeviceRegistrationRetryFailure=f}),98);
__d("WAPromiseBackoffs",["Promise","WAErr"],(function(a,b,c,d,e,f,g){var h;function a(a,b){if(a===0)return 0;var c=o(b.algo);for(var d=1;d<a;d++)c();return j(b,c())}function i(a){var b=a.relativeDelay,c=b===void 0?!1:b,d=null,e=o(a.algo);return function(){var b=d;if(b==null){d=c?Date.now():0;return 0}var f=j(a,e());if(c){var g=Date.now();b=g-b;b>0&&(f=Math.max(0,f-b));d=g}return f}}function d(a){var c=i(a);return function(a){return new(h||(h=b("Promise")))(function(b){var d=c();d>0?setTimeout(b,d,a):b(a)})}}function j(a,b){var c=a.max,d=a.min;a=a.jitter;a=a===void 0?.1:a;b=b;c!=null&&b>c&&(b=c);d!=null&&b<d&&(b=d);a!==0&&(b=Math.ceil(b*(1+a*Math.random())));return b}function k(a){var b=a.second-a.first,c=a.first-b;return function(){var a=b+c;c=b;b=a;return a}}function l(a){var b=a.base,c=b===void 0?2:b,d=a.first;return function(){var a=d;d*=c;return a}}function m(a){var b=a.delay;return function(){return b}}function n(a){var b=a.toMs;a=a.backoff;var c=o(a);return function(){return b(c())}}function o(a){switch(a.type){case"fibonacci":return k(a);case"exponential":return l(a);case"constant":return m(a);case"adjust":return n(a);default:a;throw c("WAErr")("makeTimeFunc unrecognized backoff "+a.type)}}g.getDelay=a;g.createTimer=i;g.createPromiseTimer=d}),98);
__d("WAPromiseRetryLoop",["Promise","WAErr","WALogger","WAPromiseBackoffs","WAPromiseDelays","WAResolvable"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: retrying "," in ","ms"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop was called several times. You may have race conditions"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: starting ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""]);m=function(){return a};return a}a=function(){function a(a){var b=this;this.$2=new(d("WAResolvable").Resolvable)();this.$3=null;this.$4=null;this.$5=0;this.endWithValue=function(a){b.$5++,b.$2.resolve(a)};this.$1=a}var e=a.prototype;e.resetTimeoutAfter=function(a){this.$4=Date.now()+a};e.cancelReset=function(){this.$4=null};e.reset=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(m(),this.$1.name);this.$5++;this.$6()};e.start=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(l(),this.$1.name);this.$5!==0&&d("WALogger").ERROR(k());this.$5++;this.$6()};e.$6=function(){var a=this,c=this.$1,e=this.$5,f=d("WAPromiseBackoffs").createTimer(this.$1.timer);f();var g=function b(){if(a.$2.resolveWasCalled())return;if(e!==a.$5)return;var g=Date.now();a.$3=c.code(a.endWithValue).then(function(){if(a.$2.resolveWasCalled())return;var e=c.resetDelay;(e!==void 0&&Date.now()>=g+e||a.$4!=null&&a.$4<=Date.now())&&(d("WALogger").LOG(j(),c.name),f=d("WAPromiseBackoffs").createTimer(a.$1.timer));a.$4=null;e=f();d("WALogger").LOG(i(),c.name,e);return d("WAPromiseDelays").delayMs(e).then(b)});return a.$3};this.$3=(h||(h=b("Promise"))).resolve().then(g)};e.promise=function(){var a=this;if(this.$2.resolveWasCalled())return this.$2.promise;return!this.$3?(h||(h=b("Promise"))).reject(c("WAErr")("PromiseRetryLoop "+this.$1.name+" had promise() called before start()")):(h||(h=b("Promise"))).race([this.$2.promise,this.$3.then(function(){return a.$2.promise})])};return a}();g.PromiseRetryLoop=a}),98);
__d("WARetryUtils",[],(function(a,b,c,d,e,f){a={algo:{type:"adjust",backoff:{type:"fibonacci",first:1,second:1},toMs:function(a){return 1e3*(a+9)}},max:62e4};f.FIBONACCI_BACKOFF=a}),66);
__d("MAWDeviceRegistrationInitWorker",["MAWCurrentUser","MAWDeviceRegistrationTypes","MAWDeviceRegistrationWorker","MAWLoggerUtils","MAWODSProxy","MAWQplProxy","WALogger","WAOdsEnums","WAPromiseRetryLoop","WARetryUtils","WATagsLogger","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Registration finished, ending device registration promise retry loop"]);i=function(){return a};return a}function a(){var a=1,e=new Set(),f=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({code:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(a===d("MAWDeviceRegistrationTypes").MAX_DEVICE_REGISTRATION_RETRIES){d("MAWDeviceRegistrationWorker").logDeviceRegistrationRetryFailure(e);var f=d("MAWDeviceRegistrationWorker").handleRegistrationError(d("MAWDeviceRegistrationTypes").FAILED_REGISTRATION_RETRIES);b(f);return}try{f=a===1?c("qpl")._(25310776,"6155"):null;f=(yield d("MAWDeviceRegistrationWorker").setupDeviceRegistration(f));f.registrationState===d("MAWDeviceRegistrationTypes").RegistrationStatesEnum.finished&&(f.message===d("MAWDeviceRegistrationTypes").DEVICE_SUCCESSFULLY_REGISTERED&&(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.DEVICE_REGISTRATION,key:"success"}),d("MAWCurrentUser").isEmployee()||d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.DEVICE_REGISTRATION_NON_EMPLOYEE,key:"success"}),d("MAWDeviceRegistrationWorker").endRegistrationTimerSuccess()),d("WALogger").LOG(i()),b(f));e.add(f.message)}catch(a){b="Uncaught device registration error - "+a;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration]).WARN(h(),b);e.add(""+b)}a++});function g(a){return f.apply(this,arguments)}return g}(),name:"deviceRegistration",timer:d("WARetryUtils").FIBONACCI_BACKOFF});d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(25310776,"6155"),"device_registration_start");f.start();return f.promise()}g.initDeviceRegistration=a}),98);
__d("MAWGetLocalDeviceIdApi",["MAWIndexedDb","MAWTransactionMode","SignalDbTypes","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}a=d("MAWIndexedDb").makeMsgrTransactor({meta:d("MAWTransactionMode").READONLY},"getLocalDeviceId")(function(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.deviceId).then(function(a){var b;if((a==null?void 0:(b=a.value)==null?void 0:b.deviceId)==null){b="[Remote Presence Error] DeviceId was null";d("WALogger").ERROR(h(),b);throw c("err")(b)}return a.value.deviceId})});g.getLocalDeviceId=a}),98);
__d("MAWGetLocalPublicPrivateIdentityKeyApi",["MAWIndexedDb","MAWTransactionMode","SignalDbTypes","WALogger","WASignalKeys","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}a=d("MAWIndexedDb").makeMsgrTransactor({meta:d("MAWTransactionMode").READONLY},"getLocalPublicPrivateIdentityKey")(function(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.identityKeyPair).then(function(a){var b;if((a==null?void 0:(b=a.value)==null?void 0:b.identityKeyPair)==null){b="[Remote Presence Error] Identity key pair was null";d("WALogger").ERROR(h(),b);throw c("err")(b)}return d("WASignalKeys").toSerializedKeyPair(a.value.identityKeyPair)})});g.getLocalPublicPrivateIdentityKey=a}),98);
__d("MAWGetRemotePublicIdentityKeyApi",["MAWIndexedDb","MAWJids","MAWTransactionMode"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWIndexedDb").makeMsgrTransactor({identity:d("MAWTransactionMode").READONLY},"getRemotePublicIdentityKey")(function(a,b,c){c=d("MAWJids").toUserJid(c);c=d("MAWJids").toDeviceJid(c,b);return a.identity.get(c).then(function(a){return a==null?void 0:a.identity})});g.getRemotePublicIdentityKey=a}),98);
__d("MAWRemotePresenceTypes",[],(function(a,b,c,d,e,f){"use strict";a={BAD_DEVICE_ID:402,BAD_FBID:403,BAD_IDENTITY_KEY_SIZE:401,BAD_REQUEST:400,OK:200};f.STATUS_CODES=a}),66);
__d("MAWRemotePresenceSetup",["MAWDeviceRegistrationInitWorker","MAWIndexedDb","MAWKeychain","MWSetupDBEncryption","WAJids","WALoggerDeferred","asyncToGeneratorRuntime","err","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] Failed to setup Armadillo Web: ",""]);h=function(){return a};return a}var i=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWRemotePresenceSetup");function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield i.load());a=a.setupMainWaLogger;a();a=(yield d("MWSetupDBEncryption").init());if(!a.success)throw c("err")(a.error);yield d("MAWIndexedDb").makeDB(c("MAWKeychain").getDbEncryptionKey,{enableDataSyncMiddleware:!1});d("WAJids").createJidUtils({platform:d("WAJids").MSGR_USER_JID_SUFFIX});yield d("MAWDeviceRegistrationInitWorker").initDeviceRegistration()}catch(a){void d("WALoggerDeferred").ERROR(h(),a);throw a}});return j.apply(this,arguments)}g.setupArmadilloWebForRP=a}),98);
__d("DecoilAtomStore",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a,c=new Set();return{getSnapshot:function(){return b},subscribe:function(a){c.add(a);return function(){c["delete"](a)}},update:function(a){var d=typeof a==="function"?a:function(b){return a};b=d(b);for(var d=c,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g()}}}};b=a;f["default"]=b}),66);
__d("DecoilRoot.react",["DecoilAtomStore","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState,n=i.createContext({getForAtom:function(){throw c("unrecoverableViolation")("Decoil is not initialized correctly. Have you created a DecoilRoot component higher in the component tree?","decoil")}});function a(a){var b=a.children;a=a.initializeState;var d=l(new Map()),e=j(function(a,b){b=c("DecoilAtomStore")(b);d.current.set(a.key,b);return b},[]),f=m(!1),g=f[0];f=f[1];g||(a==null?void 0:a({set:function(a,b){e(a,b)}}),f(!0));g=k(function(){return{getForAtom:function(a){var b=d.current.get(a.key);return b!==void 0?b:e(a,a["default"])}}},[e]);return i.jsx(n.Provider,{value:g,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.DecoilRoot=a;g.DecoilRootContext=n}),98);
__d("Decoil",["DecoilRoot.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useContext,k=c.useMemo,l=c.useSyncExternalStore;function m(a){return a}function a(a){return function(b){return m(babelHelpers["extends"]({},a,{key:a.key+"."+b}))}}function n(a){var b=j(d("DecoilRoot.react").DecoilRootContext),c=b.getForAtom;return k(function(){return c(a)},[c,a])}function o(a){a=n(a);return l(a.subscribe,a.getSnapshot)}function p(a){var b=n(a);return i(function(a){b.update(a)},[b])}function b(a){var b=o(a);a=p(a);return[b,a]}g.atom=m;g.atomFamily=a;g.useDecoilValue=o;g.useSetDecoilState=p;g.useDecoilState=b}),98);
__d("RPWebUXEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:"click",IMPRESSION:"impression"});f["default"]=a}),66);
__d("RPWebUXLoggerSurfaceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext("unknown");g.RPWebUXSurfaceLoggerContext=b}),98);
__d("RpWebUxEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4962");b=d("FalcoLoggerInternal").create("rp_web_ux_event",a);e=b;g["default"]=e}),98);
__d("ZenonBackgroundBlurContext",["err","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({blurredStream:null,inputVideoHeightRef:{current:720},inputVideoRef:{current:null},inputVideoWidthRef:{current:1280},isActive:!1,originalVideoTrack:null,outputCanvasRef:{current:null},setBackgroundBlurURIs:function(a){throw c("err")("setBackgroundBlurURIs is not implemented!")},start:function(a){throw c("err")("start is not implemented!")},stop:function(a){throw c("err")("stop is not implemented!")}});e=b;g["default"]=e}),98);
__d("ZenonConnectionStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({KEEP_ALL_PARTICIPANTS:0,REMOVE_DUPLICATED:1,DISCONNECT_DUPLICATED:2});f.ZenonDuplicatedParticipantsProcessingMode=a}),66);
__d("ZenonCallsModelEmitter",["EventEmitter","ZenonActorHooks","ZenonCall","ZenonCallsModelTypes","ZenonConnectionStateTypes","ZenonDismissReason","ZenonParticipantState","ZenonSignalingConstants","filterMap","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=100;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$ZenonCallsModelEmitter1=c("immutable").Map(),d.$ZenonCallsModelEmitter2=new Map(),d.$ZenonCallsModelEmitter3=null,d.$ZenonCallsModelEmitter4=null,b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.emitCallsModel=function(a,b){var c=this;this.$ZenonCallsModelEmitter3!==null?this.$ZenonCallsModelEmitter2.set(a,b):(this.$ZenonCallsModelEmitter5(a,b),this.$ZenonCallsModelEmitter3=window.setTimeout(function(){c.$ZenonCallsModelEmitter2.forEach(function(a,b){c.$ZenonCallsModelEmitter5(b,a)}),c.$ZenonCallsModelEmitter2.clear(),c.$ZenonCallsModelEmitter3=null},h))};e.getCurrentClientCallID_DO_NOT_USE=function(){return this.$ZenonCallsModelEmitter4};e.setCurrentClientCallID=function(a){this.$ZenonCallsModelEmitter4=a};e.$ZenonCallsModelEmitter5=function(a,b){var d=this.$ZenonCallsModelEmitter1.get(a);d=new(c("ZenonCall"))({callState:this.$ZenonCallsModelEmitter6(b),clientCallId:a,clientEndpointId:b.clientEndpointId,collisionContext:babelHelpers["extends"]({},b.collisionContext),endCallDetails:this.$ZenonCallsModelEmitter7(b),endCallReason:this.$ZenonCallsModelEmitter8(b),features:b.currentUserCapabilities,isVideoCall:this.$ZenonCallsModelEmitter9(b,d),localMediaTracks:this.$ZenonCallsModelEmitter10(b),mediaTracks:this.$ZenonCallsModelEmitter11(b),participants:this.$ZenonCallsModelEmitter12(b),remoteMediaTracks:this.$ZenonCallsModelEmitter13(b),rtpReceivers_I_KNOW_WHAT_I_AM_DOING:this.$ZenonCallsModelEmitter14(b),rtpSenders_I_KNOW_WHAT_I_AM_DOING:this.$ZenonCallsModelEmitter15(b),selfParticipantID:b.selfParticipantID,stateSyncInputStates:this.$ZenonCallsModelEmitter16(b),stateSyncOutputStates:this.$ZenonCallsModelEmitter17(b),userIdToNodeIdMap:this.$ZenonCallsModelEmitter18(b)});this.$ZenonCallsModelEmitter1=this.$ZenonCallsModelEmitter1.set(a,d);this.emitCallsModelDelegate(this.$ZenonCallsModelEmitter1)};e.emitCallsModelDelegate=function(a){this.emit("callsModelUpdate",a)};e.$ZenonCallsModelEmitter6=function(a){return i[a.connectionState]};e.$ZenonCallsModelEmitter7=function(a){return(a=a.dismissDetails)==null?void 0:a.detailedReasonFromMW};e.$ZenonCallsModelEmitter8=function(a){return a.dismissDetails!=null&&a.dismissDetails.dismissReason!=null?d("ZenonDismissReason").dismissToEndCallReason(a.dismissDetails.dismissReason):null};e.$ZenonCallsModelEmitter10=function(a){return c("filterMap")(this.$ZenonCallsModelEmitter11(a),function(a){return a.remote===!1})};e.$ZenonCallsModelEmitter13=function(a){return c("filterMap")(this.$ZenonCallsModelEmitter11(a),function(a){return a.remote===!0})};e.$ZenonCallsModelEmitter11=function(a){return a.getTracks()};e.$ZenonCallsModelEmitter12=function(a){var b=a.getUserToTracksMap(),e=a.getTracks(),f=a.getExistingParticipantIds(),g=a.actorRepresentatives,h=this.$ZenonCallsModelEmitter19(a),i=c("immutable").Map().withMutations(function(i){h.forEach(function(h,j){var k,l;k=c("immutable").Set((k=b.get(j))==null?void 0:k.keys()).filter(function(a){return e.has(a)}).toArray();var m=k.map(function(a){return e.get(a)}).filter(Boolean).map(function(a){return babelHelpers["extends"]({},a)});i.set(j,{id:j,isExistingParticipant:f.has(j),isVideoSubscribed:a.getIsUserVideoSubscribed(j),nodeId:a.convertUserIdToNodeId(j),participantType:d("ZenonCallsModelTypes").ZenonCallParticipantType.Messenger,representativeID:(l=g.get(j))!=null?l:null,state:d("ZenonParticipantState").toCallParticipantState(h),trackIDs:k,tracks:m,userCapabilities:a.getUserCapabilities(j)})})});return this.$ZenonCallsModelEmitter20(i,a)};e.$ZenonCallsModelEmitter20=function(a,b){var c=a.get(b.selfParticipantID);if(!c)return a;c=babelHelpers["extends"]({},c,{id:d("ZenonActorHooks").ZenonActor.getID()});return a["delete"](b.selfParticipantID).set(c.id,c)};e.$ZenonCallsModelEmitter16=function(a){return c("immutable").Map(a.getStateSyncInputs())};e.$ZenonCallsModelEmitter17=function(a){return c("immutable").Map(a.getStateSyncOutputs())};e.$ZenonCallsModelEmitter15=function(a){a=[].concat(a.getRtpSenders_I_KNOW_WHAT_I_AM_DOING());return a};e.$ZenonCallsModelEmitter14=function(a){a=[].concat(a.getRtpReceivers_I_KNOW_WHAT_I_AM_DOING());return a};e.$ZenonCallsModelEmitter18=function(a){return a.getUserIdToNodeIdMap()};e.getCallsModel=function(){return this.$ZenonCallsModelEmitter1};e.$ZenonCallsModelEmitter21=function(a){var b=a.actorRepresentatives;a=a.getConsolidatedParticipantStates();var c=new Map();a.forEach(function(a,e){e=(e=b.get(e))!=null?e:null;if(e!==null&&a<=d("ZenonParticipantState").ZenonParticipantState.CONNECTED){var f;f=(f=c.get(e))!=null?f:d("ZenonParticipantState").ZenonParticipantState.UNKNOWN;c.set(e,(e=d("ZenonParticipantState").ZenonParticipantState.cast(Math.max(f,a)))!=null?e:d("ZenonParticipantState").ZenonParticipantState.UNKNOWN)}});return c};e.$ZenonCallsModelEmitter19=function(a){var b=a.getConsolidatedParticipantStates(),c=a.duplicatedParticipantsProcessingMode;if(c===d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.KEEP_ALL_PARTICIPANTS)return b;var e=this.$ZenonCallsModelEmitter21(a),f=a.actorRepresentatives,g=new Map();b.forEach(function(a,b){var h;h=(h=e.get(b))!=null?h:null;if(h!==null)h!==d("ZenonParticipantState").ZenonParticipantState.CONNECTING&&h!==d("ZenonParticipantState").ZenonParticipantState.CONNECTED?g.set(b,h):c===d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.DISCONNECT_DUPLICATED&&g.set(b,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED);else{h=(h=f.get(b))!=null?h:null;(h===null||a===d("ZenonParticipantState").ZenonParticipantState.CONNECTING||a===d("ZenonParticipantState").ZenonParticipantState.CONNECTED)&&g.set(b,a)}});return g};e.$ZenonCallsModelEmitter9=function(a,b){return(b==null?void 0:b.isVideoCall)||this.$ZenonCallsModelEmitter22(a)};e.$ZenonCallsModelEmitter22=function(a){a=this.$ZenonCallsModelEmitter11(a);var b=!1;a.forEach(function(a){return b=b||(a.contentType==="video"||a.contentType==="screen")&&a.enabled&&a.webrtcTrack.readyState==="live"&&a.trackId!==d("ZenonSignalingConstants").DEFAULT_TRACK});return b};return b}(c("EventEmitter"));b=new a();var i=Object.freeze({clientInitiatedRenegotiation:(e=d("ZenonCallsModelTypes")).ZenonCallState.Connected,creatingSdp:e.ZenonCallState.Connecting,init:e.ZenonCallState.New,peerConnectionRestarting:e.ZenonCallState.Connected,pendingApproval:e.ZenonCallState.PendingApproval,sdpNegotiated:e.ZenonCallState.Connected,sdpSet:e.ZenonCallState.Connecting,serverInitiatedRenegotiating:e.ZenonCallState.Connected,terminated:e.ZenonCallState.Terminated,waitingForIncoming:e.ZenonCallState.New});g.CALLS_MODEL_EMITTER_DELAY_MS=h;g.CallsModelEmitterInstance=b;g.CONNECTION_STATE_TO_CALL_STATE_MAP=i}),98);
__d("ZenonTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SIGNALING","SCTP","SIGNALING_AND_SCTP"]);f.ZenonTransportType=a}),66);
__d("ZenonEncryptionKeysManagerState",["E2eeMetricsSerializers","WebAssemblyMemorySingleton"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={debug_only_stats:{error_count_decrypted:0,error_count_encrypted:0,frames_decrypted:0,frames_encrypted:0},decrypt_frames_dropped:0,encrypt_frames_dropped:0,total_decrypt_time:0,total_encrypt_time:0};for(var a=a.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.debug_only_stats.error_count_decrypted+=e.debug_only_stats.error_count_decrypted;b.debug_only_stats.error_count_encrypted+=e.debug_only_stats.error_count_encrypted;b.debug_only_stats.frames_decrypted+=e.debug_only_stats.frames_decrypted;b.debug_only_stats.frames_encrypted+=e.debug_only_stats.frames_encrypted;b.decrypt_frames_dropped+=e.decrypt_frames_dropped;b.encrypt_frames_dropped+=e.encrypt_frames_dropped;b.total_decrypt_time+=e.total_decrypt_time;b.total_encrypt_time+=e.total_encrypt_time}return b}b=function(){return{e2eeNegotiationState:-1,e2eeStats:{group_e2ee_metrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),p2p_e2ee_metrics:d("E2eeMetricsSerializers").P2pE2eeMetrics$DefaultConstructor(),track_specific_e2ee_stats:new Map(),wasm_metrics:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},identityStoreDescription:"not yet created"}};g.aggregatePerTrackStats=a;g.ZenonEncryptionKeysManagerState$DefaultConstructor=b}),98);
__d("FrameEncryptionWasmTypes",["err"],(function(a,b,c,d,e,f,g){"use strict";var h="This wasm pointer must not be null.",i="This wasm pointer is read after being freed.",j=0;function k(a,b){if(a<=j)throw c("err")(b)}a=function(){function a(a){this.$1=a}var b=a.prototype;b.isNull=function(){return this.$1<=j};b.get=function(){return this.$1};b.markAsFreed=function(){this.$1=j};return a}();var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){k(a,h);return b.call(this,a)||this}a.fromNullable=function(b){b=b.get();k(b,h);return new a(b)};var c=a.prototype;c.get=function(){k(b.prototype.get.call(this),i);return b.prototype.get.call(this)};return a}(a);b=function(){function a(a){this.$1=a,this.$2=new Array(0)}var b=a.prototype;b.createCallback=function(a,b){a=new l(this.$1.addFunction(a,b));this.$2.push(a);return a};b.getCountOfCallbacks=function(){return this.$2.length};b.cleanupAllCallbacks=function(){var a=this;this.$2.forEach(function(b){return a.$1.removeFunction(b.get())});this.$2=new Array(0)};return a}();g.ERROR_MESSAGE_MUST_NOT_BE_NULL=h;g.ERROR_MESSAGE_USE_AFTER_FREE=i;g.WASM_NULLPTR_VALUE=j;g.ZenonNullableWasmPtr=a;g.ZenonNonNullWasmPtr=l;g.WasmCallbackManager=b}),98);
__d("ZenonInsertableStreamsMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d,e,f){this.mediaStreamId=a,this.mediaType=b,this.operation=c,this.readable=d,this.trackId=e,this.writable=f};f["default"]=a}),66);
__d("ZenonInsertableStreamsMessageTransformer",["ZenonInsertableStreamsMessage"],(function(a,b,c,d,e,f,g){"use strict";a={deserialize:function(a){return new(c("ZenonInsertableStreamsMessage"))(a.mediaStreamId,a.mediaType,a.operation,a.readable,a.trackId,a.writable)},serialize:function(a,b){b.push(a.readable);b.push(a.writable);return{mediaStreamId:(b=a.mediaStreamId)!=null?b:void 0,mediaType:(b=a.mediaType)!=null?b:void 0,operation:a.operation,readable:a.readable,trackId:a.trackId,writable:a.writable}}};b=a;g["default"]=b}),98);
__d("ZenonE2eeWasmWorkerClient",["FrameEncryptionWasmTypes","ODS","Promise","WorkerBundleResource","WorkerClient","WorkerFuncChannel","WorkerMessagePort","ZenonE2eeWasmWorkerResource","ZenonInsertableStreamsMessage","ZenonInsertableStreamsMessageTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={},k=null,l;j[c("ZenonInsertableStreamsMessage").name]=c("ZenonInsertableStreamsMessageTransformer");var m=function(){function a(){var a=d("WorkerBundleResource").createDedicatedWebWorker(c("ZenonE2eeWasmWorkerResource"),{name:"ZenonE2eeWasmWorker"});this.client=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(a,"ZenonE2eeWasmWorker");l=d("WorkerFuncChannel").importChannel({allowUnencryptedFramesOnDecryptors:null,cacheIdentityKeys:null,calculateSignature:null,createSecureDataMessageManager:null,createSecureSctpManager:null,decryptSctpMessage:null,decryptStateSyncUpdate:null,encryptSctpMessage:null,encryptStateSyncSnapshot:null,encryptStateSyncUpdate:null,freeAllEncryptorsAndDecryptors:null,freeEncryptionKeysManager:null,freeEncryptorAndDecryptorForId:null,freePrivatelyHeldCallScopedResources:null,freeSecureSctpManager:null,getGroupE2eeMetrics:null,getIdentityStoreShortDescription:null,getSerializedE2eeClientState:null,getTrackStats:null,handleStreamTransform:null,initialize:null,onMediaDataChannelReady:null,processE2eeMessage:null,processE2eeServerUpdate:null,setDecryptionDisabled:null,setDecryptorCodec:null,setEncryptionDisabled:null,setEncryptorCodec:null,setLocalE2eeId:null,updateLocalTrackIdForStats:null,updateSenderKeyIndex:null,verifySignature:null},this.client,"zenon_e2ee_worker_to_main",function(){},j);d("WorkerFuncChannel").exportChannel({logOdsCounter:function(a){(i||(i=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a)},sendGenericDataMessage:function(){}},this.client,"zenon_e2ee_main_to_worker");d("WorkerClient").init(this.client)}var e=a.prototype;e.destroy=function(){this.client.close()};e.transformStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.handleStreamTransform(a)});function c(b){return a.apply(this,arguments)}return c}();e.processE2eeMessage=function(a){return new(h||(h=b("Promise")))(function(b){return b(l.processE2eeMessage(a))})};e.processE2eeServerUpdate=function(a){return new(h||(h=b("Promise")))(function(b){return b(l.processE2eeServerUpdate(a))})};e.setEncryptionDisabled=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.setEncryptionDisabled(a)});function c(b){return a.apply(this,arguments)}return c}();e.setDecryptionDisabled=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.setDecryptionDisabled(a)});function c(b){return a.apply(this,arguments)}return c}();e.allowUnencryptedFramesOnDecryptors=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.allowUnencryptedFramesOnDecryptors()});function c(){return a.apply(this,arguments)}return c}();e.getTrackStats=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield new(h||(h=b("Promise")))(function(a){return a(l.getTrackStats())}));return new Map(a)});function c(){return a.apply(this,arguments)}return c}();e.setLocalE2eeId=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.setLocalE2eeId(a)});function c(b){return a.apply(this,arguments)}return c}();e.getSerializedE2eeClientState=function(){return new(h||(h=b("Promise")))(function(a){return a(l.getSerializedE2eeClientState())})};e.freePrivatelyHeldCallScopedResources=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.freePrivatelyHeldCallScopedResources()});function c(){return a.apply(this,arguments)}return c}();e.freeEncryptionKeysManager=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.freeEncryptionKeysManager()});function c(){return a.apply(this,arguments)}return c}();e.updateSenderKeyIndex=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.updateSenderKeyIndex(a)});function c(b){return a.apply(this,arguments)}return c}();e.onMediaDataChannelReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.onMediaDataChannelReady()});function c(){return a.apply(this,arguments)}return c}();e.updateLocalTrackIdForStats=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield l.updateLocalTrackIdForStats(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.getGroupE2eeMetrics=function(){return new(h||(h=b("Promise")))(function(a){return a(l.getGroupE2eeMetrics())})};e.createSecureDataMessageManager=function(a,c){return new(h||(h=b("Promise")))(function(b){return b(l.createSecureDataMessageManager(a,c))}).then(function(a){return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(a)})};e.setDecryptorCodec=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield l.setDecryptorCodec(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.setEncryptorCodec=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield l.setEncryptorCodec(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.freeEncryptorAndDecryptorForId=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.freeEncryptorAndDecryptorForId(a)});function c(b){return a.apply(this,arguments)}return c}();e.freeAllEncryptorsAndDecryptors=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.freeAllEncryptorsAndDecryptors()});function c(){return a.apply(this,arguments)}return c}();e.encryptStateSyncSnapshot=function(a,c,d){return new(h||(h=b("Promise")))(function(b){return b(l.encryptStateSyncSnapshot(a.get(),c,d))})};e.encryptStateSyncUpdate=function(a,c,d){return new(h||(h=b("Promise")))(function(b){return b(l.encryptStateSyncUpdate(a.get(),c,d))})};e.decryptStateSyncUpdate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield l.decryptStateSyncUpdate(a.get(),b,c)});function c(b,c,d){return a.apply(this,arguments)}return c}();e.createSecureSctpManager=function(a){return new(h||(h=b("Promise")))(function(b){return b(l.createSecureSctpManager(a))}).then(function(a){return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(a)})};e.freeSecureSctpManager=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.freeSecureSctpManager(a.get())});function c(b){return a.apply(this,arguments)}return c}();e.encryptSctpMessage=function(a,c){return new(h||(h=b("Promise")))(function(b){return b(l.encryptSctpMessage(a.get(),c))})};e.initializeE2ee=function(a,c,d,e,f,g,i,j){j===void 0&&(j=function(){});return new(h||(h=b("Promise")))(function(b,h){void l.initialize(a,c,d,e,f,g,i,j,function(a,c){return a!=null?h(a):b(c)})})};e.cacheIdentityKeys=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l.cacheIdentityKeys(a)});function c(b){return a.apply(this,arguments)}return c}();e.getIdentityStoreShortDescription=function(){return new(h||(h=b("Promise")))(function(a){return a(l.getIdentityStoreShortDescription())})};e.decryptSctpMessage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield l.decryptSctpMessage(a.get(),b,c)});function c(b,c,d){return a.apply(this,arguments)}return c}();e.destroyZenonE2eeWasmWorker=function(){if(k==null)return;k.destroy();k=null};return a}();function a(){k==null&&(k=new m());return k}e=a();g["default"]=e}),98);
__d("ZenonUIConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="Zenon Stats Overlay";c="Armadillo Stats Overlay";d=.75;e="Spatial Audio";var g="Silent Audio";b=b("$InternalEnum").Mirrored(["AUDIO","VIDEO"]);f.ZENON_STATS_OVERLAY=a;f.ARMADILLO_STATS_OVERLAY=c;f.ZENON_FLYOUT_DIALOG_HEIGHT_PERCENTAGE=d;f.ZENON_SPATIAL_AUDIO=e;f.ZENON_SILENT_AUDIO=g;f.IncomingCallDialogTypes=b}),66);
__d("ZenonMediaUtils",["ZenonUIConstants"],(function(a,b,c,d,e,f,g){"use strict";var h={convertToZenonImmutableMediaTrack:function(a,b,c,d){var e=b.contentHint,f=b.isRemote,g=b.isUserMuted,i=b.stream;b=b.trackType;i=(i=i)!=null?i:h.createStreamWithTrack(a);b=(b=b)!=null?b:a.kind==="audio"?"audio":"video";return{contentHint:(e=(e=e)!=null?e:a.contentHint)!=null?e:"",contentType:b,displaySurface:a.getSettings().displaySurface,enabled:a.enabled,flags:Object.freeze({}),label:a.label,name:(e=d)!=null?e:"",pausedDownlink:!1,remote:f,trackId:(b=c)!=null?b:a.id,userMuted:g,webrtcStream:i,webrtcTrack:a}},createSilentTrack:function(){var a=new(window.AudioContext||window.webkitAudioContext)(),b=a.createBuffer(1,a.sampleRate*5,a.sampleRate),c=a.createBufferSource();c.buffer=b;c.loop=!0;b=a.createMediaStreamDestination();c.connect(b);c.start();a=Object.assign(b.stream.getAudioTracks()[0],{enabled:!1});return babelHelpers["extends"]({},h.convertToZenonImmutableMediaTrack(a,{isRemote:!1,isUserMuted:!0,stream:b.stream,trackType:"audio"}),{label:d("ZenonUIConstants").ZENON_SILENT_AUDIO})},createStreamWithTrack:function(a){var b=new MediaStream();b.addTrack(a);return b}};a=h;g["default"]=a}),98);
__d("LsRtcTslogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743886");b=d("FalcoLoggerInternal").create("ls_rtc_tslog",a);e=b;g["default"]=e}),98);
__d("ZenonRequestedMediaType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Audio","Video","Audiovideo","None","Unknown"]);c=a;f["default"]=c}),66);
__d("ZenonSignalingChildTransport",["Promise","QuickPerformanceLogger","Random","SecurePostMessage","URI","ZenonSignalingTransportTypes","gkx","isEmpty","isFacebookishURI","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a,b,e,f,g){var h=this;this.$6=null;this.$7=null;this.$11=function(a){a=a.data;if(a.nonce===h.$1)switch(a.type){case d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL:h.$6?h.$6(a.mwRingRequest):h.$7&&h.$7(a.mwThriftRingRequest);return;case d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER:a.version===2&&a.markers.forEach(function(a,b){(k||(k=c("QuickPerformanceLogger"))).activeMarkers.set(b,a)});return}};this.$2=a;this.$1=this.$9();this.$3=b;this.$8=e;this.$4=f;this.$5=g}var e=a.prototype;e.connect=function(){var a,d=this;((a=c("qex")._("59"))!=null?a:!1)?a=new(h||(h=b("Promise")))(function(a){d.$7=function(b){return a({isTimeout:!1,mwRingRequest:null,mwThriftRingRequest:b})},d.$10()}):a=new(h||(h=b("Promise")))(function(a){d.$6=function(b){return a({isTimeout:!1,mwRingRequest:b,mwThriftRingRequest:null})},d.$10()});var e=new(h||(h=b("Promise")))(function(a){window.setTimeout(function(){a({isTimeout:!0,mwRingRequest:null,mwThriftRingRequest:null})},d.$8)});a=h.race([a,e]);return a.then(function(a){d.$6=null;d.$7=null;if(a.isTimeout)return{state:"join_unavailable"};else return{mwRingRequest:a.mwRingRequest,mwThriftRingRequest:a.mwThriftRingRequest,state:"join_ready"}})};e.$10=function(){var a=this;if(window.opener&&window.opener.postMessage){window.addEventListener("message",this.$11,!1);var b={childNonce:this.$1,nonce:this.$2,peerID:this.$3,roomID:this.$4,serverInfoData:this.$5,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY},e=new MessageChannel();e.port1.onmessage=function(b){a.$11(b)};var f=window.location.origin;c("gkx")("1443572")||!(i||(i=c("isEmpty")))(document.referrer)&&f!==document.referrer&&(c("isFacebookishURI")(new(j||(j=c("URI")))(document.referrer))&&(f=document.referrer));d("SecurePostMessage").sendMessageToSpecificOrigin(window.opener,b,f,[e.port2])}};e.$9=function(){return String(d("Random").random())};return a}();g["default"]=a}),98);
__d("ZenonMWEventAggregator",["ZenonSignalingMessage","ZenonSignalingTypes","promiseDone","randomInt","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=250,i=100;a=function(){function a(a,b){var d=this;this.$3={};this.$4=new Set();this.$5={};this.$6={};this.$7=0;this.$8=!1;this.$1=a;this.$2=b;this.$9=c("throttle")(function(a,b){d.$10(a,b)},h,this)}var b=a.prototype;b.sendEvent=function(a,b,c){var e=[];switch(a.eventName){case"clientInfoRequest":this.$3.clientInfoRequest=a;e=this.$11();break;case"inviteRequest":this.$3.inviteRequest=a;e=this.$11();break;case"localSdpRequest":a.sdp.type==="offer"?this.$8?e=[a]:(this.$3.localSdpRequest=a,this.$8=!0,e=this.$11()):a.sdp.type==="answer"&&(this.$8?this.$6.initiateRenegotiationResponse!=null?(this.$6.localSdpRequest=a,e=this.$12()):(this.$5.localSdpRequest=a,e=this.$13()):(this.$3.localSdpRequest=a,this.$8=!0,e=this.$11()));break;case"remoteSdpResponse":a.type==="offer"?a.statusCode===d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK?this.$6.initiateRenegotiationResponse!=null?(this.$6.remoteSdpResponse=a,e=this.$12()):(this.$5.remoteSdpResponse=a,e=this.$13()):(this.$5={},this.$6={},e=[a]):e=[a];break;case"iceCandidateRequest":case"pingRequest":this.$1.getMediaModeManager().getMediaMode()==="p2p"&&(e=[a]);break;case"subscriptionRequest":this.$9([a],a);break;case"initiateRenegotiationResponse":a.hasRemoteOffer===!0?(this.$6.initiateRenegotiationResponse=a,e=this.$12()):e=[a];break;case"stateSyncNotifyResponse":if(!this.$4.has(a.ackMessageId)){this.$4.add(a.ackMessageId);if(this.$4.size>i){var f;f=(f=this.$4.values().next().value)!=null?f:"";this.$4["delete"](f)}e=[a]}break;case"wakeupRequest":f={ackMessageId:(f=a.ackMessageId)!=null?f:"",eventName:"wakeupResponse"};return this.$10([f],f,b,c);case"usersApprovalRequest":case"iceCandidateResponse":case"addParticipantsRequest":case"dismissResponse":case"genericDataMessageRequest":case"genericDataMessageResponse":case"inviteResponse":case"mediaUpdateRequest":case"mediaUpdateResponse":case"overlayConfigServerUpdateRequest":case"participantUpdateResponse":case"removeParticipantsRequest":case"stateSyncUnsubscribeRequest":case"stateSyncUpdateRequest":case"terminateRequest":case"clientEventRequest":case"wakeupResponse":e=[a];break}return this.$10(e,a,b,c)};b.$14=function(a,b){return{actorID:this.$1.getActorID(),messageID:(a=a)!=null?a:String(c("randomInt")(0,4294967294)+1),messageTags:(a=b)!=null?a:[],protocol:this.$1.getProtocol(),remoteInfo:this.$1.getRemoteInfo(),remoteSignalingID:this.$1.getRemoteSignalingID(),retryCount:0,roomInfo:this.$1.getRoomInfo(),sequenceNumber:this.$7++,signalingID:this.$1.getSignalingID(),userInfo:this.$1.getUserInfo()}};b.$11=function(){var a=this.$3,b=a.clientInfoRequest,c=a.inviteRequest;a=a.localSdpRequest;if(b!=null&&a!=null){this.$3={};return c!=null?[c,b,a]:[b,a]}return[]};b.$13=function(){var a=this.$5,b=a.localSdpRequest;a=a.remoteSdpResponse;if(a&&b){this.$5={};return[a,b]}return[]};b.$12=function(){var a=this.$6,b=a.initiateRenegotiationResponse,c=a.localSdpRequest;a=a.remoteSdpResponse;if(b&&a&&c){this.$6={};return[b,a,c]}return[]};b.$10=function(a,b,d,e){if(a.length>0){var f;f=(f=b.ackMessageId)!=null?f:(f=a.find(function(a){return a.ackMessageId}))==null?void 0:f.ackMessageId;b=(b=b.messageTags)!=null?b:(b=a.find(function(a){return a.messageTags}))==null?void 0:b.messageTags;f=this.$14(f,b);b=new(c("ZenonSignalingMessage"))(f,a);c("promiseDone")(this.$2.sendMessage(b),d,e);return f.messageID}d==null?void 0:d();return""};return a}();g["default"]=a}),98);
__d("ZenonScreensharingQPLLogger",["$InternalEnum","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(292628906,"1082"),i=b("$InternalEnum").Mirrored(["IDLE","AWAITING_USER_ACTION","ADDING_SCREEN_TRACK","REPLACING_SCREEN_TRACK","SENDING_LOCAL_SDP_REQUEST","SENDING_MEDIA_UPDATE_REQUEST"]);a=function(){function a(){this.$1=i.IDLE,this.$2={}}var b=a.prototype;b.$3=function(){this.$1=i.IDLE,this.$2={}};b.onEntryPointClick=function(){this.$3(),c("QPLUserFlow").start(h),this.$1=i.AWAITING_USER_ACTION};b.onStartFetchingTracks=function(a,b){c("QPLUserFlow").addPoint(h,"fetch_tracks"),c("QPLUserFlow").addAnnotations(h,{bool:{has_dual_stream:b,should_fetch_screen_audio:a}})};b.onAddScreenTrack=function(){this.$1=i.ADDING_SCREEN_TRACK,c("QPLUserFlow").addPoint(h,"add_screen_track")};b.onReplaceScreenTrack=function(){this.$1=i.REPLACING_SCREEN_TRACK,c("QPLUserFlow").addPoint(h,"replace_screen_track")};b.onExtensionUnavailable=function(){c("QPLUserFlow").addPoint(h,"no_extension")};b.onAddAudioTrack=function(){c("QPLUserFlow").addPoint(h,"adding_screen_audio_track"),c("QPLUserFlow").addAnnotations(h,{bool:{audio_track_added:!0}})};b.onCancelScreenShareWithReason=function(a){c("QPLUserFlow").endCancel(h,{annotations:{string:{cancel_reason:a}}}),this.$3()};b.onScreenTrackNotFoundError=function(){c("QPLUserFlow").endCancel(h,{annotations:{string:{cancel_reason:"no_screen_track_found"}}}),this.$3()};b.onStartScreenShareFailure=function(a){c("QPLUserFlow").endFailure(h,"start_screenshare_error",{annotations:{"int":{error_number:a.number},string:{error_message:a.message,error_name:a.name}}}),this.$3()};b.$4=function(a){a=a.find(function(a){return a.eventName==="localSdpRequest"||a.eventName==="mediaUpdateRequest"});return a==null?!1:(a==null?void 0:(a=a.mediaStates)==null?void 0:(a=a.tracks)==null?void 0:a.find(function(a){return a.type==="screen"&&a.enabled}))!=null};b.$5=function(a){return a.find(function(a){return a.eventName==="mediaUpdateResponse"})!=null};b.onMaybeScreenShareUpdateRequest=function(a){if(!this.$4(a.getEvents()))return;if(this.$1!==i.ADDING_SCREEN_TRACK&&this.$1!==i.REPLACING_SCREEN_TRACK)return;var b=a.getEvents();b=b.find(function(a){return a.eventName==="localSdpRequest"||a.eventName==="mediaUpdateRequest"});if(b==null)return;b.eventName==="localSdpRequest"?(this.$1=i.SENDING_LOCAL_SDP_REQUEST,c("QPLUserFlow").addPoint(h,"send_local_sdp_request")):(this.$1=i.SENDING_MEDIA_UPDATE_REQUEST,c("QPLUserFlow").addPoint(h,"send_media_update_request"));this.$2.requestMessageId=a.getHeader().messageID};b.onMaybeMediaUpdateResponse=function(a){if(!this.$5(a.getEvents()))return;(this.$1===i.SENDING_LOCAL_SDP_REQUEST||this.$1===i.SENDING_MEDIA_UPDATE_REQUEST)&&this.$2.requestMessageId===a.getHeader().messageID&&(c("QPLUserFlow").endSuccess(h),this.$3())};return a}();d=new a();e=d;g["default"]=e}),98);
__d("ZenonTransactionConstantTimeRetries",["$InternalEnum","DateConsts","FBLogger","Promise","QuickLogActionType","QuickPerformanceLogger","ZenonScreensharingQPLLogger","asyncToGeneratorRuntime","clearInterval","promiseDone","qpl","recoverableViolation","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum").Mirrored(["WaitingSendOrReceiveMessageState","RequestProcessingState","ResponseProcessingState","Terminated"]),k=3*d("DateConsts").MS_PER_SEC,l=60*d("DateConsts").MS_PER_SEC;a=function(){function a(a,d,e,f,g){this.$8=0,this.$2=a,this.$3=d,this.$1=j.WaitingSendOrReceiveMessageState,this.$9=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield e(a),g(a.getHeader().messageID)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Send message failed")}});return function(b){return a.apply(this,arguments)}}(),this.$10=f}var d=a.prototype;d.$11=function(){var a=this;if(this.$1!==j.RequestProcessingState){c("recoverableViolation")("Should never startRetryTimer in non-REQUEST_PROCESSING state: "+this.$1,"rtc_www");return}this.$12();this.$6=c("setInterval")(function(){a.$13()},k)};d.$14=function(){var a=this;if(this.$1!==j.RequestProcessingState){c("recoverableViolation")("Should never startTerminateTimer in non-REQUEST_PROCESSING state: "+this.$1,"rtc_www");return}this.$15();this.$7=c("setInterval")(function(){a.$16(),c("QuickLogActionType")&&a.$17(3)},l)};d.$13=function(){if(this.$1===j.Terminated){c("recoverableViolation")("Should never call onRetryTimer with transaction terminated.","rtc_www");return}if(this.$1!==j.RequestProcessingState){c("recoverableViolation")("Should never call onRetryTimer in non-REQUEST_PROCESSING state: "+this.$1+" for messageId: "+this.$2,"rtc_www");return}if(this.$4==null){c("recoverableViolation")("Request should not be null or undefined when calling onRetryTimer","rtc_www");return}this.$8++;this.$4.setRetryCount(this.$8);this.$4!=null&&c("promiseDone")(this.$9(this.$4));this.$11()};d.$12=function(){c("clearInterval")(this.$6)};d.$15=function(){c("clearInterval")(this.$7)};d.$16=function(){this.$12(),this.$15(),this.$1=j.Terminated};d.$18=function(a){return isNaN(+a)?0:+a};d.$19=function(){(i||(i=c("QuickPerformanceLogger")))&&(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(64246910,"1453"),this.$18(this.$2))};d.$17=function(a){(i||(i=c("QuickPerformanceLogger")))&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(64246910,"1453"),a,this.$18(this.$2))};d.$20=function(a,b){if((i||(i=c("QuickPerformanceLogger")))&&a){var d,e=this.$3.getSignalingID();d=(d=this.$3.getRemoteSignalingID())!=null?d:"";var f=this.$3.getUserInfo().userID,g=this.$3.getRoomInfo().name,h=this.$3.getProtocol();(i||(i=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(64246910,"1453"),a,{data:{"int":{retryCount:b},string:{protocol:h,remoteSignalingID:d,roomName:g,signalingID:e,userID:f}},instanceKey:this.$18(this.$2)})}};d.sendMessage=function(a){var d,e=a.getHeader(),f=e.messageID;e=e.retryCount;switch(this.$1){case j.WaitingSendOrReceiveMessageState:this.$19();this.$4=a;this.$1=j.RequestProcessingState;this.$11();this.$14();c("ZenonScreensharingQPLLogger").onMaybeScreenShareUpdateRequest(a);return this.$9(a);case j.RequestProcessingState:c("recoverableViolation")("Zenon should not generate an outgoing request more than once. MessageID: "+f,"rtc_www");return(h||(h=b("Promise"))).resolve();case j.ResponseProcessingState:this.$20((d=a.getEvents()[0])==null?void 0:d.eventName,e);if(this.$5==null){this.$5=a;return this.$9(this.$5)}c("recoverableViolation")("Zenon should not generate a response to an incoming request more than once. MessageID: "+f,"rtc_www");return(h||(h=b("Promise"))).resolve();case j.Terminated:c("QuickLogActionType")&&this.$17(2);return(h||(h=b("Promise"))).resolve()}};d.receiveMessage=function(a){var b,d=a.getHeader().retryCount;switch(this.$1){case j.WaitingSendOrReceiveMessageState:this.$19();this.$4=a;this.$1=j.ResponseProcessingState;this.$10(a);break;case j.RequestProcessingState:this.$20((b=a.getEvents()[0])==null?void 0:b.eventName,d);this.$16();this.$10(a);break;case j.ResponseProcessingState:this.$20((b=a.getEvents()[0])==null?void 0:b.eventName,d);this.$5!=null&&(c("promiseDone")(this.$9(this.$5)),this.$20("send_back_same_response",d));break;case j.Terminated:c("ZenonScreensharingQPLLogger").onMaybeMediaUpdateResponse(a);c("QuickLogActionType")&&this.$17(2);break}};return a}();g["default"]=a}),98);
__d("ZenonTransactionManager",["Promise","ZenonTransactionConstantTimeRetries","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){this.$4=function(){},this.$5=function(){},this.$6=null,this.$3=new Map(),this.$1=a,this.$2=b}var d=a.prototype;d.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(this.$6==null)return this.$1.sendMessage(a);a=(yield this.$6.processSignalingMessage(a));return this.$1.sendMessage(a)});function c(b){return a.apply(this,arguments)}return c}();d.$8=function(a){var b=this;if(this.$3.has(a))return this.$3.get(a);this.$3.set(a,new(c("ZenonTransactionConstantTimeRetries"))(a,this.$2,function(a){return b.$7(a)},function(a){if(b.$6!=null)b.$6.receive(a);else{var c=a.getHeader(),d=c.messageID,e=c.protocol;c=a.getEvents();c.forEach(function(a){return b.$4(a,d,e)})}},this.$5));return this.$3.get(a)};d.sendMessage=function(a){var c=a.getHeader();c=c.messageID;c=this.$8(c);return c!=null?c.sendMessage(a):(h||(h=b("Promise"))).resolve()};d.receiveMessage=function(a){var b=a.getHeader();b=b.messageID;b=this.$8(b);b!=null&&b.receiveMessage(a)};d.setReceiver=function(a){this.$4=a};d.setLoggingEventHandler=function(a){this.$1.setLoggingEventHandler(a)};d.setMessageSentHandler=function(a){this.$5=a};d.setSecureDataMessageManager=function(a){this.$6=a};return a}();g["default"]=a}),98);
__d("ZenonProtocolConfiguration",["ZenonMWEventAggregator","ZenonTransactionManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=new(c("ZenonTransactionManager"))(b,a);a=new(c("ZenonMWEventAggregator"))(a,d);return{eventAggregator:a,messageSender:b,transactionManager:d}}g.getConfiguration=a}),98);
__d("ZenonMediaModeManager",["UserAgent","ZenonIGMediaUtil","ZenonInfraActionsLogger","ZenonSignalingProtocol","gkx","shouldUseSFUMediaPath"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1="sfu"}var b=a.prototype;b.onJoin=function(a,b,d,e){var f=c("shouldUseSFUMediaPath")()&&!d;e=!c("gkx")("7043")&&e;if(e||f||c("ZenonIGMediaUtil").shouldUseSFUOnly()){this.$2("sfu");return}e=this.$3(a,b,d);switch(e){case c("ZenonSignalingProtocol").MWPP:this.$2("p2p");return;case c("ZenonSignalingProtocol").MW:this.$2("sfu");return}};b.onDeescalated=function(){this.$2("p2p")};b.onSfuEscalated=function(){this.$2("sfu")};b.getMediaMode=function(){return this.$1};b.$2=function(a){this.$1=a,c("ZenonInfraActionsLogger").updateCachedValues({mediaPath:a}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Media mode updated to "+a,mediaPath:a})};b.$3=function(a,b,d){if(a)return!c("UserAgent").isBrowser("Firefox")&&b===1?c("ZenonSignalingProtocol").MWPP:c("ZenonSignalingProtocol").MW;else return d?c("ZenonSignalingProtocol").MWPP:c("ZenonSignalingProtocol").MW};return a}();g.ZenonMediaModeManager=a}),98);
__d("BreakoutStateBreakoutStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Start:1,End:2,Announce:3,Ping:4});c=b("$InternalEnum")({Active:1,Ended:2});e.exports={BreakoutSessionAction:a,BreakoutSessionStatus:c}}),null);
__d("BreakoutStateBreakoutStateSerializers",["BreakoutStateBreakoutStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{content:""}}function c(){return{sessionID:""}}function d(){return{action:b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(0)}}function e(){return{conferenceName:"",name:"",roomHash:"",roomURI:"",participantIDs:[]}}function h(){return{conferenceName:"",roomHash:"",roomURI:"",participantIDs:[]}}function i(){return{status:b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(0),childRooms:[],mainRoom:h()}}function j(){return{isBreakoutFeatureEnabled:!1,canViewerStartBreakout:!1,participantsSupportingBreakout:new Set()}}function k(){return{}}function l(){return{isBreakoutFeatureEnabled:!1}}function m(a,c){c.writeStructBegin("BreakoutSessionAnnouncementInput");c.writeFieldBegin({fname:"content",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.content!=null)c.writeString(a.content);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("BreakoutStartInput");c.writeFieldBegin({fname:"sessionID",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.sessionID!=null)c.writeString(a.sessionID);else{var d="";c.writeString(d)}c.writeFieldEnd();a.duration!=null&&(c.writeFieldBegin({fname:"duration",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2}),c.writeI32(a.duration),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("BreakoutInputState");c.writeFieldBegin({fname:"action",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.breakoutStartInput!=null&&(c.writeFieldBegin({fname:"breakoutStartInput",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),n(a.breakoutStartInput,c),c.writeFieldEnd());a.announcementInput!=null&&(c.writeFieldBegin({fname:"announcementInput",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),m(a.announcementInput,c),c.writeFieldEnd());a.actionID!=null&&(c.writeFieldBegin({fname:"actionID",ftype:(g||(g=b("ThriftTypes"))).I32,fid:4}),c.writeI32(a.actionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("BreakoutRoom");c.writeFieldBegin({fname:"conferenceName",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.conferenceName!=null)c.writeString(a.conferenceName);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"name",ftype:g.STRING,fid:2});if(a.name!=null)c.writeString(a.name);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomHash",ftype:g.STRING,fid:3});if(a.roomHash!=null)c.writeString(a.roomHash);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomURI",ftype:g.STRING,fid:4});if(a.roomURI!=null)c.writeString(a.roomURI);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participantIDs",ftype:g.LIST,fid:5});if(a.participantIDs!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.participantIDs.length});for(var d=a.participantIDs,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.length});for(e=0;e<f.length;e++){a=f[e];c.writeString(a)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("MainRoom");c.writeFieldBegin({fname:"conferenceName",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.conferenceName!=null)c.writeString(a.conferenceName);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomHash",ftype:g.STRING,fid:2});if(a.roomHash!=null)c.writeString(a.roomHash);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomURI",ftype:g.STRING,fid:3});if(a.roomURI!=null)c.writeString(a.roomURI);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participantIDs",ftype:g.LIST,fid:4});if(a.participantIDs!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.participantIDs.length});for(var d=a.participantIDs,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.length});for(e=0;e<f.length;e++){a=f[e];c.writeString(a)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("BreakoutSession");c.writeFieldBegin({fname:"status",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.status!=null){var d;c.writeI32((d=a.status)!=null?d:0)}else{d=b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.startTime!=null&&(c.writeFieldBegin({fname:"startTime",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2}),c.writeI32(a.startTime),c.writeFieldEnd());a.endTime!=null&&(c.writeFieldBegin({fname:"endTime",ftype:(g||(g=b("ThriftTypes"))).I32,fid:3}),c.writeI32(a.endTime),c.writeFieldEnd());c.writeFieldBegin({fname:"childRooms",ftype:g.LIST,fid:4});if(a.childRooms!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.childRooms.length});for(var d=a.childRooms,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;p(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];p(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"mainRoom",ftype:g.STRUCT,fid:5});if(a.mainRoom!=null)q(a.mainRoom,c);else{d=h();q(d,c)}c.writeFieldEnd();a.id!=null&&(c.writeFieldBegin({fname:"id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.id),c.writeFieldEnd());a.creatorID!=null&&(c.writeFieldBegin({fname:"creatorID",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:7}),c.writeString(a.creatorID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("BreakoutOutputState");a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),r(a.breakoutSession,c),c.writeFieldEnd());c.writeFieldBegin({fname:"isBreakoutFeatureEnabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:2});if(a.isBreakoutFeatureEnabled!=null)c.writeBool(a.isBreakoutFeatureEnabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"canViewerStartBreakout",ftype:g.BOOL,fid:3});if(a.canViewerStartBreakout!=null)c.writeBool(a.canViewerStartBreakout);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participantsSupportingBreakout",ftype:g.SET,fid:4});if(a.participantsSupportingBreakout!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.participantsSupportingBreakout.size});for(var d=a.participantsSupportingBreakout,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.size});for(f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;h=f[d++]}else{d=f.next();if(d.done)break;h=d.value}h=h;c.writeString(h)}c.writeSetEnd()}c.writeFieldEnd();a.lastActionID!=null&&(c.writeFieldBegin({fname:"lastActionID",ftype:(g||(g=b("ThriftTypes"))).I32,fid:5}),c.writeI32(a.lastActionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("BreakoutConferenceInputState"),a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),r(a.breakoutSession,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function u(a,c){c.writeStructBegin("BreakoutConferenceOutputState");a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),r(a.breakoutSession,c),c.writeFieldEnd());c.writeFieldBegin({fname:"isBreakoutFeatureEnabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:2});if(a.isBreakoutFeatureEnabled!=null)c.writeBool(a.isBreakoutFeatureEnabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();if(a.participantAllowedToStartBreakout!=null){c.writeFieldBegin({fname:"participantAllowedToStartBreakout",ftype:(g||(g=b("ThriftTypes"))).SET,fid:3});c.writeSetBegin({etype:g.STRING,size:a.participantAllowedToStartBreakout.size});for(var d=a.participantAllowedToStartBreakout,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeSetEnd();c.writeFieldEnd()}a.lastActionID!=null&&(c.writeFieldBegin({fname:"lastActionID",ftype:(g||(g=b("ThriftTypes"))).I32,fid:4}),c.writeI32(a.lastActionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.content=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content===void 0&&(c.content="");return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.sessionID=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.duration=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sessionID===void 0&&(c.sessionID="");return c}function x(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.action=b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.breakoutStartInput=w(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.announcementInput=v(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.actionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(0));return c}function y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.conferenceName=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.name=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.roomHash=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.roomURI=a.readString():a.skip(e);break;case 5:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participantIDs=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participantIDs.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conferenceName===void 0&&(c.conferenceName="");c.name===void 0&&(c.name="");c.roomHash===void 0&&(c.roomHash="");c.roomURI===void 0&&(c.roomURI="");c.participantIDs===void 0&&(c.participantIDs=[]);return c}function z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.conferenceName=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.roomHash=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.roomURI=a.readString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participantIDs=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participantIDs.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conferenceName===void 0&&(c.conferenceName="");c.roomHash===void 0&&(c.roomHash="");c.roomURI===void 0&&(c.roomURI="");c.participantIDs===void 0&&(c.participantIDs=[]);return c}function A(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.status=b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.startTime=a.readI32():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.endTime=a.readI32():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.childRooms=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var i=y(a);c.childRooms.push(i)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRUCT?c.mainRoom=z(a):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.id=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRING?c.creatorID=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.status===void 0&&(c.status=b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(0));c.childRooms===void 0&&(c.childRooms=[]);c.mainRoom===void 0&&(c.mainRoom=h());return c}function B(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.breakoutSession=A(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.isBreakoutFeatureEnabled=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.canViewerStartBreakout=a.readBool():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.participantsSupportingBreakout=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participantsSupportingBreakout.add(h)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.lastActionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isBreakoutFeatureEnabled===void 0&&(c.isBreakoutFeatureEnabled=!1);c.canViewerStartBreakout===void 0&&(c.canViewerStartBreakout=!1);c.participantsSupportingBreakout===void 0&&(c.participantsSupportingBreakout=new Set());return c}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.breakoutSession=A(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function D(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.breakoutSession=A(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.isBreakoutFeatureEnabled=a.readBool():a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).SET){c.participantAllowedToStartBreakout=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participantAllowedToStartBreakout.add(h)}}else a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.lastActionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isBreakoutFeatureEnabled===void 0&&(c.isBreakoutFeatureEnabled=!1);return c}f.BreakoutSessionAnnouncementInput$DefaultConstructor=a;f.BreakoutStartInput$DefaultConstructor=c;f.BreakoutInputState$DefaultConstructor=d;f.BreakoutRoom$DefaultConstructor=e;f.MainRoom$DefaultConstructor=h;f.BreakoutSession$DefaultConstructor=i;f.BreakoutOutputState$DefaultConstructor=j;f.BreakoutConferenceInputState$DefaultConstructor=k;f.BreakoutConferenceOutputState$DefaultConstructor=l;f.serializeBreakoutSessionAnnouncementInput=m;f.serializeBreakoutStartInput=n;f.serializeBreakoutInputState=o;f.serializeBreakoutRoom=p;f.serializeMainRoom=q;f.serializeBreakoutSession=r;f.serializeBreakoutOutputState=s;f.serializeBreakoutConferenceInputState=t;f.serializeBreakoutConferenceOutputState=u;f.deserializeBreakoutSessionAnnouncementInput=v;f.deserializeBreakoutStartInput=w;f.deserializeBreakoutInputState=x;f.deserializeBreakoutRoom=y;f.deserializeMainRoom=z;f.deserializeBreakoutSession=A;f.deserializeBreakoutOutputState=B;f.deserializeBreakoutConferenceInputState=C;f.deserializeBreakoutConferenceOutputState=D}),66);
__d("CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{knownParticipantStreams:{}}}function c(){return{latestAckedStreams:{}}}function d(a,c){c.writeStructBegin("CanYouSeeMyScreenParticipantInputState");c.writeFieldBegin({fname:"knownParticipantStreams",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.knownParticipantStreams!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(a.knownParticipantStreams).length});a=Object.entries(a.knownParticipantStreams);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:e.size});for(var f=e,e=Array.isArray(f),h=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(i).length});h=Object.entries(i);for(e=0;e<h.length;e++){f=h[e];a=f[0];d=f[1];c.writeString(a);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:d.size});for(i=d,f=Array.isArray(i),a=0,i=f?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=i.length)break;d=i[a++]}else{a=i.next();if(a.done)break;d=a.value}d=d;c.writeString(d)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("CanYouSeeMyScreenParticipantOutputState");c.writeFieldBegin({fname:"latestAckedStreams",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.latestAckedStreams!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(a.latestAckedStreams).length});a=Object.entries(a.latestAckedStreams);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:e.size});for(var f=e,e=Array.isArray(f),h=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(i).length});h=Object.entries(i);for(e=0;e<h.length;e++){f=h[e];a=f[0];d=f[1];c.writeString(a);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:d.size});for(i=d,f=Array.isArray(i),a=0,i=f?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=i.length)break;d=i[a++]}else{a=i.next();if(a.done)break;d=a.value}d=d;c.writeString(d)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.knownParticipantStreams={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=new Set(),j=a.readSetBegin();for(var k=0;k<j.size;k++){var l=a.readString();i.add(l)}c.knownParticipantStreams[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.knownParticipantStreams===void 0&&(c.knownParticipantStreams={});return c}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.latestAckedStreams={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=new Set(),j=a.readSetBegin();for(var k=0;k<j.size;k++){var l=a.readString();i.add(l)}c.latestAckedStreams[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.latestAckedStreams===void 0&&(c.latestAckedStreams={});return c}f.CanYouSeeMyScreenParticipantInputState$DefaultConstructor=a;f.CanYouSeeMyScreenParticipantOutputState$DefaultConstructor=c;f.serializeCanYouSeeMyScreenParticipantInputState=d;f.serializeCanYouSeeMyScreenParticipantOutputState=e;f.deserializeCanYouSeeMyScreenParticipantInputState=h;f.deserializeCanYouSeeMyScreenParticipantOutputState=i}),66);
__d("CompanionStateCompanionStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{userFBID:"",mediaEndpointId:""}}function a(){return{companionEndpoint:h(),isCompanionJoin:!1}}function c(){return{companionEndpoints:[],primaryParticipantToCompanions:{}}}function d(){return{companionEndpoints:[],primaryParticipantToCompanions:{}}}function i(a,c){c.writeStructBegin("CompanionEndpoint");c.writeFieldBegin({fname:"userFBID",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.userFBID!=null)c.writeString(a.userFBID);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaEndpointId",ftype:g.STRING,fid:2});if(a.mediaEndpointId!=null)c.writeString(a.mediaEndpointId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("CompanionInputState");c.writeFieldBegin({fname:"companionEndpoint",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.companionEndpoint!=null)i(a.companionEndpoint,c);else{var d=h();i(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"isCompanionJoin",ftype:g.BOOL,fid:2});if(a.isCompanionJoin!=null)c.writeBool(a.isCompanionJoin);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.primaryParticipantId!=null&&(c.writeFieldBegin({fname:"primaryParticipantId",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.primaryParticipantId),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("CompanionOutputState");c.writeFieldBegin({fname:"companionEndpoints",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.companionEndpoints!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.companionEndpoints.length});for(var d=a.companionEndpoints,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;i(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];i(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"primaryParticipantToCompanions",ftype:g.MAP,fid:2});if(a.primaryParticipantToCompanions!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.LIST,size:Object.keys(a.primaryParticipantToCompanions).length});d=Object.entries(a.primaryParticipantToCompanions);for(e=0;e<d.length;e++){f=d[e];h=f[0];f=f[1];c.writeString(h);c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(var h=f,f=Array.isArray(h),j=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(f){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;i(k,c)}c.writeListEnd()}c.writeMapEnd()}else{k={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.LIST,size:Object.keys(k).length});j=Object.entries(k);for(f=0;f<j.length;f++){h=j[f];d=h[0];e=h[1];c.writeString(d);c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:e.length});for(k=e,h=Array.isArray(k),d=0,k=h?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(d>=k.length)break;e=k[d++]}else{d=k.next();if(d.done)break;e=d.value}e=e;i(e,c)}c.writeListEnd()}c.writeMapEnd()}c.writeFieldEnd();a.self!=null&&(c.writeFieldBegin({fname:"self",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),i(a.self,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("CompanionConferenceOutputState");c.writeFieldBegin({fname:"companionEndpoints",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.companionEndpoints!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.companionEndpoints.length});for(var d=a.companionEndpoints,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;i(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];i(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"primaryParticipantToCompanions",ftype:g.MAP,fid:2});if(a.primaryParticipantToCompanions!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.LIST,size:Object.keys(a.primaryParticipantToCompanions).length});d=Object.entries(a.primaryParticipantToCompanions);for(e=0;e<d.length;e++){f=d[e];h=f[0];a=f[1];c.writeString(h);c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.length});for(f=a,h=Array.isArray(f),a=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(a>=f.length)break;j=f[a++]}else{a=f.next();if(a.done)break;j=a.value}j=j;i(j,c)}c.writeListEnd()}c.writeMapEnd()}else{j={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.LIST,size:Object.keys(j).length});a=Object.entries(j);for(h=0;h<a.length;h++){f=a[h];d=f[0];e=f[1];c.writeString(d);c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:e.length});for(j=e,f=Array.isArray(j),d=0,j=f?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(d>=j.length)break;e=j[d++]}else{d=j.next();if(d.done)break;e=d.value}e=e;i(e,c)}c.writeListEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.userFBID=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.mediaEndpointId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userFBID===void 0&&(c.userFBID="");c.mediaEndpointId===void 0&&(c.mediaEndpointId="");return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.companionEndpoint=l(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.isCompanionJoin=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.primaryParticipantId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.companionEndpoint===void 0&&(c.companionEndpoint=h());c.isCompanionJoin===void 0&&(c.isCompanionJoin=!1);return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.companionEndpoints=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=l(a);c.companionEndpoints.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).MAP){c.primaryParticipantToCompanions={};h=a.readMapBegin();for(f=0;f<h.size;f++){d=a.readString();var i=[],j=a.readListBegin();for(var k=0;k<j.size;k++){var m=l(a);i.push(m)}c.primaryParticipantToCompanions[d]=i}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.self=l(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.companionEndpoints===void 0&&(c.companionEndpoints=[]);c.primaryParticipantToCompanions===void 0&&(c.primaryParticipantToCompanions={});return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.companionEndpoints=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=l(a);c.companionEndpoints.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).MAP){c.primaryParticipantToCompanions={};h=a.readMapBegin();for(f=0;f<h.size;f++){d=a.readString();var i=[],j=a.readListBegin();for(var k=0;k<j.size;k++){var m=l(a);i.push(m)}c.primaryParticipantToCompanions[d]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.companionEndpoints===void 0&&(c.companionEndpoints=[]);c.primaryParticipantToCompanions===void 0&&(c.primaryParticipantToCompanions={});return c}f.CompanionEndpoint$DefaultConstructor=h;f.CompanionInputState$DefaultConstructor=a;f.CompanionOutputState$DefaultConstructor=c;f.CompanionConferenceOutputState$DefaultConstructor=d;f.serializeCompanionEndpoint=i;f.serializeCompanionInputState=e;f.serializeCompanionOutputState=j;f.serializeCompanionConferenceOutputState=k;f.deserializeCompanionEndpoint=l;f.deserializeCompanionInputState=m;f.deserializeCompanionOutputState=n;f.deserializeCompanionConferenceOutputState=o}),66);
__d("ConfigEngineStateConfigEngineStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({ERROR:0,NONE:1,LIGHT:2,MODERATE:3,SEVERE:4,CRITICAL:5,EMERGENCY:6,SHUTDOWN:7});c=b("$InternalEnum")({UNKNOWN:0,DEFAULT:1,SCREEN_SHARE:2});d=b("$InternalEnum")({UNKNOWN:0,CELL:1,WIFI:2});e.exports={DeviceStatsTriggerLevel:a,NetworkConnectionType:d,RenderedStreamType:c}}),null);
__d("RtcClientRuleFromServerToClientSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{conditionals:[],effects:[],id:0}}function c(){return{type:0,ruleOperator:0,value:0}}function d(){return{overlayConfigId:0,value:0}}function e(a,c){c.writeStructBegin("ClientRuleFromServerToClient");c.writeFieldBegin({fname:"conditionals",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.conditionals!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.conditionals.length});for(var d=a.conditionals,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(e){if(f>=d.length)break;j=d[f++]}else{f=d.next();if(f.done)break;j=f.value}j=j;h(j,c)}c.writeListEnd()}else{j=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:j.length});for(f=0;f<j.length;f++){e=j[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"effects",ftype:g.LIST,fid:2});if(a.effects!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.effects.length});for(d=a.effects,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;j=d[f++]}else{f=d.next();if(f.done)break;j=f.value}j=j;i(j,c)}c.writeListEnd()}else{j=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:j.length});for(f=0;f<j.length;f++){e=j[f];i(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"id",ftype:g.I32,fid:3});if(a.id!=null)c.writeI32(a.id);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ClientConditionalDeserializationSafe");c.writeFieldBegin({fname:"type",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.type!=null)c.writeI32(a.type);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"ruleOperator",ftype:g.I32,fid:2});if(a.ruleOperator!=null)c.writeI32(a.ruleOperator);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"value",ftype:g.I32,fid:3});if(a.value!=null)c.writeI32(a.value);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("ClientEffectDeserializationSafe");c.writeFieldBegin({fname:"overlayConfigId",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.overlayConfigId!=null)c.writeI32(a.overlayConfigId);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"value",ftype:g.I32,fid:2});if(a.value!=null)c.writeI32(a.value);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.conditionals=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=k(a);c.conditionals.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.effects=[];h=a.readListBegin();for(f=0;f<h.size;f++){d=l(a);c.effects.push(d)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.id=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conditionals===void 0&&(c.conditionals=[]);c.effects===void 0&&(c.effects=[]);c.id===void 0&&(c.id=0);return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.type=a.readI32():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.ruleOperator=a.readI32():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.value=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.type===void 0&&(c.type=0);c.ruleOperator===void 0&&(c.ruleOperator=0);c.value===void 0&&(c.value=0);return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.overlayConfigId=a.readI32():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.value=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.overlayConfigId===void 0&&(c.overlayConfigId=0);c.value===void 0&&(c.value=0);return c}f.ClientRuleFromServerToClient$DefaultConstructor=a;f.ClientConditionalDeserializationSafe$DefaultConstructor=c;f.ClientEffectDeserializationSafe$DefaultConstructor=d;f.serializeClientRuleFromServerToClient=e;f.serializeClientConditionalDeserializationSafe=h;f.serializeClientEffectDeserializationSafe=i;f.deserializeClientRuleFromServerToClient=j;f.deserializeClientConditionalDeserializationSafe=k;f.deserializeClientEffectDeserializationSafe=l}),66);
__d("RtcOverlayConfigServerLayerSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{values:{}}}function c(a,c){c.writeStructBegin("OverlayConfigServerLayer");c.writeFieldBegin({fname:"values",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.values!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.I32,size:Object.keys(a.values).length});a=Object.entries(a.values);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeI32(Number(f));c.writeI32(e)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.I32,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeI32(Number(f));c.writeI32(d)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.values={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readI32(),i=a.readI32();c.values[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.values===void 0&&(c.values={});return c}f.OverlayConfigServerLayer$DefaultConstructor=a;f.serializeOverlayConfigServerLayer=c;f.deserializeOverlayConfigServerLayer=d}),66);
__d("ConfigEngineStateConfigEngineStateSerializers",["ConfigEngineStateConfigEngineStateTypes","RtcClientRuleFromServerToClientSerializers","RtcOverlayConfigServerLayerSerializers","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{}}function c(){return{overlayConfigServerLayer:b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor()}}function d(){return{}}function e(){return{}}function h(){return{userId:"",streamId:"",streamType:0,renderWidth:0,renderHeight:0}}function i(){return{}}function j(a,c){c.writeStructBegin("ConfigEngineClientInputState");a.deviceStatsTriggers!=null&&(c.writeFieldBegin({fname:"deviceStatsTriggers",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),m(a.deviceStatsTriggers,c),c.writeFieldEnd());a.deviceStats!=null&&(c.writeFieldBegin({fname:"deviceStats",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),l(a.deviceStats,c),c.writeFieldEnd());if(a.renderResolutionMap!=null){c.writeFieldBegin({fname:"renderResolutionMap",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:3});c.writeMapBegin({ktype:g.STRING,vtype:g.MAP,size:Object.keys(a.renderResolutionMap).length});var d=Object.entries(a.renderResolutionMap);for(var e=0;e<d.length;e++){var f=d[e],h=f[0];f=f[1];c.writeString(h);c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:Object.keys(f).length});h=Object.entries(f);for(f=0;f<h.length;f++){var i=h[f],j=i[0];i=i[1];c.writeI32((j=Number(j))!=null?j:0);n(i,c)}c.writeMapEnd()}c.writeMapEnd();c.writeFieldEnd()}a.deviceHardwareInfo!=null&&(c.writeFieldBegin({fname:"deviceHardwareInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:4}),o(a.deviceHardwareInfo,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("ConfigEngineClientOutputState");c.writeFieldBegin({fname:"overlayConfigServerLayer",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2});if(a.overlayConfigServerLayer!=null)b("RtcOverlayConfigServerLayerSerializers").serializeOverlayConfigServerLayer(a.overlayConfigServerLayer,c);else{var d=b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor();b("RtcOverlayConfigServerLayerSerializers").serializeOverlayConfigServerLayer(d,c)}c.writeFieldEnd();if(a.clientRules!=null){c.writeFieldBegin({fname:"clientRules",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:3});c.writeListBegin({etype:g.STRUCT,size:a.clientRules.length});for(var d=a.clientRules,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;b("RtcClientRuleFromServerToClientSerializers").serializeClientRuleFromServerToClient(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("DeviceStats");a.cpuPercentage!=null&&(c.writeFieldBegin({fname:"cpuPercentage",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1}),c.writeI32(a.cpuPercentage),c.writeFieldEnd());a.batteryLeftPercentage!=null&&(c.writeFieldBegin({fname:"batteryLeftPercentage",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2}),c.writeI32(a.batteryLeftPercentage),c.writeFieldEnd());a.thermalStatusCode!=null&&(c.writeFieldBegin({fname:"thermalStatusCode",ftype:(g||(g=b("ThriftTypes"))).I32,fid:3}),c.writeI32(a.thermalStatusCode),c.writeFieldEnd());if(a.connectionType!=null){c.writeFieldBegin({fname:"connectionType",ftype:(g||(g=b("ThriftTypes"))).I32,fid:4});c.writeI32((a=a.connectionType)!=null?a:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("DeviceStatsTriggers");if(a.temperatureStatus!=null){var d;c.writeFieldBegin({fname:"temperatureStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});c.writeI32((d=a.temperatureStatus)!=null?d:0);c.writeFieldEnd()}if(a.batteryStatus!=null){c.writeFieldBegin({fname:"batteryStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.batteryStatus)!=null?d:0);c.writeFieldEnd()}if(a.cpuStatus!=null){c.writeFieldBegin({fname:"cpuStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:3});c.writeI32((d=a.cpuStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("ResolutionData");c.writeFieldBegin({fname:"userId",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.userId!=null)c.writeString(a.userId);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"streamId",ftype:g.STRING,fid:2});if(a.streamId!=null)c.writeString(a.streamId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"streamType",ftype:g.I32,fid:3});if(a.streamType!=null)c.writeI32(a.streamType);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"renderWidth",ftype:g.I32,fid:4});if(a.renderWidth!=null)c.writeI32(a.renderWidth);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"renderHeight",ftype:g.I32,fid:5});if(a.renderHeight!=null)c.writeI32(a.renderHeight);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("DeviceHardwareInfo"),a.numCores!=null&&(c.writeFieldBegin({fname:"numCores",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1}),c.writeI32(a.numCores),c.writeFieldEnd()),a.RAM!=null&&(c.writeFieldBegin({fname:"RAM",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2}),c.writeI32(a.RAM),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.deviceStatsTriggers=s(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.deviceStats=r(a):a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).MAP){c.renderResolutionMap={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i={},j=a.readMapBegin();for(var k=0;k<j.size;k++){var l=b("ConfigEngineStateConfigEngineStateTypes").RenderedStreamType.cast(a.readI32()),m=t(a);l!=null&&(i[l]=m)}c.renderResolutionMap[h]=i}}else a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.deviceHardwareInfo=u(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.overlayConfigServerLayer=b("RtcOverlayConfigServerLayerSerializers").deserializeOverlayConfigServerLayer(a):a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.clientRules=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=b("RtcClientRuleFromServerToClientSerializers").deserializeClientRuleFromServerToClient(a);c.clientRules.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.overlayConfigServerLayer===void 0&&(c.overlayConfigServerLayer=b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor());return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.cpuPercentage=a.readI32():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.batteryLeftPercentage=a.readI32():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.thermalStatusCode=a.readI32():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.connectionType=b("ConfigEngineStateConfigEngineStateTypes").NetworkConnectionType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.temperatureStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.batteryStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.cpuStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.userId=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.streamId=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.streamType=a.readI32():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.renderWidth=a.readI32():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.renderHeight=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="");c.streamId===void 0&&(c.streamId="");c.streamType===void 0&&(c.streamType=0);c.renderWidth===void 0&&(c.renderWidth=0);c.renderHeight===void 0&&(c.renderHeight=0);return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.numCores=a.readI32():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.RAM=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}f.ConfigEngineClientInputState$DefaultConstructor=a;f.ConfigEngineClientOutputState$DefaultConstructor=c;f.DeviceStats$DefaultConstructor=d;f.DeviceStatsTriggers$DefaultConstructor=e;f.ResolutionData$DefaultConstructor=h;f.DeviceHardwareInfo$DefaultConstructor=i;f.serializeConfigEngineClientInputState=j;f.serializeConfigEngineClientOutputState=k;f.serializeDeviceStats=l;f.serializeDeviceStatsTriggers=m;f.serializeResolutionData=n;f.serializeDeviceHardwareInfo=o;f.deserializeConfigEngineClientInputState=p;f.deserializeConfigEngineClientOutputState=q;f.deserializeDeviceStats=r;f.deserializeDeviceStatsTriggers=s;f.deserializeResolutionData=t;f.deserializeDeviceHardwareInfo=u}),66);
__d("CoplayStateCoplayStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({STARTED:1,ENDED:2,FORCE_END:3});c=b("$InternalEnum")({PENDING:1,RUNNING:2,CONCLUDED:3,ABANDONED:4});d=b("$InternalEnum")({UNKNOWN:0,STATUS_CHANGE:1});e.exports={CoplayConferenceInputEvent:d,CoplayMatchEvent:a,CoplayMatchStatus:c}}),null);
__d("CoplayStateCoplayStateSerializers",["CoplayStateCoplayStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{}}function c(){return{matchId:"0",event:b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(0)}}function d(){return{userId:"0"}}function e(){return{matchId:"0",appId:"0",matchStatus:b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(0),participants:[],creatorId:"0"}}function h(){return{}}function i(){return{previousMatchIds:[]}}function j(a,c){c.writeStructBegin("CoplayMatchInputState");a.matchId!=null&&(c.writeFieldBegin({fname:"matchId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.matchId)),c.writeFieldEnd());if(a.event!=null){var d;c.writeFieldBegin({fname:"event",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.event)!=null?d:0);c.writeFieldEnd()}a.isEligible!=null&&(c.writeFieldBegin({fname:"isEligible",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:3}),c.writeBool(a.isEligible),c.writeFieldEnd());a.gameId!=null&&(c.writeFieldBegin({fname:"gameId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:4}),c.writeI64(b("jsbi").BigInt(a.gameId)),c.writeFieldEnd());a.creatorId!=null&&(c.writeFieldBegin({fname:"creatorId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:5}),c.writeI64(b("jsbi").BigInt(a.creatorId)),c.writeFieldEnd());if(a.matchStatus!=null){c.writeFieldBegin({fname:"matchStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:6});c.writeI32((d=a.matchStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("CoplayConferenceInputState");c.writeFieldBegin({fname:"matchId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.matchId!=null)c.writeI64(b("jsbi").BigInt(a.matchId));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"event",ftype:g.I32,fid:2});if(a.event!=null){c.writeI32((d=a.event)!=null?d:0)}else{a=b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("CoplayParticipantInfo");c.writeFieldBegin({fname:"userId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.userId!=null)c.writeI64(b("jsbi").BigInt(a.userId));else{a="0";c.writeI64(b("jsbi").BigInt(a))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("CoplayMatchState");c.writeFieldBegin({fname:"matchId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.matchId!=null)c.writeI64(b("jsbi").BigInt(a.matchId));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"appId",ftype:g.I64,fid:2});if(a.appId!=null)c.writeI64(b("jsbi").BigInt(a.appId));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"matchStatus",ftype:g.I32,fid:3});if(a.matchStatus!=null){c.writeI32((d=a.matchStatus)!=null?d:0)}else{d=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"participants",ftype:g.LIST,fid:4});if(a.participants!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.participants.length});for(var d=a.participants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;l(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];l(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"creatorId",ftype:g.I64,fid:5});if(a.creatorId!=null)c.writeI64(b("jsbi").BigInt(a.creatorId));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("CoplayOutputState");a.matchState!=null&&(c.writeFieldBegin({fname:"matchState",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),m(a.matchState,c),c.writeFieldEnd());if(a.eligibleParticipants!=null){c.writeFieldBegin({fname:"eligibleParticipants",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:2});c.writeListBegin({etype:g.STRING,size:a.eligibleParticipants.length});for(var a=a.eligibleParticipants,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("CoplayConferenceOutputState");a.matchState!=null&&(c.writeFieldBegin({fname:"matchState",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),m(a.matchState,c),c.writeFieldEnd());c.writeFieldBegin({fname:"previousMatchIds",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:2});if(a.previousMatchIds!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I64,size:a.previousMatchIds.length});for(var a=a.previousMatchIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I64,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.event=b("CoplayStateCoplayStateTypes").CoplayMatchEvent.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.isEligible=a.readBool():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I64?c.gameId=a.readI64().toString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I64?c.creatorId=a.readI64().toString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I32?c.matchStatus=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.event=b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.matchId===void 0&&(c.matchId="0");c.event===void 0&&(c.event=b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(0));return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.userId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="0");return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.appId=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.matchStatus=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(a.readI32()):a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=r(a);c.participants.push(h)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I64?c.creatorId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.matchId===void 0&&(c.matchId="0");c.appId===void 0&&(c.appId="0");c.matchStatus===void 0&&(c.matchStatus=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(0));c.participants===void 0&&(c.participants=[]);c.creatorId===void 0&&(c.creatorId="0");return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.matchState=s(a):a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.eligibleParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.eligibleParticipants.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.matchState=s(a):a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.previousMatchIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI64().toString();c.previousMatchIds.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.previousMatchIds===void 0&&(c.previousMatchIds=[]);return c}f.CoplayMatchInputState$DefaultConstructor=a;f.CoplayConferenceInputState$DefaultConstructor=c;f.CoplayParticipantInfo$DefaultConstructor=d;f.CoplayMatchState$DefaultConstructor=e;f.CoplayOutputState$DefaultConstructor=h;f.CoplayConferenceOutputState$DefaultConstructor=i;f.serializeCoplayMatchInputState=j;f.serializeCoplayConferenceInputState=k;f.serializeCoplayParticipantInfo=l;f.serializeCoplayMatchState=m;f.serializeCoplayOutputState=n;f.serializeCoplayConferenceOutputState=o;f.deserializeCoplayMatchInputState=p;f.deserializeCoplayConferenceInputState=q;f.deserializeCoplayParticipantInfo=r;f.deserializeCoplayMatchState=s;f.deserializeCoplayOutputState=t;f.deserializeCoplayConferenceOutputState=u}),66);
__d("CountdownTimerStateCountdownTimerStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:1,PAUSE:2,END:3,CANCEL:4,PING:5});c=b("$InternalEnum")({UNKNOWN:0,STARTED:1,PAUSED:2,ENDED:3,CANCELLED:4});e.exports={CountdownTimerActionEvent:a,CountdownTimerStatus:c}}),null);
__d("CountdownTimerStateCountdownTimerStateSerializers",["CountdownTimerStateCountdownTimerStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{uuid:"",last_action_timestamp:"0",total_duration:"0",initiator:i(),status:b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(0),remaining_duration:"0"}}function i(){return{uid:""}}function a(){return{uuid:"",total_duration:"0",initiator:i(),action:b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(0),action_timestamp:"0",remaining_duration:"0"}}function c(){return{timer:h(),is_countdown_timer_feature_enabled:!1,participant_action_capabilities:new Set()}}function d(){return{current_timer:h()}}function e(){return{current_timer:h(),is_countdown_timer_feature_enabled:!1}}function j(a,c){c.writeStructBegin("CountdownTimer");c.writeFieldBegin({fname:"uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.uuid!=null)c.writeString(a.uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"last_action_timestamp",ftype:g.I64,fid:2});if(a.last_action_timestamp!=null)c.writeI64(b("jsbi").BigInt(a.last_action_timestamp));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"total_duration",ftype:g.I64,fid:3});if(a.total_duration!=null)c.writeI64(b("jsbi").BigInt(a.total_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"initiator",ftype:g.STRUCT,fid:4});if(a.initiator!=null)k(a.initiator,c);else{d=i();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"status",ftype:g.I32,fid:5});if(a.status!=null){c.writeI32((d=a.status)!=null?d:0)}else{d=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"remaining_duration",ftype:g.I64,fid:6});if(a.remaining_duration!=null)c.writeI64(b("jsbi").BigInt(a.remaining_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("InitiatorInfo");c.writeFieldBegin({fname:"uid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.uid!=null)c.writeString(a.uid);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("CountdownTimerInputState");c.writeFieldBegin({fname:"uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.uuid!=null)c.writeString(a.uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"total_duration",ftype:g.I64,fid:2});if(a.total_duration!=null)c.writeI64(b("jsbi").BigInt(a.total_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"initiator",ftype:g.STRUCT,fid:3});if(a.initiator!=null)k(a.initiator,c);else{d=i();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"action",ftype:g.I32,fid:4});if(a.action!=null){c.writeI32((d=a.action)!=null?d:0)}else{d=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_timestamp",ftype:g.I64,fid:5});if(a.action_timestamp!=null)c.writeI64(b("jsbi").BigInt(a.action_timestamp));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"remaining_duration",ftype:g.I64,fid:6});if(a.remaining_duration!=null)c.writeI64(b("jsbi").BigInt(a.remaining_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("CountdownTimerOutputState");c.writeFieldBegin({fname:"timer",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.timer!=null)j(a.timer,c);else{var d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_countdown_timer_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_countdown_timer_feature_enabled!=null)c.writeBool(a.is_countdown_timer_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_action_capabilities",ftype:g.SET,fid:3});if(a.participant_action_capabilities!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.participant_action_capabilities.size});for(var d=a.participant_action_capabilities,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:f.size});for(e=f,a=Array.isArray(e),d=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("E2EECountdownTimerParticipantPayload");c.writeFieldBegin({fname:"current_timer",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.current_timer!=null)j(a.current_timer,c);else{a=h();j(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("CountdownTimerConferenceOutputState");c.writeFieldBegin({fname:"current_timer",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.current_timer!=null)j(a.current_timer,c);else{var d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_countdown_timer_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_countdown_timer_feature_enabled!=null)c.writeBool(a.is_countdown_timer_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();if(a.moderator_uids_if_empty_means_everyone_is_moderator!=null){c.writeFieldBegin({fname:"moderator_uids_if_empty_means_everyone_is_moderator",ftype:(g||(g=b("ThriftTypes"))).SET,fid:3});c.writeSetBegin({etype:g.STRING,size:a.moderator_uids_if_empty_means_everyone_is_moderator.size});for(var d=a.moderator_uids_if_empty_means_everyone_is_moderator,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeSetEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.uuid=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.last_action_timestamp=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.total_duration=a.readI64().toString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.initiator=q(a):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.status=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I64?c.remaining_duration=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uuid===void 0&&(c.uuid="");c.last_action_timestamp===void 0&&(c.last_action_timestamp="0");c.total_duration===void 0&&(c.total_duration="0");c.initiator===void 0&&(c.initiator=i());c.status===void 0&&(c.status=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(0));c.remaining_duration===void 0&&(c.remaining_duration="0");return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.uid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uid===void 0&&(c.uid="");return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.uuid=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.total_duration=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.initiator=q(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.action=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(a.readI32()):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I64?c.action_timestamp=a.readI64().toString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I64?c.remaining_duration=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uuid===void 0&&(c.uuid="");c.total_duration===void 0&&(c.total_duration="0");c.initiator===void 0&&(c.initiator=i());c.action===void 0&&(c.action=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(0));c.action_timestamp===void 0&&(c.action_timestamp="0");c.remaining_duration===void 0&&(c.remaining_duration="0");return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.timer=p(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_countdown_timer_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).SET){c.participant_action_capabilities=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var i=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(a.readI32());c.participant_action_capabilities.add(i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.timer===void 0&&(c.timer=h());c.is_countdown_timer_feature_enabled===void 0&&(c.is_countdown_timer_feature_enabled=!1);c.participant_action_capabilities===void 0&&(c.participant_action_capabilities=new Set());return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.current_timer=p(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.current_timer===void 0&&(c.current_timer=h());return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.current_timer=p(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_countdown_timer_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).SET){c.moderator_uids_if_empty_means_everyone_is_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var i=a.readString();c.moderator_uids_if_empty_means_everyone_is_moderator.add(i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.current_timer===void 0&&(c.current_timer=h());c.is_countdown_timer_feature_enabled===void 0&&(c.is_countdown_timer_feature_enabled=!1);return c}f.CountdownTimer$DefaultConstructor=h;f.InitiatorInfo$DefaultConstructor=i;f.CountdownTimerInputState$DefaultConstructor=a;f.CountdownTimerOutputState$DefaultConstructor=c;f.E2EECountdownTimerParticipantPayload$DefaultConstructor=d;f.CountdownTimerConferenceOutputState$DefaultConstructor=e;f.serializeCountdownTimer=j;f.serializeInitiatorInfo=k;f.serializeCountdownTimerInputState=l;f.serializeCountdownTimerOutputState=m;f.serializeE2EECountdownTimerParticipantPayload=n;f.serializeCountdownTimerConferenceOutputState=o;f.deserializeCountdownTimer=p;f.deserializeInitiatorInfo=q;f.deserializeCountdownTimerInputState=r;f.deserializeCountdownTimerOutputState=s;f.deserializeE2EECountdownTimerParticipantPayload=t;f.deserializeCountdownTimerConferenceOutputState=u}),66);
__d("CoviewStateCoviewStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({PDF:0,IMAGE:1,LINK:2});e.exports={ArtifactType:a}}),null);
__d("CoviewStateCoviewStateSerializers",["CoviewStateCoviewStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{artifact_id:"",artifact_type:b("CoviewStateCoviewStateTypes").ArtifactType.cast(0),opener_id:""}}function c(){return{open_artifacts:[]}}function d(){return{open_artifacts:[],last_updated_time_ms:"0"}}function e(){return{open_artifacts:[],last_updated_time_ms:"0"}}function h(a,c){c.writeStructBegin("OpenArtifact");c.writeFieldBegin({fname:"artifact_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.artifact_id!=null)c.writeString(a.artifact_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"artifact_type",ftype:g.I32,fid:2});if(a.artifact_type!=null){c.writeI32((d=a.artifact_type)!=null?d:0)}else{d=b("CoviewStateCoviewStateTypes").ArtifactType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.page_number!=null&&(c.writeFieldBegin({fname:"page_number",ftype:(g||(g=b("ThriftTypes"))).I32,fid:3}),c.writeI32(a.page_number),c.writeFieldEnd());c.writeFieldBegin({fname:"opener_id",ftype:g.STRING,fid:4});if(a.opener_id!=null)c.writeString(a.opener_id);else{d="";c.writeString(d)}c.writeFieldEnd();a.unlock!=null&&(c.writeFieldBegin({fname:"unlock",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:5}),c.writeBool(a.unlock),c.writeFieldEnd());a.last_actor_id!=null&&(c.writeFieldBegin({fname:"last_actor_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.last_actor_id),c.writeFieldEnd());a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:7}),c.writeString(a.session_id),c.writeFieldEnd());a.message_id!=null&&(c.writeFieldBegin({fname:"message_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:8}),c.writeString(a.message_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("CoviewInputState");c.writeFieldBegin({fname:"open_artifacts",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.open_artifacts.length});for(var a=a.open_artifacts,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];h(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("CoviewOutputState");c.writeFieldBegin({fname:"open_artifacts",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.open_artifacts.length});for(var d=a.open_artifacts,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;h(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"last_updated_time_ms",ftype:g.I64,fid:2});if(a.last_updated_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.last_updated_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();a.is_feature_enabled!=null&&(c.writeFieldBegin({fname:"is_feature_enabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:3}),c.writeBool(a.is_feature_enabled),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("CoviewConferenceOutputState");c.writeFieldBegin({fname:"open_artifacts",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.open_artifacts.length});for(var d=a.open_artifacts,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;h(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"last_updated_time_ms",ftype:g.I64,fid:2});if(a.last_updated_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.last_updated_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();a.is_feature_enabled!=null&&(c.writeFieldBegin({fname:"is_feature_enabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:3}),c.writeBool(a.is_feature_enabled),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.artifact_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.artifact_type=b("CoviewStateCoviewStateTypes").ArtifactType.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.page_number=a.readI32():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.opener_id=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).BOOL?c.unlock=a.readBool():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.last_actor_id=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRING?c.session_id=a.readString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).STRING?c.message_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.artifact_id===void 0&&(c.artifact_id="");c.artifact_type===void 0&&(c.artifact_type=b("CoviewStateCoviewStateTypes").ArtifactType.cast(0));c.opener_id===void 0&&(c.opener_id="");return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=l(a);c.open_artifacts.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts===void 0&&(c.open_artifacts=[]);return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=l(a);c.open_artifacts.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.last_updated_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts===void 0&&(c.open_artifacts=[]);c.last_updated_time_ms===void 0&&(c.last_updated_time_ms="0");return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=l(a);c.open_artifacts.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.last_updated_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts===void 0&&(c.open_artifacts=[]);c.last_updated_time_ms===void 0&&(c.last_updated_time_ms="0");return c}f.OpenArtifact$DefaultConstructor=a;f.CoviewInputState$DefaultConstructor=c;f.CoviewOutputState$DefaultConstructor=d;f.CoviewConferenceOutputState$DefaultConstructor=e;f.serializeOpenArtifact=h;f.serializeCoviewInputState=i;f.serializeCoviewOutputState=j;f.serializeCoviewConferenceOutputState=k;f.deserializeOpenArtifact=l;f.deserializeCoviewInputState=m;f.deserializeCoviewOutputState=n;f.deserializeCoviewConferenceOutputState=o}),66);
__d("DecryptedE2eeDataSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{senderId:"",data:Uint8Array.of()}}function c(a,c){c.writeStructBegin("DecryptedE2eeData");c.writeFieldBegin({fname:"senderId",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.senderId!=null)c.writeString(a.senderId);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"data",ftype:g.STRING,fid:2});if(a.data!=null)c.writeBinary(a.data);else{d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.senderId=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.senderId===void 0&&(c.senderId="");c.data===void 0&&(c.data=Uint8Array.of());return c}f.DecryptedE2eeData$DefaultConstructor=a;f.serializeDecryptedE2eeData=c;f.deserializeDecryptedE2eeData=d}),66);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("E2eeStateSerializers",["E2eeStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{min:0,max:0}}function c(){return{supportedVersions:[]}}function d(){return{employedVersion:0}}function h(){return{mode:0}}function e(){return{preKeyBundle:Uint8Array.of(),identityKeyInfo:h(),deviceId:0}}function i(){return{epochId:"0",isKeyDistributor:!1,epochInfo:j()}}function j(){return{currentEpochId:"0",lastLeaveEpochId:"0",lastJoinEpochId:"0"}}function k(){return{supportedVersions:[]}}function l(){return{keyNegotiationMode:0,allowOptionalGfd:!1}}function m(){return{keyNegotiationMode:0,removeFrameDecryptorDelayMs:0,keepFrameDecryptors:!1,senderKeyUpdateDelayMs:0,keyTtlMs:0,ratchetSpace:0,keyOverMediaDataChannelNumSends:0,keyOverMediaDataChannelRetryDelayMs:0,enableH264V2:!1,requiredCapabilities:[],disableE2eeAckThroughSignalingChannel:!1,signalingKeyMessageProtocol:b("E2eeStateTypes").SignalingKeyMessageProtocolEnum.cast(0)}}function n(){return{sessionKeyProtocolInfo:i(),populateParticipantHash:!1,enableParticipantVerification:!1}}function o(){return{preKeyBundle:Uint8Array.of(),cipherSuites:[],protocolVersion:k(),config:l(),identityKeyInfo:h(),deviceId:0,e2eeClientStateCapabilities:{},supportedE2eeKeyNegotiationProtocols:[]}}function p(){return{cipherSuites:[],protocolVersion:k(),config:m(),endpointInfos:{},e2eeServerStateCapabilities:{},negotiatedE2eeKeyNegotiationProtocol:b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(0),serverInfraMandatedExpStatus:b("E2eeStateTypes").InfraMandatedExpStatus.cast(0)}}function q(a,c){c.writeStructBegin("VersionRange");c.writeFieldBegin({fname:"min",ftype:(g||(g=b("ThriftTypes"))).I16,fid:1});if(a.min!=null)c.writeI16(a.min);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"max",ftype:g.I16,fid:2});if(a.max!=null)c.writeI16(a.max);else{d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("E2eeClientStateCapability");c.writeFieldBegin({fname:"supportedVersions",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.supportedVersions!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.supportedVersions.length});for(var a=a.supportedVersions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;q(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];q(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("E2eeServerStateCapability");c.writeFieldBegin({fname:"employedVersion",ftype:(g||(g=b("ThriftTypes"))).I16,fid:1});if(a.employedVersion!=null)c.writeI16(a.employedVersion);else{a=0;c.writeI16(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("IdentityKeyInfo");c.writeFieldBegin({fname:"mode",ftype:(g||(g=b("ThriftTypes"))).I16,fid:1});if(a.mode!=null)c.writeI16(a.mode);else{a=0;c.writeI16(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("E2eeEndpointInfo");c.writeFieldBegin({fname:"preKeyBundle",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.preKeyBundle!=null)c.writeBinary(a.preKeyBundle);else{var d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"identityKeyInfo",ftype:g.STRUCT,fid:2});if(a.identityKeyInfo!=null)t(a.identityKeyInfo,c);else{d=h();t(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:g.I32,fid:3});if(a.deviceId!=null)c.writeI32(a.deviceId);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("SessionKeyProtocolInfo");c.writeFieldBegin({fname:"epochId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.epochId!=null)c.writeI64(BigInt(a.epochId));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"isKeyDistributor",ftype:g.BOOL,fid:2});if(a.isKeyDistributor!=null)c.writeBool(a.isKeyDistributor);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"epochInfo",ftype:g.STRUCT,fid:3});if(a.epochInfo!=null)w(a.epochInfo,c);else{d=j();w(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("EpochInfo");c.writeFieldBegin({fname:"currentEpochId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.currentEpochId!=null)c.writeI64(BigInt(a.currentEpochId));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"lastLeaveEpochId",ftype:g.I64,fid:2});if(a.lastLeaveEpochId!=null)c.writeI64(BigInt(a.lastLeaveEpochId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"lastJoinEpochId",ftype:g.I64,fid:3});if(a.lastJoinEpochId!=null)c.writeI64(BigInt(a.lastJoinEpochId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("E2eeProtocolVersion");c.writeFieldBegin({fname:"supportedVersions",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.supportedVersions!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.supportedVersions.length});for(var a=a.supportedVersions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;q(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];q(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("E2eeClientStateConfig");c.writeFieldBegin({fname:"keyNegotiationMode",ftype:(g||(g=b("ThriftTypes"))).I16,fid:1});if(a.keyNegotiationMode!=null)c.writeI16(a.keyNegotiationMode);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"allowOptionalGfd",ftype:g.BOOL,fid:3});if(a.allowOptionalGfd!=null)c.writeBool(a.allowOptionalGfd);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("E2eeServerStateConfig");c.writeFieldBegin({fname:"keyNegotiationMode",ftype:(g||(g=b("ThriftTypes"))).I16,fid:1});if(a.keyNegotiationMode!=null)c.writeI16(a.keyNegotiationMode);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"removeFrameDecryptorDelayMs",ftype:g.I32,fid:4});if(a.removeFrameDecryptorDelayMs!=null)c.writeI32(a.removeFrameDecryptorDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keepFrameDecryptors",ftype:g.BOOL,fid:5});if(a.keepFrameDecryptors!=null)c.writeBool(a.keepFrameDecryptors);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"senderKeyUpdateDelayMs",ftype:g.I32,fid:6});if(a.senderKeyUpdateDelayMs!=null)c.writeI32(a.senderKeyUpdateDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyTtlMs",ftype:g.I32,fid:7});if(a.keyTtlMs!=null)c.writeI32(a.keyTtlMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"ratchetSpace",ftype:g.I16,fid:8});if(a.ratchetSpace!=null)c.writeI16(a.ratchetSpace);else{d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyOverMediaDataChannelNumSends",ftype:g.I32,fid:9});if(a.keyOverMediaDataChannelNumSends!=null)c.writeI32(a.keyOverMediaDataChannelNumSends);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyOverMediaDataChannelRetryDelayMs",ftype:g.I32,fid:10});if(a.keyOverMediaDataChannelRetryDelayMs!=null)c.writeI32(a.keyOverMediaDataChannelRetryDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"enableH264V2",ftype:g.BOOL,fid:11});if(a.enableH264V2!=null)c.writeBool(a.enableH264V2);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"requiredCapabilities",ftype:g.LIST,fid:12});if(a.requiredCapabilities!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.requiredCapabilities.length});for(var d=a.requiredCapabilities,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeI32((d=e)!=null?d:0)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"disableE2eeAckThroughSignalingChannel",ftype:g.BOOL,fid:13});if(a.disableE2eeAckThroughSignalingChannel!=null)c.writeBool(a.disableE2eeAckThroughSignalingChannel);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldBegin({fname:"signalingKeyMessageProtocol",ftype:g.I32,fid:14});if(a.signalingKeyMessageProtocol!=null){c.writeI32((d=a.signalingKeyMessageProtocol)!=null?d:0)}else{h=b("E2eeStateTypes").SignalingKeyMessageProtocolEnum.cast(0);c.writeI32((f=h)!=null?f:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("KeyNegotiationProtocolConfig");c.writeFieldBegin({fname:"sessionKeyProtocolInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.sessionKeyProtocolInfo!=null)v(a.sessionKeyProtocolInfo,c);else{var d=i();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"populateParticipantHash",ftype:g.BOOL,fid:2});if(a.populateParticipantHash!=null)c.writeBool(a.populateParticipantHash);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"enableParticipantVerification",ftype:g.BOOL,fid:3});if(a.enableParticipantVerification!=null)c.writeBool(a.enableParticipantVerification);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("E2eeClientState");c.writeFieldBegin({fname:"preKeyBundle",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.preKeyBundle!=null)c.writeBinary(a.preKeyBundle);else{var d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"cipherSuites",ftype:g.LIST,fid:2});if(a.cipherSuites!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I16,size:a.cipherSuites.length});for(var d=a.cipherSuites,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;c.writeI16(i)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I16,size:i.length});for(f=0;f<i.length;f++){e=i[f];c.writeI16(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"protocolVersion",ftype:g.STRUCT,fid:3});if(a.protocolVersion!=null)x(a.protocolVersion,c);else{d=k();x(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"config",ftype:g.STRUCT,fid:4});if(a.config!=null)y(a.config,c);else{e=l();y(e,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"identityKeyInfo",ftype:g.STRUCT,fid:5});if(a.identityKeyInfo!=null)t(a.identityKeyInfo,c);else{i=h();t(i,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:g.I32,fid:6});if(a.deviceId!=null)c.writeI32(a.deviceId);else{f=0;c.writeI32(f)}c.writeFieldEnd();c.writeFieldBegin({fname:"e2eeClientStateCapabilities",ftype:g.MAP,fid:7});if(a.e2eeClientStateCapabilities!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:Object.keys(a.e2eeClientStateCapabilities).length});d=Object.entries(a.e2eeClientStateCapabilities);for(e=0;e<d.length;e++){i=d[e];f=i[0];i=i[1];c.writeI32((f=Number(f))!=null?f:0);r(i,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:Object.keys(f).length});i=Object.entries(f);for(d=0;d<i.length;d++){e=i[d];f=e[0];e=e[1];c.writeI32((f=Number(f))!=null?f:0);r(e,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"supportedE2eeKeyNegotiationProtocols",ftype:g.LIST,fid:8});if(a.supportedE2eeKeyNegotiationProtocols!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.supportedE2eeKeyNegotiationProtocols.length});for(f=a.supportedE2eeKeyNegotiationProtocols,e=Array.isArray(f),i=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(i>=f.length)break;d=f[i++]}else{i=f.next();if(i.done)break;d=i.value}a=d;c.writeI32((d=a)!=null?d:0)}c.writeListEnd()}else{a=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.length});for(d=0;d<a.length;d++){i=a[d];c.writeI32((e=i)!=null?e:0)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("E2eeServerState");c.writeFieldBegin({fname:"cipherSuites",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:2});if(a.cipherSuites!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I16,size:a.cipherSuites.length});for(var d=a.cipherSuites,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI16(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I16,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeI16(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"protocolVersion",ftype:g.STRUCT,fid:3});if(a.protocolVersion!=null)x(a.protocolVersion,c);else{d=k();x(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"config",ftype:g.STRUCT,fid:4});if(a.config!=null)z(a.config,c);else{e=m();z(e,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"endpointInfos",ftype:g.MAP,fid:5});if(a.endpointInfos!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.endpointInfos).length});f=Object.entries(a.endpointInfos);for(h=0;h<f.length;h++){d=f[h];e=d[0];d=d[1];c.writeString(e);u(d,c)}c.writeMapEnd()}else{e={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(e).length});d=Object.entries(e);for(f=0;f<d.length;f++){h=d[f];e=h[0];h=h[1];c.writeString(e);u(h,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"e2eeServerStateCapabilities",ftype:g.MAP,fid:6});if(a.e2eeServerStateCapabilities!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:Object.keys(a.e2eeServerStateCapabilities).length});e=Object.entries(a.e2eeServerStateCapabilities);for(h=0;h<e.length;h++){d=e[h];f=d[0];d=d[1];c.writeI32((f=Number(f))!=null?f:0);s(d,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:Object.keys(f).length});d=Object.entries(f);for(e=0;e<d.length;e++){h=d[e];f=h[0];h=h[1];c.writeI32((f=Number(f))!=null?f:0);s(h,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"negotiatedE2eeKeyNegotiationProtocol",ftype:g.I32,fid:7});if(a.negotiatedE2eeKeyNegotiationProtocol!=null){c.writeI32((f=a.negotiatedE2eeKeyNegotiationProtocol)!=null?f:0)}else{h=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(0);c.writeI32((d=h)!=null?d:0)}c.writeFieldEnd();a.keyNegotiationProtocolConfig!=null&&(c.writeFieldBegin({fname:"keyNegotiationProtocolConfig",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:8}),A(a.keyNegotiationProtocolConfig,c),c.writeFieldEnd());c.writeFieldBegin({fname:"serverInfraMandatedExpStatus",ftype:g.I32,fid:9});if(a.serverInfraMandatedExpStatus!=null){c.writeI32((e=a.serverInfraMandatedExpStatus)!=null?e:0)}else{f=b("E2eeStateTypes").InfraMandatedExpStatus.cast(0);c.writeI32((h=f)!=null?h:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function D(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I16?c.min=a.readI16():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I16?c.max=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.min===void 0&&(c.min=0);c.max===void 0&&(c.max=0);return c}function E(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.supportedVersions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=D(a);c.supportedVersions.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.supportedVersions===void 0&&(c.supportedVersions=[]);return c}function F(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I16?c.employedVersion=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.employedVersion===void 0&&(c.employedVersion=0);return c}function G(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I16?c.mode=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.mode===void 0&&(c.mode=0);return c}function H(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.preKeyBundle=a.readBinary():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.identityKeyInfo=G(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.deviceId=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.preKeyBundle===void 0&&(c.preKeyBundle=Uint8Array.of());c.identityKeyInfo===void 0&&(c.identityKeyInfo=h());c.deviceId===void 0&&(c.deviceId=0);return c}function I(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.epochId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.isKeyDistributor=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.epochInfo=J(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.epochId===void 0&&(c.epochId="0");c.isKeyDistributor===void 0&&(c.isKeyDistributor=!1);c.epochInfo===void 0&&(c.epochInfo=j());return c}function J(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.currentEpochId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.lastLeaveEpochId=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.lastJoinEpochId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.currentEpochId===void 0&&(c.currentEpochId="0");c.lastLeaveEpochId===void 0&&(c.lastLeaveEpochId="0");c.lastJoinEpochId===void 0&&(c.lastJoinEpochId="0");return c}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.supportedVersions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=D(a);c.supportedVersions.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.supportedVersions===void 0&&(c.supportedVersions=[]);return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I16?c.keyNegotiationMode=a.readI16():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.allowOptionalGfd=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.keyNegotiationMode===void 0&&(c.keyNegotiationMode=0);c.allowOptionalGfd===void 0&&(c.allowOptionalGfd=!1);return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I16?c.keyNegotiationMode=a.readI16():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.removeFrameDecryptorDelayMs=a.readI32():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).BOOL?c.keepFrameDecryptors=a.readBool():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I32?c.senderKeyUpdateDelayMs=a.readI32():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).I32?c.keyTtlMs=a.readI32():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).I16?c.ratchetSpace=a.readI16():a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I32?c.keyOverMediaDataChannelNumSends=a.readI32():a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).I32?c.keyOverMediaDataChannelRetryDelayMs=a.readI32():a.skip(e);break;case 11:e===(g||(g=b("ThriftTypes"))).BOOL?c.enableH264V2=a.readBool():a.skip(e);break;case 12:if(e===(g||(g=b("ThriftTypes"))).LIST){c.requiredCapabilities=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());c.requiredCapabilities.push(h)}}else a.skip(e);break;case 13:e===(g||(g=b("ThriftTypes"))).BOOL?c.disableE2eeAckThroughSignalingChannel=a.readBool():a.skip(e);break;case 14:e===(g||(g=b("ThriftTypes"))).I32?c.signalingKeyMessageProtocol=b("E2eeStateTypes").SignalingKeyMessageProtocolEnum.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.keyNegotiationMode===void 0&&(c.keyNegotiationMode=0);c.removeFrameDecryptorDelayMs===void 0&&(c.removeFrameDecryptorDelayMs=0);c.keepFrameDecryptors===void 0&&(c.keepFrameDecryptors=!1);c.senderKeyUpdateDelayMs===void 0&&(c.senderKeyUpdateDelayMs=0);c.keyTtlMs===void 0&&(c.keyTtlMs=0);c.ratchetSpace===void 0&&(c.ratchetSpace=0);c.keyOverMediaDataChannelNumSends===void 0&&(c.keyOverMediaDataChannelNumSends=0);c.keyOverMediaDataChannelRetryDelayMs===void 0&&(c.keyOverMediaDataChannelRetryDelayMs=0);c.enableH264V2===void 0&&(c.enableH264V2=!1);c.requiredCapabilities===void 0&&(c.requiredCapabilities=[]);c.disableE2eeAckThroughSignalingChannel===void 0&&(c.disableE2eeAckThroughSignalingChannel=!1);c.signalingKeyMessageProtocol===void 0&&(c.signalingKeyMessageProtocol=b("E2eeStateTypes").SignalingKeyMessageProtocolEnum.cast(0));return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.sessionKeyProtocolInfo=I(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.populateParticipantHash=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.enableParticipantVerification=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sessionKeyProtocolInfo===void 0&&(c.sessionKeyProtocolInfo=i());c.populateParticipantHash===void 0&&(c.populateParticipantHash=!1);c.enableParticipantVerification===void 0&&(c.enableParticipantVerification=!1);return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.preKeyBundle=a.readBinary():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.cipherSuites=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var i=a.readI16();c.cipherSuites.push(i)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.protocolVersion=K(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.config=L(a):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRUCT?c.identityKeyInfo=G(a):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I32?c.deviceId=a.readI32():a.skip(e);break;case 7:if(e===(g||(g=b("ThriftTypes"))).MAP){c.e2eeClientStateCapabilities={};i=a.readMapBegin();for(f=0;f<i.size;f++){d=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());var j=E(a);d!=null&&(c.e2eeClientStateCapabilities[d]=j)}}else a.skip(e);break;case 8:if(e===(g||(g=b("ThriftTypes"))).LIST){c.supportedE2eeKeyNegotiationProtocols=[];d=a.readListBegin();for(j=0;j<d.size;j++){f=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(a.readI32());c.supportedE2eeKeyNegotiationProtocols.push(f)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.preKeyBundle===void 0&&(c.preKeyBundle=Uint8Array.of());c.cipherSuites===void 0&&(c.cipherSuites=[]);c.protocolVersion===void 0&&(c.protocolVersion=k());c.config===void 0&&(c.config=l());c.identityKeyInfo===void 0&&(c.identityKeyInfo=h());c.deviceId===void 0&&(c.deviceId=0);c.e2eeClientStateCapabilities===void 0&&(c.e2eeClientStateCapabilities={});c.supportedE2eeKeyNegotiationProtocols===void 0&&(c.supportedE2eeKeyNegotiationProtocols=[]);return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.cipherSuites=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI16();c.cipherSuites.push(h)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.protocolVersion=K(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.config=M(a):a.skip(e);break;case 5:if(e===(g||(g=b("ThriftTypes"))).MAP){c.endpointInfos={};h=a.readMapBegin();for(f=0;f<h.size;f++){d=a.readString();var i=H(a);c.endpointInfos[d]=i}}else a.skip(e);break;case 6:if(e===(g||(g=b("ThriftTypes"))).MAP){c.e2eeServerStateCapabilities={};d=a.readMapBegin();for(i=0;i<d.size;i++){f=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());h=F(a);f!=null&&(c.e2eeServerStateCapabilities[f]=h)}}else a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).I32?c.negotiatedE2eeKeyNegotiationProtocol=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(a.readI32()):a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).STRUCT?c.keyNegotiationProtocolConfig=N(a):a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I32?c.serverInfraMandatedExpStatus=b("E2eeStateTypes").InfraMandatedExpStatus.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cipherSuites===void 0&&(c.cipherSuites=[]);c.protocolVersion===void 0&&(c.protocolVersion=k());c.config===void 0&&(c.config=m());c.endpointInfos===void 0&&(c.endpointInfos={});c.e2eeServerStateCapabilities===void 0&&(c.e2eeServerStateCapabilities={});c.negotiatedE2eeKeyNegotiationProtocol===void 0&&(c.negotiatedE2eeKeyNegotiationProtocol=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(0));c.serverInfraMandatedExpStatus===void 0&&(c.serverInfraMandatedExpStatus=b("E2eeStateTypes").InfraMandatedExpStatus.cast(0));return c}f.VersionRange$DefaultConstructor=a;f.E2eeClientStateCapability$DefaultConstructor=c;f.E2eeServerStateCapability$DefaultConstructor=d;f.IdentityKeyInfo$DefaultConstructor=h;f.E2eeEndpointInfo$DefaultConstructor=e;f.SessionKeyProtocolInfo$DefaultConstructor=i;f.EpochInfo$DefaultConstructor=j;f.E2eeProtocolVersion$DefaultConstructor=k;f.E2eeClientStateConfig$DefaultConstructor=l;f.E2eeServerStateConfig$DefaultConstructor=m;f.KeyNegotiationProtocolConfig$DefaultConstructor=n;f.E2eeClientState$DefaultConstructor=o;f.E2eeServerState$DefaultConstructor=p;f.serializeVersionRange=q;f.serializeE2eeClientStateCapability=r;f.serializeE2eeServerStateCapability=s;f.serializeIdentityKeyInfo=t;f.serializeE2eeEndpointInfo=u;f.serializeSessionKeyProtocolInfo=v;f.serializeEpochInfo=w;f.serializeE2eeProtocolVersion=x;f.serializeE2eeClientStateConfig=y;f.serializeE2eeServerStateConfig=z;f.serializeKeyNegotiationProtocolConfig=A;f.serializeE2eeClientState=B;f.serializeE2eeServerState=C;f.deserializeVersionRange=D;f.deserializeE2eeClientStateCapability=E;f.deserializeE2eeServerStateCapability=F;f.deserializeIdentityKeyInfo=G;f.deserializeE2eeEndpointInfo=H;f.deserializeSessionKeyProtocolInfo=I;f.deserializeEpochInfo=J;f.deserializeE2eeProtocolVersion=K;f.deserializeE2eeClientStateConfig=L;f.deserializeE2eeServerStateConfig=M;f.deserializeKeyNegotiationProtocolConfig=N;f.deserializeE2eeClientState=O;f.deserializeE2eeServerState=P}),66);
__d("EmojiReactionsStateEmojiReactionsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,EMOJI:1,GIF:3});c=b("$InternalEnum")({UNKNOWN:0,DEFAULT_TRAY:1,OVERREACT_EMOJI_PICKER:2,GIF_PICKER:3});d=b("$InternalEnum")({UNKNOWN:0,P2P_GVC:1,MESSENGER_ROOM:2,ONLINE_LEARNING_ROOM:3,WORKPLACE_ROOM:4,REELS_TOGETHER:5,IG_P2P_GVC:6,IG_ROOM:7});e.exports={CallType:d,ReactionSource:c,ReactionType:a}}),null);
__d("EmojiReactionsStateEmojiReactionsStateSerializers",["EmojiReactionsStateEmojiReactionsStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{emoji_id:"",emoji_click_id:"",reaction_type:b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(0)}}function a(){return{selected_reaction:h()}}function c(){return{participant_id:"",emoji:h(),emoji_expiry_time:"0",reactions:[]}}function d(){return{emoji:h()}}function e(){return{reaction:h()}}function i(){return{emoji_participants:[],is_emoji_reactions_feature_enabled:!1}}function j(){return{is_online_learning_call:!1,is_emoji_reactions_feature_enabled:!1,call_type:b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(0)}}function k(a,c){c.writeStructBegin("Emoji");c.writeFieldBegin({fname:"emoji_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.emoji_id!=null)c.writeString(a.emoji_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"emoji_click_id",ftype:g.STRING,fid:2});if(a.emoji_click_id!=null)c.writeString(a.emoji_click_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"reaction_type",ftype:g.I32,fid:3});if(a.reaction_type!=null){c.writeI32((d=a.reaction_type)!=null?d:0)}else{a=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("Reaction");c.writeFieldBegin({fname:"selected_reaction",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.selected_reaction!=null)k(a.selected_reaction,c);else{var d=h();k(d,c)}c.writeFieldEnd();a.reaction_expiry_time!=null&&(c.writeFieldBegin({fname:"reaction_expiry_time",ftype:(g||(g=b("ThriftTypes"))).I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.reaction_expiry_time)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("EmojiReactionsParticipant");c.writeFieldBegin({fname:"participant_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.participant_id!=null)c.writeString(a.participant_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"emoji",ftype:g.STRUCT,fid:2});if(a.emoji!=null)k(a.emoji,c);else{d=h();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"emoji_expiry_time",ftype:g.I64,fid:3});if(a.emoji_expiry_time!=null)c.writeI64(b("jsbi").BigInt(a.emoji_expiry_time));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"reactions",ftype:g.LIST,fid:4});if(a.reactions!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.reactions.length});for(var d=a.reactions,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;l(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){a=f[e];l(a,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("EmojiReactionsInputState");c.writeFieldBegin({fname:"emoji",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.emoji!=null)k(a.emoji,c);else{var d=h();k(d,c)}c.writeFieldEnd();if(a.reaction_source!=null){c.writeFieldBegin({fname:"reaction_source",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.reaction_source)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("E2EEEmojiReactionsParticipantPayload");c.writeFieldBegin({fname:"reaction",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.reaction!=null)k(a.reaction,c);else{a=h();k(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("EmojiReactionsOutputState");c.writeFieldBegin({fname:"emoji_participants",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.emoji_participants!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.emoji_participants.length});for(var d=a.emoji_participants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;m(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];m(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_emoji_reactions_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_emoji_reactions_feature_enabled!=null)c.writeBool(a.is_emoji_reactions_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("EmojiReactionsConferenceOutputState");c.writeFieldBegin({fname:"is_online_learning_call",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.is_online_learning_call!=null)c.writeBool(a.is_online_learning_call);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_emoji_reactions_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_emoji_reactions_feature_enabled!=null)c.writeBool(a.is_emoji_reactions_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"call_type",ftype:g.I32,fid:3});if(a.call_type!=null){c.writeI32((d=a.call_type)!=null?d:0)}else{a=b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.emoji_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.emoji_click_id=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.reaction_type=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji_id===void 0&&(c.emoji_id="");c.emoji_click_id===void 0&&(c.emoji_click_id="");c.reaction_type===void 0&&(c.reaction_type=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(0));return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.selected_reaction=r(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.reaction_expiry_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.selected_reaction===void 0&&(c.selected_reaction=h());return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.participant_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.emoji=r(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.emoji_expiry_time=a.readI64().toString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.reactions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var i=s(a);c.reactions.push(i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id===void 0&&(c.participant_id="");c.emoji===void 0&&(c.emoji=h());c.emoji_expiry_time===void 0&&(c.emoji_expiry_time="0");c.reactions===void 0&&(c.reactions=[]);return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.emoji=r(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.reaction_source=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionSource.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji===void 0&&(c.emoji=h());return c}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.reaction=r(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.reaction===void 0&&(c.reaction=h());return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.emoji_participants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=t(a);c.emoji_participants.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_emoji_reactions_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji_participants===void 0&&(c.emoji_participants=[]);c.is_emoji_reactions_feature_enabled===void 0&&(c.is_emoji_reactions_feature_enabled=!1);return c}function x(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_online_learning_call=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_emoji_reactions_feature_enabled=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.call_type=b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_online_learning_call===void 0&&(c.is_online_learning_call=!1);c.is_emoji_reactions_feature_enabled===void 0&&(c.is_emoji_reactions_feature_enabled=!1);c.call_type===void 0&&(c.call_type=b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(0));return c}f.Emoji$DefaultConstructor=h;f.Reaction$DefaultConstructor=a;f.EmojiReactionsParticipant$DefaultConstructor=c;f.EmojiReactionsInputState$DefaultConstructor=d;f.E2EEEmojiReactionsParticipantPayload$DefaultConstructor=e;f.EmojiReactionsOutputState$DefaultConstructor=i;f.EmojiReactionsConferenceOutputState$DefaultConstructor=j;f.serializeEmoji=k;f.serializeReaction=l;f.serializeEmojiReactionsParticipant=m;f.serializeEmojiReactionsInputState=n;f.serializeE2EEEmojiReactionsParticipantPayload=o;f.serializeEmojiReactionsOutputState=p;f.serializeEmojiReactionsConferenceOutputState=q;f.deserializeEmoji=r;f.deserializeReaction=s;f.deserializeEmojiReactionsParticipant=t;f.deserializeEmojiReactionsInputState=u;f.deserializeE2EEEmojiReactionsParticipantPayload=v;f.deserializeEmojiReactionsOutputState=w;f.deserializeEmojiReactionsConferenceOutputState=x}),66);
__d("IntenticonsStateIntenticonsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,ADD:1,UPDATE:2,REMOVE:3});e.exports={Operation:a}}),null);
__d("IntenticonsStateIntenticonsStateSerializers",["IntenticonsStateIntenticonsStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{rotation:0,scale:1,x:0,y:0}}function c(){return{user_id:""}}function d(){return{}}function e(){return{callIntenticons:{}}}function h(a,c){c.writeStructBegin("Context");c.writeFieldBegin({fname:"rotation",ftype:(g||(g=b("ThriftTypes"))).DOUBLE,fid:1});if(a.rotation!=null)c.writeDouble(a.rotation);else{var d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"scale",ftype:g.DOUBLE,fid:2});if(a.scale!=null)c.writeDouble(a.scale);else{d=1;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"x",ftype:g.DOUBLE,fid:3});if(a.x!=null)c.writeDouble(a.x);else{d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"y",ftype:g.DOUBLE,fid:4});if(a.y!=null)c.writeDouble(a.y);else{d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("IntenticonItem");c.writeFieldBegin({fname:"user_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.user_id!=null)c.writeString(a.user_id);else{var d="";c.writeString(d)}c.writeFieldEnd();a.sticker_url!=null&&(c.writeFieldBegin({fname:"sticker_url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.sticker_url),c.writeFieldEnd());a.animated_sticker_url!=null&&(c.writeFieldBegin({fname:"animated_sticker_url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.animated_sticker_url),c.writeFieldEnd());a.sticker_mime_type!=null&&(c.writeFieldBegin({fname:"sticker_mime_type",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.sticker_mime_type),c.writeFieldEnd());a.animated_sticker_mime_type!=null&&(c.writeFieldBegin({fname:"animated_sticker_mime_type",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.animated_sticker_mime_type),c.writeFieldEnd());a.text!=null&&(c.writeFieldBegin({fname:"text",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.text),c.writeFieldEnd());a.intenticon_id!=null&&(c.writeFieldBegin({fname:"intenticon_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:7}),c.writeString(a.intenticon_id),c.writeFieldEnd());a.context!=null&&(c.writeFieldBegin({fname:"context",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:8}),h(a.context,c),c.writeFieldEnd());if(a.operation!=null){c.writeFieldBegin({fname:"operation",ftype:(g||(g=b("ThriftTypes"))).I32,fid:9});c.writeI32((d=a.operation)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("IntenticonParticipantInputState"),a.intenticonItem!=null&&(c.writeFieldBegin({fname:"intenticonItem",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),i(a.intenticonItem,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function k(a,c){c.writeStructBegin("IntenticonParticipantOutputState");c.writeFieldBegin({fname:"callIntenticons",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.callIntenticons!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.callIntenticons).length});a=Object.entries(a.callIntenticons);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);i(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);i(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).DOUBLE?c.rotation=a.readDouble():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).DOUBLE?c.scale=a.readDouble():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).DOUBLE?c.x=a.readDouble():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).DOUBLE?c.y=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.rotation===void 0&&(c.rotation=0);c.scale===void 0&&(c.scale=1);c.x===void 0&&(c.x=0);c.y===void 0&&(c.y=0);return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.sticker_url=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.animated_sticker_url=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.sticker_mime_type=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.animated_sticker_mime_type=a.readString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.text=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRING?c.intenticon_id=a.readString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).STRUCT?c.context=l(a):a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I32?c.operation=b("IntenticonsStateIntenticonsStateTypes").Operation.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id===void 0&&(c.user_id="");return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.intenticonItem=m(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.callIntenticons={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=m(a);c.callIntenticons[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.callIntenticons===void 0&&(c.callIntenticons={});return c}f.Context$DefaultConstructor=a;f.IntenticonItem$DefaultConstructor=c;f.IntenticonParticipantInputState$DefaultConstructor=d;f.IntenticonParticipantOutputState$DefaultConstructor=e;f.serializeContext=h;f.serializeIntenticonItem=i;f.serializeIntenticonParticipantInputState=j;f.serializeIntenticonParticipantOutputState=k;f.deserializeContext=l;f.deserializeIntenticonItem=m;f.deserializeIntenticonParticipantInputState=n;f.deserializeIntenticonParticipantOutputState=o}),66);
__d("LiveStreamStateLiveStreamStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,STARTED:1,IN_PROGRESS:2});d=a({UNKNOWN:0,SELF:10,ALL_FRIENDS:40,FRIENDS_OF_FRIENDS:50,EVERYONE:80});f=a({USER_PROFILE:0,PAGE:1,GROUP:2,PUBLIC_GROUP:3,PRIVATE_GROUP:4,EVENT:5,PUBLIC_EVENT:6,PRIVATE_EVENT:7,PAID_ONLINE_EVENT:8});b=a({AUDIO:0,VIDEO:1,SCREEN:2});var g=a({NONE:0,GRID:1,DOMINANT:2}),h=a({EXPLICIT_CLIENT_ACK:0,SERVER_AUTO_ACK:1}),i=a({MediaSourceType:"mediaSourceType"});a=a({GridLayoutExtra:"gridLayoutExtra",DominantLayoutExtra:"dominantLayoutExtra"});e.exports={LayoutExtra$Types:a,LayoutType:g,LiveStreamAudience:d,LiveStreamStatus:c,LiveStreamTarget:f,MediaSourceId$Types:i,MediaSourceType:b,NegotiationMode:h}}),null);
__d("LiveStreamStateLiveStreamStateSerializers",["LiveStreamStateLiveStreamStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{audience:b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(0),target:b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(0),hostId:""}}function c(){return{userId:"0",mediaSourceId:r()}}function d(){return{}}function e(){return{}}function h(){return{layoutType:b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(0)}}function i(){return{screenSharingUserIds:[]}}function j(){return{activeSpeakerUserIds:[]}}function k(){return{}}function l(){return{}}function m(){return{liveStreamStatus:b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0),acceptedUsers:[]}}function n(){return{liveStreamStatus:b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0),negotiationMode:b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0)}}function o(){return{allowedUsers:[],subscribedUsers:[],liveStreamStatus:b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0),negotiationMode:b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0)}}function p(){return{broadcastParticipants:[]}}function q(){return{}}function r(){return{}}function s(){return{}}function t(a,c){c.writeStructBegin("LiveStreamOptInInfo");c.writeFieldBegin({fname:"audience",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.audience!=null){var d;c.writeI32((d=a.audience)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"target",ftype:g.I32,fid:2});if(a.target!=null){c.writeI32((d=a.target)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.targetName!=null&&(c.writeFieldBegin({fname:"targetName",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.targetName),c.writeFieldEnd());c.writeFieldBegin({fname:"hostId",ftype:g.STRING,fid:4});if(a.hostId!=null)c.writeString(a.hostId);else{d="";c.writeString(d)}c.writeFieldEnd();a.targetSize!=null&&(c.writeFieldBegin({fname:"targetSize",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.targetSize),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("UserMediaSourceId");c.writeFieldBegin({fname:"userId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.userId!=null)c.writeI64(b("jsbi").BigInt(a.userId));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaSourceId",ftype:g.STRUCT,fid:2});if(a.mediaSourceId!=null)H(a.mediaSourceId,c);else{d=r();H(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("GridLayoutExtra");if(a.gridUsers!=null){c.writeFieldBegin({fname:"gridUsers",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});c.writeListBegin({etype:g.STRUCT,size:a.gridUsers.length});for(var a=a.gridUsers,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;u(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("DominantLayoutExtra");if(a.dominantUsers!=null){c.writeFieldBegin({fname:"dominantUsers",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});c.writeListBegin({etype:g.STRUCT,size:a.dominantUsers.length});for(var a=a.dominantUsers,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;u(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("LayoutInfo");c.writeFieldBegin({fname:"layoutType",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.layoutType!=null){var d;c.writeI32((d=a.layoutType)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.layoutExtra!=null&&(c.writeFieldBegin({fname:"layoutExtra",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),I(a.layoutExtra,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("ScreenShareInfo");c.writeFieldBegin({fname:"screenSharingUserIds",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.screenSharingUserIds!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I64,size:a.screenSharingUserIds.length});for(var a=a.screenSharingUserIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I64,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("DominantSpeakerInfo");c.writeFieldBegin({fname:"activeSpeakerUserIds",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.activeSpeakerUserIds!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I64,size:a.activeSpeakerUserIds.length});for(var a=a.activeSpeakerUserIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).I64,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("ClientLayoutInfo"),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),x(a.layoutInfo,c),c.writeFieldEnd()),a.screenShareInfo!=null&&(c.writeFieldBegin({fname:"screenShareInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),y(a.screenShareInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function B(a,c){c.writeStructBegin("LiveStreamClientInputState"),a.negotiationToken!=null&&(c.writeFieldBegin({fname:"negotiationToken",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1}),c.writeString(a.negotiationToken),c.writeFieldEnd()),a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd()),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),A(a.layoutInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function C(a,c){c.writeStructBegin("LiveStreamClientOutputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());c.writeFieldBegin({fname:"liveStreamStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});if(a.liveStreamStatus!=null){var d;c.writeI32((d=a.liveStreamStatus)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.negotiationToken!=null&&(c.writeFieldBegin({fname:"negotiationToken",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.negotiationToken),c.writeFieldEnd());c.writeFieldBegin({fname:"acceptedUsers",ftype:g.LIST,fid:4});if(a.acceptedUsers!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.acceptedUsers.length});for(var d=a.acceptedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:5}),t(a.optInInfo,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("LiveStreamConferenceInputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());c.writeFieldBegin({fname:"liveStreamStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});if(a.liveStreamStatus!=null){var d;c.writeI32((d=a.liveStreamStatus)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),t(a.optInInfo,c),c.writeFieldEnd());c.writeFieldBegin({fname:"negotiationMode",ftype:g.I32,fid:4});if(a.negotiationMode!=null){c.writeI32((d=a.negotiationMode)!=null?d:0)}else{a=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function E(a,c){c.writeStructBegin("LiveStreamConferenceOutputState");c.writeFieldBegin({fname:"allowedUsers",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.allowedUsers!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.allowedUsers.length});for(var d=a.allowedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),t(a.optInInfo,c),c.writeFieldEnd());c.writeFieldBegin({fname:"subscribedUsers",ftype:g.LIST,fid:4});if(a.subscribedUsers!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.subscribedUsers.length});for(d=a.subscribedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"liveStreamStatus",ftype:g.I32,fid:5});if(a.liveStreamStatus!=null){c.writeI32((d=a.liveStreamStatus)!=null?d:0)}else{e=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0);c.writeI32((h=e)!=null?h:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"negotiationMode",ftype:g.I32,fid:6});if(a.negotiationMode!=null){c.writeI32((f=a.negotiationMode)!=null?f:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0);c.writeI32((e=d)!=null?e:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("LiveStreamExtensionInputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());if(a.liveStreamStatus!=null){var d;c.writeFieldBegin({fname:"liveStreamStatus",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.liveStreamStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"broadcastParticipants",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:3});if(a.broadcastParticipants!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.broadcastParticipants.length});for(var d=a.broadcastParticipants,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.length});for(e=0;e<f.length;e++){a=f[e];c.writeString(a)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function G(a,c){c.writeStructBegin("LiveStreamExtensionOutputState"),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),x(a.layoutInfo,c),c.writeFieldEnd()),a.screenShareInfo!=null&&(c.writeFieldBegin({fname:"screenShareInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),y(a.screenShareInfo,c),c.writeFieldEnd()),a.dominantSpeakerInfo!=null&&(c.writeFieldBegin({fname:"dominantSpeakerInfo",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),z(a.dominantSpeakerInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function H(a,c){c.writeStructBegin("MediaSourceId");if(a.mediaSourceType!=null){c.writeFieldBegin({fname:"mediaSourceType",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});c.writeI32((a=a.mediaSourceType)!=null?a:0);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function I(a,c){c.writeStructBegin("LayoutExtra");if(a.gridLayoutExtra!=null){c.writeFieldBegin({fname:"gridLayoutExtra",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});v(a.gridLayoutExtra,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.dominantLayoutExtra!=null){c.writeFieldBegin({fname:"dominantLayoutExtra",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2});w(a.dominantLayoutExtra,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function J(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.audience=b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.target=b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.targetName=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.hostId=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.targetSize=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.audience===void 0&&(c.audience=b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(0));c.target===void 0&&(c.target=b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(0));c.hostId===void 0&&(c.hostId="");return c}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.userId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.mediaSourceId=X(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="0");c.mediaSourceId===void 0&&(c.mediaSourceId=r());return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.gridUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=K(a);c.gridUsers.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.dominantUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=K(a);c.dominantUsers.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.layoutType=b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.layoutExtra=Y(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.layoutType===void 0&&(c.layoutType=b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(0));return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.screenSharingUserIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI64().toString();c.screenSharingUserIds.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.screenSharingUserIds===void 0&&(c.screenSharingUserIds=[]);return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.activeSpeakerUserIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI64().toString();c.activeSpeakerUserIds.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.activeSpeakerUserIds===void 0&&(c.activeSpeakerUserIds=[]);return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.layoutInfo=N(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.screenShareInfo=O(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.negotiationToken=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.layoutInfo=Q(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.negotiationToken=a.readString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.acceptedUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.acceptedUsers.push(h)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRUCT?c.optInInfo=J(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.liveStreamStatus===void 0&&(c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0));c.acceptedUsers===void 0&&(c.acceptedUsers=[]);return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.optInInfo=J(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.liveStreamStatus===void 0&&(c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0));c.negotiationMode===void 0&&(c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0));return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.allowedUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.allowedUsers.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.optInInfo=J(a):a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.subscribedUsers=[];h=a.readListBegin();for(f=0;f<h.size;f++){d=a.readString();c.subscribedUsers.push(d)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I32?c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.allowedUsers===void 0&&(c.allowedUsers=[]);c.subscribedUsers===void 0&&(c.subscribedUsers=[]);c.liveStreamStatus===void 0&&(c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0));c.negotiationMode===void 0&&(c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0));return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.broadcastParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.broadcastParticipants.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.broadcastParticipants===void 0&&(c.broadcastParticipants=[]);return c}function W(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.layoutInfo=N(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.screenShareInfo=O(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.dominantSpeakerInfo=P(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function X(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(g||(g=b("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(g||(g=b("ThriftTypes"))).I32)if(c==null)d.mediaSourceType=b("LiveStreamStateLiveStreamStateTypes").MediaSourceType.cast(a.readI32()),c="mediaSourceType";else throw new Error("more than one field have been deserialized in union type: MediaSourceId; current field: mediaSourceType, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}function Y(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(g||(g=b("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.gridLayoutExtra=L(a),c="gridLayoutExtra";else throw new Error("more than one field have been deserialized in union type: LayoutExtra; current field: gridLayoutExtra, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.dominantLayoutExtra=M(a),c="dominantLayoutExtra";else throw new Error("more than one field have been deserialized in union type: LayoutExtra; current field: dominantLayoutExtra, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.LiveStreamOptInInfo$DefaultConstructor=a;f.UserMediaSourceId$DefaultConstructor=c;f.GridLayoutExtra$DefaultConstructor=d;f.DominantLayoutExtra$DefaultConstructor=e;f.LayoutInfo$DefaultConstructor=h;f.ScreenShareInfo$DefaultConstructor=i;f.DominantSpeakerInfo$DefaultConstructor=j;f.ClientLayoutInfo$DefaultConstructor=k;f.LiveStreamClientInputState$DefaultConstructor=l;f.LiveStreamClientOutputState$DefaultConstructor=m;f.LiveStreamConferenceInputState$DefaultConstructor=n;f.LiveStreamConferenceOutputState$DefaultConstructor=o;f.LiveStreamExtensionInputState$DefaultConstructor=p;f.LiveStreamExtensionOutputState$DefaultConstructor=q;f.MediaSourceId$DefaultConstructor=r;f.LayoutExtra$DefaultConstructor=s;f.serializeLiveStreamOptInInfo=t;f.serializeUserMediaSourceId=u;f.serializeGridLayoutExtra=v;f.serializeDominantLayoutExtra=w;f.serializeLayoutInfo=x;f.serializeScreenShareInfo=y;f.serializeDominantSpeakerInfo=z;f.serializeClientLayoutInfo=A;f.serializeLiveStreamClientInputState=B;f.serializeLiveStreamClientOutputState=C;f.serializeLiveStreamConferenceInputState=D;f.serializeLiveStreamConferenceOutputState=E;f.serializeLiveStreamExtensionInputState=F;f.serializeLiveStreamExtensionOutputState=G;f.serializeMediaSourceId=H;f.serializeLayoutExtra=I;f.deserializeLiveStreamOptInInfo=J;f.deserializeUserMediaSourceId=K;f.deserializeGridLayoutExtra=L;f.deserializeDominantLayoutExtra=M;f.deserializeLayoutInfo=N;f.deserializeScreenShareInfo=O;f.deserializeDominantSpeakerInfo=P;f.deserializeClientLayoutInfo=Q;f.deserializeLiveStreamClientInputState=R;f.deserializeLiveStreamClientOutputState=S;f.deserializeLiveStreamConferenceInputState=T;f.deserializeLiveStreamConferenceOutputState=U;f.deserializeLiveStreamExtensionInputState=V;f.deserializeLiveStreamExtensionOutputState=W;f.deserializeMediaSourceId=X;f.deserializeLayoutExtra=Y}),66);
__d("MediaInformationStateMediaInformationStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{width:0,height:0}}function c(){return{mosaic_grid_capable:!1}}function d(){return{}}function e(){return{participant_media_infos:{}}}function h(a,c){c.writeStructBegin("VideoSize");c.writeFieldBegin({fname:"width",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.width!=null)c.writeI32(a.width);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"height",ftype:g.I32,fid:2});if(a.height!=null)c.writeI32(a.height);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("ParticipantMediaInfo");c.writeFieldBegin({fname:"mosaic_grid_capable",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.mosaic_grid_capable!=null)c.writeBool(a.mosaic_grid_capable);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.video_size!=null&&(c.writeFieldBegin({fname:"video_size",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),h(a.video_size,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("MediaInformationInputState"),a.participant_media_info!=null&&(c.writeFieldBegin({fname:"participant_media_info",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),i(a.participant_media_info,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function k(a,c){c.writeStructBegin("MediaInformationOutputState");c.writeFieldBegin({fname:"participant_media_infos",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.participant_media_infos!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.participant_media_infos).length});a=Object.entries(a.participant_media_infos);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);i(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);i(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.width=a.readI32():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.height=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.width===void 0&&(c.width=0);c.height===void 0&&(c.height=0);return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.mosaic_grid_capable=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.video_size=l(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.mosaic_grid_capable===void 0&&(c.mosaic_grid_capable=!1);return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant_media_info=m(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participant_media_infos={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=m(a);c.participant_media_infos[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_media_infos===void 0&&(c.participant_media_infos={});return c}f.VideoSize$DefaultConstructor=a;f.ParticipantMediaInfo$DefaultConstructor=c;f.MediaInformationInputState$DefaultConstructor=d;f.MediaInformationOutputState$DefaultConstructor=e;f.serializeVideoSize=h;f.serializeParticipantMediaInfo=i;f.serializeMediaInformationInputState=j;f.serializeMediaInformationOutputState=k;f.deserializeVideoSize=l;f.deserializeParticipantMediaInfo=m;f.deserializeMediaInformationInputState=n;f.deserializeMediaInformationOutputState=o}),66);
__d("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({COUNTDOWN:1,CANCELED:2});e.exports={DisplayState:a}}),null);
__d("MediaSyncStateMediaSyncStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,INSTAGRAM:1,FACEBOOK_VIDEO:2,FACEBOOK_POST:3,MESSAGING:4});d=a({PLAY:1,PAUSE:2,STOP:3});f=a({UNKNOWN:0,IMAGE:1,VIDEO:2,IGTV:3,CAROUSEL:4});b=a({UNKNOWN:0,FEED:1,REELS:2});var g=a({NONE:0,PLAY:1,PAUSE:2,STOP:3,RESUME:4,SEEK_FORWARD:5,SEEK_BACKWARD:6,AUTOPLAY:7}),h=a({UNKNOWN:0,NOT_SAVABLE:1,NOT_SAVED:2,SAVED:3,ARCHIVED:4});a=a({UNKNOWN:0,FORWARD:1,BACKWARD:2});e.exports={Action:d,AdminMessageType:g,InstagramMediaType:f,InstagramProductType:b,PlayMediaSwipeDirection:a,SavedState:h,Source:c}}),null);
__d("MediaSyncStateMediaSyncStateSerializers",["MediaSyncStateMediaSyncStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{action:b("MediaSyncStateMediaSyncStateTypes").Action.cast(0),action_metadata:j(),content_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),admin_message_type:b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0)}}function a(){return{action:b("MediaSyncStateMediaSyncStateTypes").Action.cast(0),action_metadata:j(),actor:i(),content:k(),content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",admin_message_type:b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0)}}function c(){return{latest_input:h(),latest_actor_id:"",latest_new_content_start_time_ms:"0",history:[]}}function i(){return{user_id:"",username:"",avatar_url:""}}function j(){return{media_position_ms:"0",action_time_ms:"0"}}function k(){return{}}function d(){return{content_id:"",owner:l(),media_type:b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(0),thumbnail_url:"",product_type:b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(0)}}function l(){return{user_id:"",username:"",avatar_url:""}}function e(){return{content_id:"",video:o(),is_live_streaming:!1,is_reportable:!1,available_caption_locales:[],is_non_interactable:!1}}function m(){return{content_id:"",title:"",message:""}}function n(){return{content_id:"",cover_image_url:""}}function o(){return{duration_ms:"0",aspect_ratio:0}}function p(){return{}}function q(){return{url:"",height:0,width:0}}function r(){return{locale:"",localized_language:"",captions_url:""}}function s(){return{artist_name:"",song_title:""}}function aa(){return{}}function ba(){return{content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:""}}function ca(){return{action:b("MediaSyncStateMediaSyncStateTypes").Action.cast(0),action_metadata:j(),admin_message_type:b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0),content_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),actor_id:""}}function da(){return{last_content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),count:0}}function ea(){return{product_id:"",product_name:"",product_position_x:"",product_position_y:""}}function t(a,c){c.writeStructBegin("MediaSyncInputState");c.writeFieldBegin({fname:"action",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_metadata",ftype:g.STRUCT,fid:2});if(a.action_metadata!=null)v(a.action_metadata,c);else{d=j();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:g.I32,fid:4});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"admin_message_type",ftype:g.I32,fid:5});if(a.admin_message_type!=null){c.writeI32((d=a.admin_message_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.skip_autoplay_candidate_generation!=null&&(c.writeFieldBegin({fname:"skip_autoplay_candidate_generation",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:6}),c.writeBool(a.skip_autoplay_candidate_generation),c.writeFieldEnd());a.seed_content_id!=null&&(c.writeFieldBegin({fname:"seed_content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:7}),c.writeString(a.seed_content_id),c.writeFieldEnd());a.initiator_id!=null&&(c.writeFieldBegin({fname:"initiator_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:8}),c.writeString(a.initiator_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function fa(a,c){c.writeStructBegin("MediaSyncOutputState");c.writeFieldBegin({fname:"action",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_metadata",ftype:g.STRUCT,fid:2});if(a.action_metadata!=null)v(a.action_metadata,c);else{d=j();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"actor",ftype:g.STRUCT,fid:3});if(a.actor!=null)u(a.actor,c);else{d=i();u(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:g.STRUCT,fid:4});if(a.content!=null)w(a.content,c);else{d=k();w(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:g.I32,fid:5});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:6});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();a.admin_message!=null&&(c.writeFieldBegin({fname:"admin_message",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:7}),c.writeString(a.admin_message),c.writeFieldEnd());c.writeFieldBegin({fname:"admin_message_type",ftype:g.I32,fid:8});if(a.admin_message_type!=null){c.writeI32((d=a.admin_message_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.seed_content_id!=null&&(c.writeFieldBegin({fname:"seed_content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:9}),c.writeString(a.seed_content_id),c.writeFieldEnd());a.initiator_id!=null&&(c.writeFieldBegin({fname:"initiator_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:10}),c.writeString(a.initiator_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function ga(a,c){c.writeStructBegin("MediaSyncConferenceOutputState");c.writeFieldBegin({fname:"latest_input",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.latest_input!=null)t(a.latest_input,c);else{var d=h();t(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"latest_actor_id",ftype:g.STRING,fid:2});if(a.latest_actor_id!=null)c.writeString(a.latest_actor_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"latest_new_content_start_time_ms",ftype:g.I64,fid:3});if(a.latest_new_content_start_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.latest_new_content_start_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"history",ftype:g.LIST,fid:4});if(a.history!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.history.length});for(var d=a.history,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;I(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){a=f[e];I(a,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("Actor");c.writeFieldBegin({fname:"user_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.user_id!=null)c.writeString(a.user_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"username",ftype:g.STRING,fid:2});if(a.username!=null)c.writeString(a.username);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"avatar_url",ftype:g.STRING,fid:3});if(a.avatar_url!=null)c.writeString(a.avatar_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("ActionMetadata");c.writeFieldBegin({fname:"media_position_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.media_position_ms!=null)c.writeI64(b("jsbi").BigInt(a.media_position_ms));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"action_time_ms",ftype:g.I64,fid:2});if(a.action_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.action_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();a.autoplay_action_id!=null&&(c.writeFieldBegin({fname:"autoplay_action_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.autoplay_action_id),c.writeFieldEnd());a.tab_source!=null&&(c.writeFieldBegin({fname:"tab_source",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.tab_source),c.writeFieldEnd());a.skip_double_write!=null&&(c.writeFieldBegin({fname:"skip_double_write",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:5}),c.writeBool(a.skip_double_write),c.writeFieldEnd());a.ads_metadata!=null&&(c.writeFieldBegin({fname:"ads_metadata",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:6}),H(a.ads_metadata,c),c.writeFieldEnd());a.carousel_item_index!=null&&(c.writeFieldBegin({fname:"carousel_item_index",ftype:(g||(g=b("ThriftTypes"))).I32,fid:7}),c.writeI32(a.carousel_item_index),c.writeFieldEnd());if(a.play_media_swipe_direction!=null){c.writeFieldBegin({fname:"play_media_swipe_direction",ftype:(g||(g=b("ThriftTypes"))).I32,fid:8});c.writeI32((d=a.play_media_swipe_direction)!=null?d:0);c.writeFieldEnd()}a.suggested_index!=null&&(c.writeFieldBegin({fname:"suggested_index",ftype:(g||(g=b("ThriftTypes"))).I32,fid:9}),c.writeI32(a.suggested_index),c.writeFieldEnd());a.cursor!=null&&(c.writeFieldBegin({fname:"cursor",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:10}),c.writeString(a.cursor),c.writeFieldEnd());a.suggested_context!=null&&(c.writeFieldBegin({fname:"suggested_context",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:11}),c.writeString(a.suggested_context),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("Content"),a.placeholder!=null&&(c.writeFieldBegin({fname:"placeholder",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),A(a.placeholder,c),c.writeFieldEnd()),a.fallback!=null&&(c.writeFieldBegin({fname:"fallback",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),B(a.fallback,c),c.writeFieldEnd()),a.ig_content!=null&&(c.writeFieldBegin({fname:"ig_content",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),x(a.ig_content,c),c.writeFieldEnd()),a.fb_video!=null&&(c.writeFieldBegin({fname:"fb_video",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:4}),z(a.fb_video,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function x(a,c){c.writeStructBegin("InstagramContent");c.writeFieldBegin({fname:"content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"owner",ftype:g.STRUCT,fid:2});if(a.owner!=null)y(a.owner,c);else{d=l();y(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"media_type",ftype:g.I32,fid:3});if(a.media_type!=null){c.writeI32((d=a.media_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"thumbnail_url",ftype:g.STRING,fid:4});if(a.thumbnail_url!=null)c.writeString(a.thumbnail_url);else{d="";c.writeString(d)}c.writeFieldEnd();if(a.images!=null){c.writeFieldBegin({fname:"images",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:5});c.writeListBegin({etype:g.STRUCT,size:a.images.length});for(var d=a.images,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;E(h,c)}c.writeListEnd();c.writeFieldEnd()}a.video!=null&&(c.writeFieldBegin({fname:"video",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:6}),C(a.video,c),c.writeFieldEnd());if(a.carousel!=null){c.writeFieldBegin({fname:"carousel",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:7});c.writeListBegin({etype:g.STRUCT,size:a.carousel.length});for(h=a.carousel,f=Array.isArray(h),e=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=h.length)break;d=h[e++]}else{e=h.next();if(e.done)break;d=e.value}d=d;x(d,c)}c.writeListEnd();c.writeFieldEnd()}a.audio_attribution!=null&&(c.writeFieldBegin({fname:"audio_attribution",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:8}),G(a.audio_attribution,c),c.writeFieldEnd());c.writeFieldBegin({fname:"product_type",ftype:g.I32,fid:9});if(a.product_type!=null){c.writeI32((d=a.product_type)!=null?d:0)}else{e=b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(0);c.writeI32((f=e)!=null?f:0)}c.writeFieldEnd();a.tracking_token!=null&&(c.writeFieldBegin({fname:"tracking_token",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:10}),c.writeString(a.tracking_token),c.writeFieldEnd());if(a.shopping_product_tags!=null){c.writeFieldBegin({fname:"shopping_product_tags",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:11});c.writeListBegin({etype:g.STRUCT,size:a.shopping_product_tags.length});for(h=a.shopping_product_tags,d=Array.isArray(h),e=0,h=d?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=h.length)break;f=h[e++]}else{e=h.next();if(e.done)break;f=e.value}a=f;J(a,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("InstagramContentOwner");c.writeFieldBegin({fname:"user_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.user_id!=null)c.writeString(a.user_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"username",ftype:g.STRING,fid:2});if(a.username!=null)c.writeString(a.username);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"avatar_url",ftype:g.STRING,fid:3});if(a.avatar_url!=null)c.writeString(a.avatar_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("FacebookVideo");c.writeFieldBegin({fname:"content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"video",ftype:g.STRUCT,fid:2});if(a.video!=null)C(a.video,c);else{d=o();C(d,c)}c.writeFieldEnd();a.thumbnail!=null&&(c.writeFieldBegin({fname:"thumbnail",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),E(a.thumbnail,c),c.writeFieldEnd());a.title!=null&&(c.writeFieldBegin({fname:"title",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.title),c.writeFieldEnd());a.subtitle!=null&&(c.writeFieldBegin({fname:"subtitle",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.subtitle),c.writeFieldEnd());c.writeFieldBegin({fname:"is_live_streaming",ftype:g.BOOL,fid:6});if(a.is_live_streaming!=null)c.writeBool(a.is_live_streaming);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_reportable",ftype:g.BOOL,fid:7});if(a.is_reportable!=null)c.writeBool(a.is_reportable);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"available_caption_locales",ftype:g.LIST,fid:8});if(a.available_caption_locales!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.available_caption_locales.length});for(var d=a.available_caption_locales,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;F(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];F(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_non_interactable",ftype:g.BOOL,fid:9});if(a.is_non_interactable!=null)c.writeBool(a.is_non_interactable);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.content_rating!=null&&(c.writeFieldBegin({fname:"content_rating",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:10}),c.writeString(a.content_rating),c.writeFieldEnd());a.tracking!=null&&(c.writeFieldBegin({fname:"tracking",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:11}),c.writeString(a.tracking),c.writeFieldEnd());if(a.saved_state!=null){c.writeFieldBegin({fname:"saved_state",ftype:(g||(g=b("ThriftTypes"))).I32,fid:12});c.writeI32((e=a.saved_state)!=null?e:0);c.writeFieldEnd()}a.is_reels!=null&&(c.writeFieldBegin({fname:"is_reels",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:13}),c.writeBool(a.is_reels),c.writeFieldEnd());a.reels_metadata!=null&&(c.writeFieldBegin({fname:"reels_metadata",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:14}),D(a.reels_metadata,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("Placeholder");c.writeFieldBegin({fname:"content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"title",ftype:g.STRING,fid:2});if(a.title!=null)c.writeString(a.title);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"message",ftype:g.STRING,fid:3});if(a.message!=null)c.writeString(a.message);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("Fallback");c.writeFieldBegin({fname:"content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"cover_image_url",ftype:g.STRING,fid:2});if(a.cover_image_url!=null)c.writeString(a.cover_image_url);else{d="";c.writeString(d)}c.writeFieldEnd();a.message!=null&&(c.writeFieldBegin({fname:"message",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.message),c.writeFieldEnd());a.video!=null&&(c.writeFieldBegin({fname:"video",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:4}),C(a.video,c),c.writeFieldEnd());a.attribution_image_url!=null&&(c.writeFieldBegin({fname:"attribution_image_url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.attribution_image_url),c.writeFieldEnd());a.attribution!=null&&(c.writeFieldBegin({fname:"attribution",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.attribution),c.writeFieldEnd());a.aspect_ratio!=null&&(c.writeFieldBegin({fname:"aspect_ratio",ftype:(g||(g=b("ThriftTypes"))).FLOAT,fid:7}),c.writeFloat(a.aspect_ratio),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("Video");a.dash_manifest!=null&&(c.writeFieldBegin({fname:"dash_manifest",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.dash_manifest),c.writeFieldEnd());c.writeFieldBegin({fname:"duration_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:3});if(a.duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.duration_ms));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"aspect_ratio",ftype:g.FLOAT,fid:4});if(a.aspect_ratio!=null)c.writeFloat(a.aspect_ratio);else{d=0;c.writeFloat(d)}c.writeFieldEnd();a.url!=null&&(c.writeFieldBegin({fname:"url",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:5}),E(a.url,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("ReelsMetadata"),a.reels_media_source!=null&&(c.writeFieldBegin({fname:"reels_media_source",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1}),c.writeString(a.reels_media_source),c.writeFieldEnd()),a.user_name!=null&&(c.writeFieldBegin({fname:"user_name",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.user_name),c.writeFieldEnd()),a.avatar_url!=null&&(c.writeFieldBegin({fname:"avatar_url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.avatar_url),c.writeFieldEnd()),a.music_title!=null&&(c.writeFieldBegin({fname:"music_title",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.music_title),c.writeFieldEnd()),a.effects_title!=null&&(c.writeFieldBegin({fname:"effects_title",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.effects_title),c.writeFieldEnd()),a.like_count!=null&&(c.writeFieldBegin({fname:"like_count",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.like_count),c.writeFieldEnd()),a.comment_count!=null&&(c.writeFieldBegin({fname:"comment_count",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:7}),c.writeString(a.comment_count),c.writeFieldEnd()),a.share_count!=null&&(c.writeFieldBegin({fname:"share_count",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:8}),c.writeString(a.share_count),c.writeFieldEnd()),a.is_viewer_liked!=null&&(c.writeFieldBegin({fname:"is_viewer_liked",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:9}),c.writeBool(a.is_viewer_liked),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function E(a,c){c.writeStructBegin("SizedUrl");c.writeFieldBegin({fname:"url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.url!=null)c.writeString(a.url);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"height",ftype:g.I32,fid:2});if(a.height!=null)c.writeI32(a.height);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"width",ftype:g.I32,fid:3});if(a.width!=null)c.writeI32(a.width);else{d=0;c.writeI32(d)}c.writeFieldEnd();a.type!=null&&(c.writeFieldBegin({fname:"type",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.type),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("CaptionLocales");c.writeFieldBegin({fname:"locale",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.locale!=null)c.writeString(a.locale);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"localized_language",ftype:g.STRING,fid:2});if(a.localized_language!=null)c.writeString(a.localized_language);else{d="";c.writeString(d)}c.writeFieldEnd();a.localized_country!=null&&(c.writeFieldBegin({fname:"localized_country",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.localized_country),c.writeFieldEnd());a.localized_creation_method!=null&&(c.writeFieldBegin({fname:"localized_creation_method",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.localized_creation_method),c.writeFieldEnd());c.writeFieldBegin({fname:"captions_url",ftype:g.STRING,fid:5});if(a.captions_url!=null)c.writeString(a.captions_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function G(a,c){c.writeStructBegin("AudioAttribution");c.writeFieldBegin({fname:"artist_name",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.artist_name!=null)c.writeString(a.artist_name);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"song_title",ftype:g.STRING,fid:2});if(a.song_title!=null)c.writeString(a.song_title);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function H(a,c){c.writeStructBegin("AdsMetadata"),a.ad_break_start_time_ms!=null&&(c.writeFieldBegin({fname:"ad_break_start_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.ad_break_start_time_ms)),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function I(a,c){c.writeStructBegin("HistoryRecord");c.writeFieldBegin({fname:"content_source",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.content_source!=null){var d;c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:2});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function ha(a,c){c.writeStructBegin("E2EEMediaSyncPayload");c.writeFieldBegin({fname:"action",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_metadata",ftype:g.STRUCT,fid:2});if(a.action_metadata!=null)v(a.action_metadata,c);else{d=j();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"admin_message_type",ftype:g.I32,fid:3});if(a.admin_message_type!=null){c.writeI32((d=a.admin_message_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:4});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:g.I32,fid:5});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"actor_id",ftype:g.STRING,fid:6});if(a.actor_id!=null)c.writeString(a.actor_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function ia(a,c){c.writeStructBegin("E2EEPMVAdBumperCount");a.last_content_id!=null&&(c.writeFieldBegin({fname:"last_content_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1}),c.writeString(a.last_content_id),c.writeFieldEnd());c.writeFieldBegin({fname:"last_content_source",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});if(a.last_content_source!=null){var d;c.writeI32((d=a.last_content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"count",ftype:g.I32,fid:3});if(a.count!=null)c.writeI32(a.count);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function J(a,c){c.writeStructBegin("ShoppingProductTag");c.writeFieldBegin({fname:"product_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.product_id!=null)c.writeString(a.product_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"product_name",ftype:g.STRING,fid:2});if(a.product_name!=null)c.writeString(a.product_name);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"product_position_x",ftype:g.STRING,fid:3});if(a.product_position_x!=null)c.writeString(a.product_position_x);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"product_position_y",ftype:g.STRING,fid:4});if(a.product_position_y!=null)c.writeString(a.product_position_y);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.action_metadata=M(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).BOOL?c.skip_autoplay_candidate_generation=a.readBool():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRING?c.seed_content_id=a.readString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).STRING?c.initiator_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0));c.action_metadata===void 0&&(c.action_metadata=j());c.content_id===void 0&&(c.content_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.admin_message_type===void 0&&(c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0));return c}function ja(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.action_metadata=M(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.actor=L(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.content=N(a):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRING?c.admin_message=a.readString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).I32?c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(a.readI32()):a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).STRING?c.seed_content_id=a.readString():a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).STRING?c.initiator_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0));c.action_metadata===void 0&&(c.action_metadata=j());c.actor===void 0&&(c.actor=i());c.content===void 0&&(c.content=k());c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.admin_message_type===void 0&&(c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0));return c}function ka(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.latest_input=K(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.latest_actor_id=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.latest_new_content_start_time_ms=a.readI64().toString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.history=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var i=Z(a);c.history.push(i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.latest_input===void 0&&(c.latest_input=h());c.latest_actor_id===void 0&&(c.latest_actor_id="");c.latest_new_content_start_time_ms===void 0&&(c.latest_new_content_start_time_ms="0");c.history===void 0&&(c.history=[]);return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.username=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.avatar_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id===void 0&&(c.user_id="");c.username===void 0&&(c.username="");c.avatar_url===void 0&&(c.avatar_url="");return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.media_position_ms=a.readI64().toString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.action_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.autoplay_action_id=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.tab_source=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).BOOL?c.skip_double_write=a.readBool():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRUCT?c.ads_metadata=Y(a):a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).I32?c.carousel_item_index=a.readI32():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).I32?c.play_media_swipe_direction=b("MediaSyncStateMediaSyncStateTypes").PlayMediaSwipeDirection.cast(a.readI32()):a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I32?c.suggested_index=a.readI32():a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).STRING?c.cursor=a.readString():a.skip(e);break;case 11:e===(g||(g=b("ThriftTypes"))).STRING?c.suggested_context=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.media_position_ms===void 0&&(c.media_position_ms="0");c.action_time_ms===void 0&&(c.action_time_ms="0");return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.placeholder=R(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.fallback=S(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.ig_content=O(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.fb_video=Q(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.owner=P(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.media_type=b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(a.readI32()):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.thumbnail_url=a.readString():a.skip(e);break;case 5:if(e===(g||(g=b("ThriftTypes"))).LIST){c.images=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=V(a);c.images.push(h)}}else a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRUCT?c.video=T(a):a.skip(e);break;case 7:if(e===(g||(g=b("ThriftTypes"))).LIST){c.carousel=[];h=a.readListBegin();for(f=0;f<h.size;f++){d=O(a);c.carousel.push(d)}}else a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).STRUCT?c.audio_attribution=X(a):a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).I32?c.product_type=b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(a.readI32()):a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).STRING?c.tracking_token=a.readString():a.skip(e);break;case 11:if(e===(g||(g=b("ThriftTypes"))).LIST){c.shopping_product_tags=[];d=a.readListBegin();for(f=0;f<d.size;f++){h=$(a);c.shopping_product_tags.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.owner===void 0&&(c.owner=l());c.media_type===void 0&&(c.media_type=b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(0));c.thumbnail_url===void 0&&(c.thumbnail_url="");c.product_type===void 0&&(c.product_type=b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(0));return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.username=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.avatar_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id===void 0&&(c.user_id="");c.username===void 0&&(c.username="");c.avatar_url===void 0&&(c.avatar_url="");return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.video=T(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.thumbnail=V(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.title=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.subtitle=a.readString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_live_streaming=a.readBool():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_reportable=a.readBool():a.skip(e);break;case 8:if(e===(g||(g=b("ThriftTypes"))).LIST){c.available_caption_locales=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=W(a);c.available_caption_locales.push(h)}}else a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_non_interactable=a.readBool():a.skip(e);break;case 10:e===(g||(g=b("ThriftTypes"))).STRING?c.content_rating=a.readString():a.skip(e);break;case 11:e===(g||(g=b("ThriftTypes"))).STRING?c.tracking=a.readString():a.skip(e);break;case 12:e===(g||(g=b("ThriftTypes"))).I32?c.saved_state=b("MediaSyncStateMediaSyncStateTypes").SavedState.cast(a.readI32()):a.skip(e);break;case 13:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_reels=a.readBool():a.skip(e);break;case 14:e===(g||(g=b("ThriftTypes"))).STRUCT?c.reels_metadata=U(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.video===void 0&&(c.video=o());c.is_live_streaming===void 0&&(c.is_live_streaming=!1);c.is_reportable===void 0&&(c.is_reportable=!1);c.available_caption_locales===void 0&&(c.available_caption_locales=[]);c.is_non_interactable===void 0&&(c.is_non_interactable=!1);return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.title=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.title===void 0&&(c.title="");c.message===void 0&&(c.message="");return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.cover_image_url=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.message=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.video=T(a):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.attribution_image_url=a.readString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.attribution=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).FLOAT?c.aspect_ratio=a.readFloat():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.cover_image_url===void 0&&(c.cover_image_url="");return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.dash_manifest=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.duration_ms=a.readI64().toString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).FLOAT?c.aspect_ratio=a.readFloat():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRUCT?c.url=V(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.duration_ms===void 0&&(c.duration_ms="0");c.aspect_ratio===void 0&&(c.aspect_ratio=0);return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.reels_media_source=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.user_name=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.avatar_url=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.music_title=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.effects_title=a.readString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.like_count=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRING?c.comment_count=a.readString():a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).STRING?c.share_count=a.readString():a.skip(e);break;case 9:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_viewer_liked=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.url=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.height=a.readI32():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.width=a.readI32():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.type=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.url===void 0&&(c.url="");c.height===void 0&&(c.height=0);c.width===void 0&&(c.width=0);return c}function W(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.locale=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.localized_language=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.localized_country=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.localized_creation_method=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.captions_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.locale===void 0&&(c.locale="");c.localized_language===void 0&&(c.localized_language="");c.captions_url===void 0&&(c.captions_url="");return c}function X(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.artist_name=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.song_title=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.artist_name===void 0&&(c.artist_name="");c.song_title===void 0&&(c.song_title="");return c}function Y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.ad_break_start_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function Z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");return c}function la(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.action_metadata=M(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(a.readI32()):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.actor_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0));c.action_metadata===void 0&&(c.action_metadata=j());c.admin_message_type===void 0&&(c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0));c.content_id===void 0&&(c.content_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.actor_id===void 0&&(c.actor_id="");return c}function ma(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.last_content_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.last_content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.count=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.last_content_source===void 0&&(c.last_content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.count===void 0&&(c.count=0);return c}function $(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.product_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.product_name=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.product_position_x=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.product_position_y=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.product_id===void 0&&(c.product_id="");c.product_name===void 0&&(c.product_name="");c.product_position_x===void 0&&(c.product_position_x="");c.product_position_y===void 0&&(c.product_position_y="");return c}f.MediaSyncInputState$DefaultConstructor=h;f.MediaSyncOutputState$DefaultConstructor=a;f.MediaSyncConferenceOutputState$DefaultConstructor=c;f.Actor$DefaultConstructor=i;f.ActionMetadata$DefaultConstructor=j;f.Content$DefaultConstructor=k;f.InstagramContent$DefaultConstructor=d;f.InstagramContentOwner$DefaultConstructor=l;f.FacebookVideo$DefaultConstructor=e;f.Placeholder$DefaultConstructor=m;f.Fallback$DefaultConstructor=n;f.Video$DefaultConstructor=o;f.ReelsMetadata$DefaultConstructor=p;f.SizedUrl$DefaultConstructor=q;f.CaptionLocales$DefaultConstructor=r;f.AudioAttribution$DefaultConstructor=s;f.AdsMetadata$DefaultConstructor=aa;f.HistoryRecord$DefaultConstructor=ba;f.E2EEMediaSyncPayload$DefaultConstructor=ca;f.E2EEPMVAdBumperCount$DefaultConstructor=da;f.ShoppingProductTag$DefaultConstructor=ea;f.serializeMediaSyncInputState=t;f.serializeMediaSyncOutputState=fa;f.serializeMediaSyncConferenceOutputState=ga;f.serializeActor=u;f.serializeActionMetadata=v;f.serializeContent=w;f.serializeInstagramContent=x;f.serializeInstagramContentOwner=y;f.serializeFacebookVideo=z;f.serializePlaceholder=A;f.serializeFallback=B;f.serializeVideo=C;f.serializeReelsMetadata=D;f.serializeSizedUrl=E;f.serializeCaptionLocales=F;f.serializeAudioAttribution=G;f.serializeAdsMetadata=H;f.serializeHistoryRecord=I;f.serializeE2EEMediaSyncPayload=ha;f.serializeE2EEPMVAdBumperCount=ia;f.serializeShoppingProductTag=J;f.deserializeMediaSyncInputState=K;f.deserializeMediaSyncOutputState=ja;f.deserializeMediaSyncConferenceOutputState=ka;f.deserializeActor=L;f.deserializeActionMetadata=M;f.deserializeContent=N;f.deserializeInstagramContent=O;f.deserializeInstagramContentOwner=P;f.deserializeFacebookVideo=Q;f.deserializePlaceholder=R;f.deserializeFallback=S;f.deserializeVideo=T;f.deserializeReelsMetadata=U;f.deserializeSizedUrl=V;f.deserializeCaptionLocales=W;f.deserializeAudioAttribution=X;f.deserializeAdsMetadata=Y;f.deserializeHistoryRecord=Z;f.deserializeE2EEMediaSyncPayload=la;f.deserializeE2EEPMVAdBumperCount=ma;f.deserializeShoppingProductTag=$}),66);
__d("MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers",["MediaSyncAutoplayStateMediaSyncAutoplayStateTypes","MediaSyncStateMediaSyncStateSerializers","MediaSyncStateMediaSyncStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{cancel_action_id:""}}function c(){return{}}function d(){return{}}function e(){return{}}function h(){return{action_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",preview_duration_ms:"7000"}}function i(){return{action_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",content:b("MediaSyncStateMediaSyncStateSerializers").Content$DefaultConstructor(),display_state:b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(0),preview_duration_ms:"0"}}function j(){return{action_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",preview_duration_ms:"7000"}}function k(a,c){c.writeStructBegin("ParticipantInputState");c.writeFieldBegin({fname:"cancel_action_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.cancel_action_id!=null)c.writeString(a.cancel_action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();a.autoplay_input!=null&&(c.writeFieldBegin({fname:"autoplay_input",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),o(a.autoplay_input,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("ParticipantOutputState"),a.autoplay!=null&&(c.writeFieldBegin({fname:"autoplay",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),p(a.autoplay,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function m(a,c){c.writeStructBegin("ConferenceInputState");a.autoplay!=null&&(c.writeFieldBegin({fname:"autoplay",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),o(a.autoplay,c),c.writeFieldEnd());if(a.participantOutputs!=null){c.writeFieldBegin({fname:"participantOutputs",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:2});c.writeMapBegin({ktype:g.STRING,vtype:g.STRUCT,size:Object.keys(a.participantOutputs).length});a=Object.entries(a.participantOutputs);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);p(e,c)}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("ConferenceOutputState"),a.latest_input!=null&&(c.writeFieldBegin({fname:"latest_input",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),o(a.latest_input,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function o(a,c){c.writeStructBegin("AutoplayInput");c.writeFieldBegin({fname:"action_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.action_id!=null)c.writeString(a.action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:g.I32,fid:2});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"preview_duration_ms",ftype:g.I64,fid:4});if(a.preview_duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.preview_duration_ms));else{d="7000";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("AutoplayOutput");c.writeFieldBegin({fname:"action_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.action_id!=null)c.writeString(a.action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:g.I32,fid:2});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:g.STRUCT,fid:4});if(a.content!=null)b("MediaSyncStateMediaSyncStateSerializers").serializeContent(a.content,c);else{d=b("MediaSyncStateMediaSyncStateSerializers").Content$DefaultConstructor();b("MediaSyncStateMediaSyncStateSerializers").serializeContent(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"display_state",ftype:g.I32,fid:5});if(a.display_state!=null){c.writeI32((d=a.display_state)!=null?d:0)}else{d=b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"preview_duration_ms",ftype:g.I64,fid:6});if(a.preview_duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.preview_duration_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("E2EEAutoplayPayload");c.writeFieldBegin({fname:"action_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.action_id!=null)c.writeString(a.action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:g.I32,fid:2});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:g.STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"preview_duration_ms",ftype:g.I64,fid:4});if(a.preview_duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.preview_duration_ms));else{d="7000";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.cancel_action_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.autoplay_input=v(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cancel_action_id===void 0&&(c.cancel_action_id="");return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.autoplay=w(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.autoplay=v(a):a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participantOutputs={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=w(a);c.participantOutputs[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.latest_input=v(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.action_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I64?c.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_id===void 0&&(c.action_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.preview_duration_ms===void 0&&(c.preview_duration_ms="7000");return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.action_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRUCT?c.content=b("MediaSyncStateMediaSyncStateSerializers").deserializeContent(a):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.display_state=b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I64?c.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_id===void 0&&(c.action_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.content===void 0&&(c.content=b("MediaSyncStateMediaSyncStateSerializers").Content$DefaultConstructor());c.display_state===void 0&&(c.display_state=b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(0));c.preview_duration_ms===void 0&&(c.preview_duration_ms="0");return c}function x(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.action_id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I64?c.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_id===void 0&&(c.action_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.preview_duration_ms===void 0&&(c.preview_duration_ms="7000");return c}f.ParticipantInputState$DefaultConstructor=a;f.ParticipantOutputState$DefaultConstructor=c;f.ConferenceInputState$DefaultConstructor=d;f.ConferenceOutputState$DefaultConstructor=e;f.AutoplayInput$DefaultConstructor=h;f.AutoplayOutput$DefaultConstructor=i;f.E2EEAutoplayPayload$DefaultConstructor=j;f.serializeParticipantInputState=k;f.serializeParticipantOutputState=l;f.serializeConferenceInputState=m;f.serializeConferenceOutputState=n;f.serializeAutoplayInput=o;f.serializeAutoplayOutput=p;f.serializeE2EEAutoplayPayload=q;f.deserializeParticipantInputState=r;f.deserializeParticipantOutputState=s;f.deserializeConferenceInputState=t;f.deserializeConferenceOutputState=u;f.deserializeAutoplayInput=v;f.deserializeAutoplayOutput=w;f.deserializeE2EEAutoplayPayload=x}),66);
__d("MeetingAssistantStateMeetingAssistantStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNAVAILABLE:0,NOT_RECORDING:1,RECORDING:2});d=a({UNKNOWN:0,NOT_CONNECTED:1,CONNECTED:2,CONNECTION_REQUESTED:3});f=a({UNAVAILABLE:0,AGREED:1,DECLINED:2});b=a({UNAVAILABLE:0,ABLE:1,UNABLE:2});e.exports={AbilityToStartTranscription:b,AssistantStatus:d,TranscriptionConsentStatus:f,TranscriptionStatus:c}}),null);
__d("MeetingAssistantStateMeetingAssistantStateSerializers",["MeetingAssistantStateMeetingAssistantStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{}}function c(){return{transcription_status:b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0)}}function d(){return{transcription_status:b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0),assistant_status:b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(0),attachToId:"0",ownerId:"0"}}function e(a,c){c.writeStructBegin("ParticipantInputState");if(a.requested_transcription_status!=null){var d;c.writeFieldBegin({fname:"requested_transcription_status",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});c.writeI32((d=a.requested_transcription_status)!=null?d:0);c.writeFieldEnd()}if(a.transcription_consent_status!=null){c.writeFieldBegin({fname:"transcription_consent_status",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.transcription_consent_status)!=null?d:0);c.writeFieldEnd()}a.transcription_consent_status_reason!=null&&(c.writeFieldBegin({fname:"transcription_consent_status_reason",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.transcription_consent_status_reason),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ParticipantOutputState");c.writeFieldBegin({fname:"transcription_status",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.transcription_status!=null){var d;c.writeI32((d=a.transcription_status)!=null?d:0)}else{d=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();if(a.able_to_start_transcription!=null){c.writeFieldBegin({fname:"able_to_start_transcription",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.able_to_start_transcription)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("ConferenceOutputState");c.writeFieldBegin({fname:"transcription_status",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.transcription_status!=null){var d;c.writeI32((d=a.transcription_status)!=null?d:0)}else{d=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"assistant_status",ftype:g.I32,fid:2});if(a.assistant_status!=null){c.writeI32((d=a.assistant_status)!=null?d:0)}else{d=b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"attachToId",ftype:g.I64,fid:3});if(a.attachToId!=null)c.writeI64(BigInt(a.attachToId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"ownerId",ftype:g.I64,fid:4});if(a.ownerId!=null)c.writeI64(BigInt(a.ownerId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.requested_transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.transcription_consent_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionConsentStatus.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.transcription_consent_status_reason=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.able_to_start_transcription=b("MeetingAssistantStateMeetingAssistantStateTypes").AbilityToStartTranscription.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.transcription_status===void 0&&(c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0));return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.assistant_status=b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.attachToId=a.readI64().toString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I64?c.ownerId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.transcription_status===void 0&&(c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0));c.assistant_status===void 0&&(c.assistant_status=b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(0));c.attachToId===void 0&&(c.attachToId="0");c.ownerId===void 0&&(c.ownerId="0");return c}f.ParticipantInputState$DefaultConstructor=a;f.ParticipantOutputState$DefaultConstructor=c;f.ConferenceOutputState$DefaultConstructor=d;f.serializeParticipantInputState=e;f.serializeParticipantOutputState=h;f.serializeConferenceOutputState=i;f.deserializeParticipantInputState=j;f.deserializeParticipantOutputState=k;f.deserializeConferenceOutputState=l}),66);
__d("ModeratorControlsStateModeratorControlsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,SOFT_MUTE:1,END_CALL:2,APPROVE_JOIN:3,REMOVE_PARTICIPANT:4,TOGGLE_SCREENSHARING_AVAILABILITY:5,SOFT_MUTE_ALL:6,CANNOT_BE_MUTED:7});c=b("$InternalEnum")({UNKNOWN:0,SOFT_MUTE_ALL:1});d=b("$InternalEnum")({UNKNOWN:0,MODERATORS_ONLY:1,EVERYONE_IN_CALL:2,NOBODY:3});e.exports={ConferenceCapabilityType:c,ModeratorActionType:a,ModeratorFeatureAccessMode:d}}),null);
__d("ModeratorControlsStateModeratorControlsStateSerializers",["ModeratorControlsStateModeratorControlsStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{}}function c(){return{issue_action_target_uids:new Set()}}function d(){return{action_capabilities:new Set(),action_uuids_executed:new Set()}}function e(){return{participant:i(),conference:n()}}function h(){return{action_uuid:"",action_type:b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0),action_issued_by:""}}function i(){return{is_moderator:!1,screenshare_enabled:!1,action_capabilities_as_moderator:new Set(),action_capabilities_as_participant:new Set(),conference_capabilities_as_moderator:new Set()}}function j(){return{is_moderator:!1,action_capabilities_as_moderator:new Set(),action_capabilities_as_participant:new Set(),conference_capabilities_as_moderator:new Set()}}function k(){return{}}function l(){return{moderator_uids:[]}}function m(){return{participant_id:"",permissions:new Set()}}function n(){return{moderator_uids:[],allows_screen_share:!1,soft_mute_feature_enabled:!1,participant_capabilities:{},features_enabled:new Map(),conference_features_enabled:new Map(),are_moderators_mutable:!1}}function o(a,c){c.writeStructBegin("ModeratorControlsInputState"),a.participant!=null&&(c.writeFieldBegin({fname:"participant",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1}),q(a.participant,c),c.writeFieldEnd()),a.moderator!=null&&(c.writeFieldBegin({fname:"moderator",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),p(a.moderator,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function p(a,c){c.writeStructBegin("ModeratorInputState");a.allows_screen_share!=null&&(c.writeFieldBegin({fname:"allows_screen_share",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1}),c.writeBool(a.allows_screen_share),c.writeFieldEnd());if(a.issue_action!=null){var d;c.writeFieldBegin({fname:"issue_action",ftype:(g||(g=b("ThriftTypes"))).I32,fid:2});c.writeI32((d=a.issue_action)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"issue_action_target_uids",ftype:(g||(g=b("ThriftTypes"))).SET,fid:3});if(a.issue_action_target_uids!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.issue_action_target_uids.size});for(var d=a.issue_action_target_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.size});for(f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;h=f[d++]}else{d=f.next();if(d.done)break;h=d.value}h=h;c.writeString(h)}c.writeSetEnd()}c.writeFieldEnd();a.issue_action_context_serialized!=null&&(c.writeFieldBegin({fname:"issue_action_context_serialized",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.issue_action_context_serialized),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("ParticipantInputState");c.writeFieldBegin({fname:"action_capabilities",ftype:(g||(g=b("ThriftTypes"))).SET,fid:1});if(a.action_capabilities!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.action_capabilities.size});for(var d=a.action_capabilities,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:h.size});for(f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;h=f[d++]}else{d=f.next();if(d.done)break;h=d.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_uuids_executed",ftype:g.SET,fid:2});if(a.action_uuids_executed!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.action_uuids_executed.size});for(h=a.action_uuids_executed,d=Array.isArray(h),e=0,h=d?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=h.length)break;f=h[e++]}else{e=h.next();if(e.done)break;f=e.value}a=f;c.writeString(a)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.size});for(a=f,e=Array.isArray(a),d=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=a.length)break;h=a[d++]}else{d=a.next();if(d.done)break;h=d.value}f=h;c.writeString(f)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("ModeratorControlsOutputState");c.writeFieldBegin({fname:"participant",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.participant!=null)t(a.participant,c);else{var d=i();t(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"conference",ftype:g.STRUCT,fid:2});if(a.conference!=null)y(a.conference,c);else{d=n();y(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("ModeratorActionInfo");c.writeFieldBegin({fname:"action_uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.action_uuid!=null)c.writeString(a.action_uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_type",ftype:g.I32,fid:2});if(a.action_type!=null){c.writeI32((d=a.action_type)!=null?d:0)}else{d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_issued_by",ftype:g.STRING,fid:3});if(a.action_issued_by!=null)c.writeString(a.action_issued_by);else{d="";c.writeString(d)}c.writeFieldEnd();a.action_context!=null&&(c.writeFieldBegin({fname:"action_context",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.action_context),c.writeFieldEnd());a.action_issued_time!=null&&(c.writeFieldBegin({fname:"action_issued_time",ftype:(g||(g=b("ThriftTypes"))).I64,fid:5}),c.writeI64(b("jsbi").BigInt(a.action_issued_time)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("ParticipantOutputState");c.writeFieldBegin({fname:"is_moderator",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.is_moderator!=null)c.writeBool(a.is_moderator);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"screenshare_enabled",ftype:g.BOOL,fid:2});if(a.screenshare_enabled!=null)c.writeBool(a.screenshare_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.screenshare_enabled_changed_by!=null&&(c.writeFieldBegin({fname:"screenshare_enabled_changed_by",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.screenshare_enabled_changed_by),c.writeFieldEnd());c.writeFieldBegin({fname:"action_capabilities_as_moderator",ftype:g.SET,fid:4});if(a.action_capabilities_as_moderator!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.action_capabilities_as_moderator.size});for(var d=a.action_capabilities_as_moderator,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:h.size});for(f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;h=f[d++]}else{d=f.next();if(d.done)break;h=d.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_participant",ftype:g.SET,fid:5});if(a.action_capabilities_as_participant!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.action_capabilities_as_participant.size});for(h=a.action_capabilities_as_participant,d=Array.isArray(h),e=0,h=d?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=h.length)break;f=h[e++]}else{e=h.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:f.size});for(e=f,d=Array.isArray(e),h=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(h>=e.length)break;f=e[h++]}else{h=e.next();if(h.done)break;f=h.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();if(a.actions_issued!=null){c.writeFieldBegin({fname:"actions_issued",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:6});c.writeMapBegin({ktype:g.I32,vtype:g.STRUCT,size:a.actions_issued.size});for(f=a.actions_issued.entries(),h=Array.isArray(f),d=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}e=e;var i=e[0];e=e[1];c.writeI32((i=i)!=null?i:0);s(e,c)}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldBegin({fname:"conference_capabilities_as_moderator",ftype:g.SET,fid:7});if(a.conference_capabilities_as_moderator!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.conference_capabilities_as_moderator.size});for(i=a.conference_capabilities_as_moderator,e=Array.isArray(i),d=0,i=e?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=i.length)break;h=i[d++]}else{d=i.next();if(d.done)break;h=d.value}f=h;c.writeI32((a=f)!=null?a:0)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:h.size});for(f=h,a=Array.isArray(f),d=0,f=a?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}i=e;c.writeI32((h=i)!=null?h:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("ParticipantCapabilityInfo");c.writeFieldBegin({fname:"is_moderator",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.is_moderator!=null)c.writeBool(a.is_moderator);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_moderator",ftype:g.SET,fid:2});if(a.action_capabilities_as_moderator!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.action_capabilities_as_moderator.size});for(var d=a.action_capabilities_as_moderator,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:h.size});for(f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;h=f[d++]}else{d=f.next();if(d.done)break;h=d.value}h=h;c.writeI32((h=h)!=null?h:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_participant",ftype:g.SET,fid:3});if(a.action_capabilities_as_participant!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.action_capabilities_as_participant.size});for(h=a.action_capabilities_as_participant,d=Array.isArray(h),e=0,h=d?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=h.length)break;f=h[e++]}else{e=h.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:f.size});for(e=f,d=Array.isArray(e),h=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(h>=e.length)break;f=e[h++]}else{h=e.next();if(h.done)break;f=h.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"conference_capabilities_as_moderator",ftype:g.SET,fid:4});if(a.conference_capabilities_as_moderator!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.conference_capabilities_as_moderator.size});for(f=a.conference_capabilities_as_moderator,h=Array.isArray(f),d=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}a=e;c.writeI32((e=a)!=null?e:0)}c.writeSetEnd()}else{a=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.size});for(e=a,d=Array.isArray(e),h=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(h>=e.length)break;f=e[h++]}else{h=e.next();if(h.done)break;f=h.value}a=f;c.writeI32((f=a)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("ModeratorFeatureContext");if(a.feature_access_mode!=null){c.writeFieldBegin({fname:"feature_access_mode",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});c.writeI32((a=a.feature_access_mode)!=null?a:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("ConferenceInputState");c.writeFieldBegin({fname:"moderator_uids",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.moderator_uids!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.moderator_uids.length});for(var d=a.moderator_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.participant_permissions_upsert_input!=null&&(c.writeFieldBegin({fname:"participant_permissions_upsert_input",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),x(a.participant_permissions_upsert_input,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("ParticipantPermissionsUpsertInput");c.writeFieldBegin({fname:"participant_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.participant_id!=null)c.writeString(a.participant_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:g.SET,fid:2});if(a.permissions!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:a.permissions.size});for(var d=a.permissions,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).I32,size:f.size});for(e=f,a=Array.isArray(e),d=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("ConferenceOutputState");c.writeFieldBegin({fname:"moderator_uids",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.moderator_uids!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.moderator_uids.length});for(var d=a.moderator_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"allows_screen_share",ftype:g.BOOL,fid:2});if(a.allows_screen_share!=null)c.writeBool(a.allows_screen_share);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.allows_screen_share_changed_by!=null&&(c.writeFieldBegin({fname:"allows_screen_share_changed_by",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.allows_screen_share_changed_by),c.writeFieldEnd());c.writeFieldBegin({fname:"soft_mute_feature_enabled",ftype:g.BOOL,fid:4});if(a.soft_mute_feature_enabled!=null)c.writeBool(a.soft_mute_feature_enabled);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_capabilities",ftype:g.MAP,fid:5});if(a.participant_capabilities!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.participant_capabilities).length});f=Object.entries(a.participant_capabilities);for(h=0;h<f.length;h++){d=f[h];e=d[0];d=d[1];c.writeString(e);u(d,c)}c.writeMapEnd()}else{e={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(e).length});d=Object.entries(e);for(f=0;f<d.length;f++){h=d[f];e=h[0];h=h[1];c.writeString(e);u(h,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"features_enabled",ftype:g.MAP,fid:6});if(a.features_enabled!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:a.features_enabled.size});for(e=a.features_enabled.entries(),h=Array.isArray(e),d=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;var i=f[0];f=f[1];c.writeI32((i=i)!=null?i:0);v(f,c)}c.writeMapEnd()}else{i=new Map();c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:i.size});for(f=i.entries(),d=Array.isArray(f),h=0,f=d?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(h>=f.length)break;e=f[h++]}else{h=f.next();if(h.done)break;e=h.value}i=e;e=i[0];i=i[1];c.writeI32((e=e)!=null?e:0);v(i,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"conference_features_enabled",ftype:g.MAP,fid:7});if(a.conference_features_enabled!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:a.conference_features_enabled.size});for(e=a.conference_features_enabled.entries(),i=Array.isArray(e),h=0,e=i?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(h>=e.length)break;d=e[h++]}else{h=e.next();if(h.done)break;d=h.value}f=d;d=f[0];f=f[1];c.writeI32((d=d)!=null?d:0);v(f,c)}c.writeMapEnd()}else{d=new Map();c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I32,vtype:g.STRUCT,size:d.size});for(f=d.entries(),h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=f.length)break;e=f[i++]}else{i=f.next();if(i.done)break;e=i.value}d=e;e=d[0];d=d[1];c.writeI32((e=e)!=null?e:0);v(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"are_moderators_mutable",ftype:g.BOOL,fid:8});if(a.are_moderators_mutable!=null)c.writeBool(a.are_moderators_mutable);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant=B(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.moderator=A(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function A(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.allows_screen_share=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.issue_action=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32()):a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).SET){c.issue_action_target_uids=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.issue_action_target_uids.add(h)}}else a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.issue_action_context_serialized=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.issue_action_target_uids===void 0&&(c.issue_action_target_uids=new Set());return c}function B(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).SET){c.action_capabilities=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities.add(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).SET){c.action_uuids_executed=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){d=a.readString();c.action_uuids_executed.add(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_capabilities===void 0&&(c.action_capabilities=new Set());c.action_uuids_executed===void 0&&(c.action_uuids_executed=new Set());return c}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant=E(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.conference=J(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=i());c.conference===void 0&&(c.conference=n());return c}function D(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.action_uuid=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.action_type=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.action_issued_by=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.action_context=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I64?c.action_issued_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_uuid===void 0&&(c.action_uuid="");c.action_type===void 0&&(c.action_type=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0));c.action_issued_by===void 0&&(c.action_issued_by="");return c}function E(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_moderator=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.screenshare_enabled=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.screenshare_enabled_changed_by=a.readString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.action_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_moderator.add(h)}}else a.skip(e);break;case 5:if(e===(g||(g=b("ThriftTypes"))).SET){c.action_capabilities_as_participant=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_participant.add(d)}}else a.skip(e);break;case 6:if(e===(g||(g=b("ThriftTypes"))).MAP){c.actions_issued=new Map();d=a.readMapBegin();for(f=0;f<d.size;f++){h=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());var i=D(a);h!=null&&c.actions_issued.set(h,i)}}else a.skip(e);break;case 7:if(e===(g||(g=b("ThriftTypes"))).SET){c.conference_capabilities_as_moderator=new Set();h=a.readSetBegin();for(i=0;i<h.size;i++){f=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());c.conference_capabilities_as_moderator.add(f)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_moderator===void 0&&(c.is_moderator=!1);c.screenshare_enabled===void 0&&(c.screenshare_enabled=!1);c.action_capabilities_as_moderator===void 0&&(c.action_capabilities_as_moderator=new Set());c.action_capabilities_as_participant===void 0&&(c.action_capabilities_as_participant=new Set());c.conference_capabilities_as_moderator===void 0&&(c.conference_capabilities_as_moderator=new Set());return c}function F(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_moderator=a.readBool():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).SET){c.action_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_moderator.add(h)}}else a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).SET){c.action_capabilities_as_participant=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_participant.add(d)}}else a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.conference_capabilities_as_moderator=new Set();d=a.readSetBegin();for(f=0;f<d.size;f++){h=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());c.conference_capabilities_as_moderator.add(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_moderator===void 0&&(c.is_moderator=!1);c.action_capabilities_as_moderator===void 0&&(c.action_capabilities_as_moderator=new Set());c.action_capabilities_as_participant===void 0&&(c.action_capabilities_as_participant=new Set());c.conference_capabilities_as_moderator===void 0&&(c.conference_capabilities_as_moderator=new Set());return c}function G(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.feature_access_mode=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorFeatureAccessMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function H(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.moderator_uids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.moderator_uids.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant_permissions_upsert_input=I(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.moderator_uids===void 0&&(c.moderator_uids=[]);return c}function I(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.participant_id=a.readString():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).SET){c.permissions=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.permissions.add(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id===void 0&&(c.participant_id="");c.permissions===void 0&&(c.permissions=new Set());return c}function J(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.moderator_uids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.moderator_uids.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.allows_screen_share=a.readBool():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.allows_screen_share_changed_by=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).BOOL?c.soft_mute_feature_enabled=a.readBool():a.skip(e);break;case 5:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participant_capabilities={};h=a.readMapBegin();for(f=0;f<h.size;f++){d=a.readString();var i=F(a);c.participant_capabilities[d]=i}}else a.skip(e);break;case 6:if(e===(g||(g=b("ThriftTypes"))).MAP){c.features_enabled=new Map();d=a.readMapBegin();for(i=0;i<d.size;i++){f=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());h=G(a);f!=null&&c.features_enabled.set(f,h)}}else a.skip(e);break;case 7:if(e===(g||(g=b("ThriftTypes"))).MAP){c.conference_features_enabled=new Map();f=a.readMapBegin();for(h=0;h<f.size;h++){i=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());d=G(a);i!=null&&c.conference_features_enabled.set(i,d)}}else a.skip(e);break;case 8:e===(g||(g=b("ThriftTypes"))).BOOL?c.are_moderators_mutable=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.moderator_uids===void 0&&(c.moderator_uids=[]);c.allows_screen_share===void 0&&(c.allows_screen_share=!1);c.soft_mute_feature_enabled===void 0&&(c.soft_mute_feature_enabled=!1);c.participant_capabilities===void 0&&(c.participant_capabilities={});c.features_enabled===void 0&&(c.features_enabled=new Map());c.conference_features_enabled===void 0&&(c.conference_features_enabled=new Map());c.are_moderators_mutable===void 0&&(c.are_moderators_mutable=!1);return c}f.ModeratorControlsInputState$DefaultConstructor=a;f.ModeratorInputState$DefaultConstructor=c;f.ParticipantInputState$DefaultConstructor=d;f.ModeratorControlsOutputState$DefaultConstructor=e;f.ModeratorActionInfo$DefaultConstructor=h;f.ParticipantOutputState$DefaultConstructor=i;f.ParticipantCapabilityInfo$DefaultConstructor=j;f.ModeratorFeatureContext$DefaultConstructor=k;f.ConferenceInputState$DefaultConstructor=l;f.ParticipantPermissionsUpsertInput$DefaultConstructor=m;f.ConferenceOutputState$DefaultConstructor=n;f.serializeModeratorControlsInputState=o;f.serializeModeratorInputState=p;f.serializeParticipantInputState=q;f.serializeModeratorControlsOutputState=r;f.serializeModeratorActionInfo=s;f.serializeParticipantOutputState=t;f.serializeParticipantCapabilityInfo=u;f.serializeModeratorFeatureContext=v;f.serializeConferenceInputState=w;f.serializeParticipantPermissionsUpsertInput=x;f.serializeConferenceOutputState=y;f.deserializeModeratorControlsInputState=z;f.deserializeModeratorInputState=A;f.deserializeParticipantInputState=B;f.deserializeModeratorControlsOutputState=C;f.deserializeModeratorActionInfo=D;f.deserializeParticipantOutputState=E;f.deserializeParticipantCapabilityInfo=F;f.deserializeModeratorFeatureContext=G;f.deserializeConferenceInputState=H;f.deserializeParticipantPermissionsUpsertInput=I;f.deserializeConferenceOutputState=J}),66);
__d("NumberOfPeopleStateNumberOfPeopleStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{number_of_people:0}}function c(){return{participant_id_to_number_of_people:{}}}function d(a,c){c.writeStructBegin("NumberOfPeopleInputState");c.writeFieldBegin({fname:"number_of_people",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.number_of_people!=null)c.writeI32(a.number_of_people);else{a=0;c.writeI32(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("NumberOfPeopleOutputState");c.writeFieldBegin({fname:"participant_id_to_number_of_people",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.participant_id_to_number_of_people!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.I32,size:Object.keys(a.participant_id_to_number_of_people).length});a=Object.entries(a.participant_id_to_number_of_people);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);c.writeI32(e)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.I32,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);c.writeI32(d)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.number_of_people=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.number_of_people===void 0&&(c.number_of_people=0);return c}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participant_id_to_number_of_people={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=a.readI32();c.participant_id_to_number_of_people[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id_to_number_of_people===void 0&&(c.participant_id_to_number_of_people={});return c}f.NumberOfPeopleInputState$DefaultConstructor=a;f.NumberOfPeopleOutputState$DefaultConstructor=c;f.serializeNumberOfPeopleInputState=d;f.serializeNumberOfPeopleOutputState=e;f.deserializeNumberOfPeopleInputState=h;f.deserializeNumberOfPeopleOutputState=i}),66);
__d("PollsStatePollsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,ACTIVE:1});c=b("$InternalEnum")({UNKNOWN:0,TEXT:1});d=b("$InternalEnum")({Create:"create",Remove:"remove",Vote:"vote",Remove_vote:"remove_vote",Ping:"ping",Clone_poll_state:"clone_poll_state"});e.exports={PollState:a,PollType:c,PollsParticipantActionInputState$Types:d}}),null);
__d("PollsStatePollsStateSerializers",["PollsStatePollsStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{}}function i(){return{}}function a(){return{id:"",content:h(),voters:[],vote_fraction:0}}function c(){return{id:"",creator:i(),title:"",options:[],type:b("PollsStatePollsStateTypes").PollType.cast(0),state:b("PollsStatePollsStateTypes").PollState.cast(0)}}function d(){return{action:u()}}function e(){return{action:u(),request_id:""}}function j(){return{title:"",options:[],type:b("PollsStatePollsStateTypes").PollType.cast(0),poll_id:""}}function k(){return{cloned_poll_state:[]}}function l(){return{poll_id:""}}function m(){return{poll_option_id:""}}function n(){return{poll_option_id:""}}function o(){return{is_ping:!1}}function p(){return{can_create:!1,poll_permissions:{},poll_option_permissions:{}}}function q(){return{can_delete:!1}}function r(){return{can_vote:!1,can_remove_vote:!1}}function s(){return{polls:[],processed_action_uuids:new Set(),permissions:p(),is_creation_enabled:!1}}function t(){return{polls:[],participant_id_to_processed_action_uuids:{},permissions:{},users_with_creation_enabled:new Set(),is_creation_enabled_for_all:!1,is_online_learning_call:!1}}function u(){return{}}function v(a,c){c.writeStructBegin("Content"),a.text!=null&&(c.writeFieldBegin({fname:"text",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1}),c.writeString(a.text),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function w(a,c){c.writeStructBegin("PollParticipant"),a.fbid!=null&&(c.writeFieldBegin({fname:"fbid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1}),c.writeString(a.fbid),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function x(a,c){c.writeStructBegin("PollOption");c.writeFieldBegin({fname:"id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:g.STRUCT,fid:2});if(a.content!=null)v(a.content,c);else{d=h();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"voters",ftype:g.LIST,fid:3});if(a.voters!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.voters.length});for(var d=a.voters,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;w(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];w(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"vote_fraction",ftype:g.FLOAT,fid:4});if(a.vote_fraction!=null)c.writeFloat(a.vote_fraction);else{d=0;c.writeFloat(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("Poll");c.writeFieldBegin({fname:"id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"creator",ftype:g.STRUCT,fid:2});if(a.creator!=null)w(a.creator,c);else{d=i();w(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"title",ftype:g.STRING,fid:3});if(a.title!=null)c.writeString(a.title);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"options",ftype:g.LIST,fid:4});if(a.options!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.options.length});for(var d=a.options,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;x(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];x(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:g.I32,fid:5});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{e=b("PollsStatePollsStateTypes").PollType.cast(0);c.writeI32((h=e)!=null?h:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"state",ftype:g.I32,fid:6});if(a.state!=null){c.writeI32((f=a.state)!=null?f:0)}else{d=b("PollsStatePollsStateTypes").PollState.cast(0);c.writeI32((e=d)!=null?e:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("PollsParticipantInputState");c.writeFieldBegin({fname:"action",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.action!=null)M(a.action,c);else{var d=u();M(d,c)}c.writeFieldEnd();a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.action_uuid),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("E2EEPollsParticipantPayload");c.writeFieldBegin({fname:"action",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.action!=null)M(a.action,c);else{var d=u();M(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"request_id",ftype:g.STRING,fid:2});if(a.request_id!=null)c.writeString(a.request_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("PollCreateInputState");c.writeFieldBegin({fname:"title",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.title!=null)c.writeString(a.title);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"options",ftype:g.LIST,fid:2});if(a.options!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.options.length});for(var d=a.options,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;x(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];x(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:g.I32,fid:3});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{e=b("PollsStatePollsStateTypes").PollType.cast(0);c.writeI32((h=e)!=null?h:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_id",ftype:g.STRING,fid:4});if(a.poll_id!=null)c.writeString(a.poll_id);else{f="";c.writeString(f)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("PollCloneE2EEState");c.writeFieldBegin({fname:"cloned_poll_state",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.cloned_poll_state!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.cloned_poll_state.length});for(var a=a.cloned_poll_state,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;y(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];y(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("PollRemoveInputState");c.writeFieldBegin({fname:"poll_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.poll_id!=null)c.writeString(a.poll_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function E(a,c){c.writeStructBegin("PollVoteInputState");c.writeFieldBegin({fname:"poll_option_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.poll_option_id!=null)c.writeString(a.poll_option_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("PollRemoveVoteInputState");c.writeFieldBegin({fname:"poll_option_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.poll_option_id!=null)c.writeString(a.poll_option_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function G(a,c){c.writeStructBegin("PollPingInputState");c.writeFieldBegin({fname:"is_ping",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.is_ping!=null)c.writeBool(a.is_ping);else{a=!1;c.writeBool(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function H(a,c){c.writeStructBegin("ParticipantPermissions");c.writeFieldBegin({fname:"can_create",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.can_create!=null)c.writeBool(a.can_create);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_permissions",ftype:g.MAP,fid:2});if(a.poll_permissions!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.poll_permissions).length});d=Object.entries(a.poll_permissions);for(var e=0;e<d.length;e++){var f=d[e],h=f[0];f=f[1];c.writeString(h);I(f,c)}c.writeMapEnd()}else{h={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(h).length});f=Object.entries(h);for(d=0;d<f.length;d++){e=f[d];h=e[0];e=e[1];c.writeString(h);I(e,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_option_permissions",ftype:g.MAP,fid:3});if(a.poll_option_permissions!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.poll_option_permissions).length});h=Object.entries(a.poll_option_permissions);for(e=0;e<h.length;e++){f=h[e];d=f[0];a=f[1];c.writeString(d);J(a,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});d=Object.entries(f);for(a=0;a<d.length;a++){h=d[a];e=h[0];f=h[1];c.writeString(e);J(f,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function I(a,c){c.writeStructBegin("PollPermissions");c.writeFieldBegin({fname:"can_delete",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.can_delete!=null)c.writeBool(a.can_delete);else{a=!1;c.writeBool(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function J(a,c){c.writeStructBegin("PollOptionPermissions");c.writeFieldBegin({fname:"can_vote",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.can_vote!=null)c.writeBool(a.can_vote);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"can_remove_vote",ftype:g.BOOL,fid:2});if(a.can_remove_vote!=null)c.writeBool(a.can_remove_vote);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function K(a,c){c.writeStructBegin("PollsParticipantOutputState");c.writeFieldBegin({fname:"polls",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.polls!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.polls.length});for(var d=a.polls,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;y(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];y(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"processed_action_uuids",ftype:g.SET,fid:2});if(a.processed_action_uuids!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.processed_action_uuids.size});for(d=a.processed_action_uuids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeSetEnd()}else{h=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.size});for(f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;h=f[d++]}else{d=f.next();if(d.done)break;h=d.value}h=h;c.writeString(h)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:g.STRUCT,fid:3});if(a.permissions!=null)H(a.permissions,c);else{h=p();H(h,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_creation_enabled",ftype:g.BOOL,fid:4});if(a.is_creation_enabled!=null)c.writeBool(a.is_creation_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function L(a,c){c.writeStructBegin("PollsConferenceOutputState");c.writeFieldBegin({fname:"polls",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.polls!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.polls.length});for(var d=a.polls,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;y(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];y(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_id_to_processed_action_uuids",ftype:g.MAP,fid:2});if(a.participant_id_to_processed_action_uuids!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(a.participant_id_to_processed_action_uuids).length});d=Object.entries(a.participant_id_to_processed_action_uuids);for(e=0;e<d.length;e++){f=d[e];h=f[0];f=f[1];c.writeString(h);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.size});for(var h=f,f=Array.isArray(h),i=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(i>=h.length)break;j=h[i++]}else{i=h.next();if(i.done)break;j=i.value}j=j;c.writeString(j)}c.writeSetEnd()}c.writeMapEnd()}else{j={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(j).length});i=Object.entries(j);for(f=0;f<i.length;f++){h=i[f];d=h[0];e=h[1];c.writeString(d);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:e.size});for(j=e,h=Array.isArray(j),d=0,j=h?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(d>=j.length)break;e=j[d++]}else{d=j.next();if(d.done)break;e=d.value}e=e;c.writeString(e)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:g.MAP,fid:3});if(a.permissions!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.permissions).length});e=Object.entries(a.permissions);for(d=0;d<e.length;d++){h=e[d];j=h[0];i=h[1];c.writeString(j);H(i,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});h=Object.entries(f);for(j=0;j<h.length;j++){i=h[j];e=i[0];d=i[1];c.writeString(e);H(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_with_creation_enabled",ftype:g.SET,fid:4});if(a.users_with_creation_enabled!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.users_with_creation_enabled.size});for(f=a.users_with_creation_enabled,i=Array.isArray(f),e=0,f=i?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(e>=f.length)break;d=f[e++]}else{e=f.next();if(e.done)break;d=e.value}h=d;c.writeString(h)}c.writeSetEnd()}else{j=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:j.size});for(d=j,h=Array.isArray(d),e=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(e>=d.length)break;i=d[e++]}else{e=d.next();if(e.done)break;i=e.value}f=i;c.writeString(f)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_creation_enabled_for_all",ftype:g.BOOL,fid:5});if(a.is_creation_enabled_for_all!=null)c.writeBool(a.is_creation_enabled_for_all);else{j=!1;c.writeBool(j)}c.writeFieldEnd();a.creation_gk!=null&&(c.writeFieldBegin({fname:"creation_gk",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.creation_gk),c.writeFieldEnd());c.writeFieldBegin({fname:"is_online_learning_call",ftype:g.BOOL,fid:7});if(a.is_online_learning_call!=null)c.writeBool(a.is_online_learning_call);else{i=!1;c.writeBool(i)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function M(a,c){c.writeStructBegin("PollsParticipantActionInputState");if(a.create!=null){c.writeFieldBegin({fname:"create",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});B(a.create,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.remove!=null){c.writeFieldBegin({fname:"remove",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2});D(a.remove,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.vote!=null){c.writeFieldBegin({fname:"vote",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3});E(a.vote,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.remove_vote!=null){c.writeFieldBegin({fname:"remove_vote",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:4});F(a.remove_vote,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.ping!=null){c.writeFieldBegin({fname:"ping",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:6});G(a.ping,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.clone_poll_state!=null){c.writeFieldBegin({fname:"clone_poll_state",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:8});C(a.clone_poll_state,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.text=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.fbid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.content=N(a):a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.voters=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var i=O(a);c.voters.push(i)}}else a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).FLOAT?c.vote_fraction=a.readFloat():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.content===void 0&&(c.content=h());c.voters===void 0&&(c.voters=[]);c.vote_fraction===void 0&&(c.vote_fraction=0);return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.creator=O(a):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.title=a.readString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).LIST){c.options=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=P(a);c.options.push(h)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.type=b("PollsStatePollsStateTypes").PollType.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I32?c.state=b("PollsStatePollsStateTypes").PollState.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.creator===void 0&&(c.creator=i());c.title===void 0&&(c.title="");c.options===void 0&&(c.options=[]);c.type===void 0&&(c.type=b("PollsStatePollsStateTypes").PollType.cast(0));c.state===void 0&&(c.state=b("PollsStatePollsStateTypes").PollState.cast(0));return c}function aa(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.action=$(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.action_uuid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=u());return c}function ba(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.action=$(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.request_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=u());c.request_id===void 0&&(c.request_id="");return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.title=a.readString():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.options=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=P(a);c.options.push(h)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.type=b("PollsStatePollsStateTypes").PollType.cast(a.readI32()):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.poll_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.title===void 0&&(c.title="");c.options===void 0&&(c.options=[]);c.type===void 0&&(c.type=b("PollsStatePollsStateTypes").PollType.cast(0));c.poll_id===void 0&&(c.poll_id="");return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.cloned_poll_state=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=Q(a);c.cloned_poll_state.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cloned_poll_state===void 0&&(c.cloned_poll_state=[]);return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.poll_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_id===void 0&&(c.poll_id="");return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.poll_option_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_option_id===void 0&&(c.poll_option_id="");return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.poll_option_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_option_id===void 0&&(c.poll_option_id="");return c}function W(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_ping=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_ping===void 0&&(c.is_ping=!1);return c}function X(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.can_create=a.readBool():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).MAP){c.poll_permissions={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=Y(a);c.poll_permissions[h]=i}}else a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).MAP){c.poll_option_permissions={};h=a.readMapBegin();for(i=0;i<h.size;i++){f=a.readString();d=Z(a);c.poll_option_permissions[f]=d}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_create===void 0&&(c.can_create=!1);c.poll_permissions===void 0&&(c.poll_permissions={});c.poll_option_permissions===void 0&&(c.poll_option_permissions={});return c}function Y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.can_delete=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_delete===void 0&&(c.can_delete=!1);return c}function Z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.can_vote=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.can_remove_vote=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_vote===void 0&&(c.can_vote=!1);c.can_remove_vote===void 0&&(c.can_remove_vote=!1);return c}function ca(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.polls=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=Q(a);c.polls.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).SET){c.processed_action_uuids=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){d=a.readString();c.processed_action_uuids.add(d)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.permissions=X(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_creation_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.polls===void 0&&(c.polls=[]);c.processed_action_uuids===void 0&&(c.processed_action_uuids=new Set());c.permissions===void 0&&(c.permissions=p());c.is_creation_enabled===void 0&&(c.is_creation_enabled=!1);return c}function da(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.polls=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=Q(a);c.polls.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participant_id_to_processed_action_uuids={};h=a.readMapBegin();for(f=0;f<h.size;f++){d=a.readString();var i=new Set(),j=a.readSetBegin();for(var k=0;k<j.size;k++){var l=a.readString();i.add(l)}c.participant_id_to_processed_action_uuids[d]=i}}else a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).MAP){c.permissions={};l=a.readMapBegin();for(k=0;k<l.size;k++){j=a.readString();d=X(a);c.permissions[j]=d}}else a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.users_with_creation_enabled=new Set();i=a.readSetBegin();for(f=0;f<i.size;f++){h=a.readString();c.users_with_creation_enabled.add(h)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_creation_enabled_for_all=a.readBool():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.creation_gk=a.readString():a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_online_learning_call=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.polls===void 0&&(c.polls=[]);c.participant_id_to_processed_action_uuids===void 0&&(c.participant_id_to_processed_action_uuids={});c.permissions===void 0&&(c.permissions={});c.users_with_creation_enabled===void 0&&(c.users_with_creation_enabled=new Set());c.is_creation_enabled_for_all===void 0&&(c.is_creation_enabled_for_all=!1);c.is_online_learning_call===void 0&&(c.is_online_learning_call=!1);return c}function $(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(g||(g=b("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.create=R(a),c="create";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: create, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.remove=T(a),c="remove";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: remove, previous deserialized field: "+c);else a.skip(f);break;case 3:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.vote=U(a),c="vote";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: vote, previous deserialized field: "+c);else a.skip(f);break;case 4:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.remove_vote=V(a),c="remove_vote";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: remove_vote, previous deserialized field: "+c);else a.skip(f);break;case 6:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.ping=W(a),c="ping";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: ping, previous deserialized field: "+c);else a.skip(f);break;case 8:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.clone_poll_state=S(a),c="clone_poll_state";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: clone_poll_state, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.Content$DefaultConstructor=h;f.PollParticipant$DefaultConstructor=i;f.PollOption$DefaultConstructor=a;f.Poll$DefaultConstructor=c;f.PollsParticipantInputState$DefaultConstructor=d;f.E2EEPollsParticipantPayload$DefaultConstructor=e;f.PollCreateInputState$DefaultConstructor=j;f.PollCloneE2EEState$DefaultConstructor=k;f.PollRemoveInputState$DefaultConstructor=l;f.PollVoteInputState$DefaultConstructor=m;f.PollRemoveVoteInputState$DefaultConstructor=n;f.PollPingInputState$DefaultConstructor=o;f.ParticipantPermissions$DefaultConstructor=p;f.PollPermissions$DefaultConstructor=q;f.PollOptionPermissions$DefaultConstructor=r;f.PollsParticipantOutputState$DefaultConstructor=s;f.PollsConferenceOutputState$DefaultConstructor=t;f.PollsParticipantActionInputState$DefaultConstructor=u;f.serializeContent=v;f.serializePollParticipant=w;f.serializePollOption=x;f.serializePoll=y;f.serializePollsParticipantInputState=z;f.serializeE2EEPollsParticipantPayload=A;f.serializePollCreateInputState=B;f.serializePollCloneE2EEState=C;f.serializePollRemoveInputState=D;f.serializePollVoteInputState=E;f.serializePollRemoveVoteInputState=F;f.serializePollPingInputState=G;f.serializeParticipantPermissions=H;f.serializePollPermissions=I;f.serializePollOptionPermissions=J;f.serializePollsParticipantOutputState=K;f.serializePollsConferenceOutputState=L;f.serializePollsParticipantActionInputState=M;f.deserializeContent=N;f.deserializePollParticipant=O;f.deserializePollOption=P;f.deserializePoll=Q;f.deserializePollsParticipantInputState=aa;f.deserializeE2EEPollsParticipantPayload=ba;f.deserializePollCreateInputState=R;f.deserializePollCloneE2EEState=S;f.deserializePollRemoveInputState=T;f.deserializePollVoteInputState=U;f.deserializePollRemoveVoteInputState=V;f.deserializePollPingInputState=W;f.deserializeParticipantPermissions=X;f.deserializePollPermissions=Y;f.deserializePollOptionPermissions=Z;f.deserializePollsParticipantOutputState=ca;f.deserializePollsConferenceOutputState=da;f.deserializePollsParticipantActionInputState=$}),66);
__d("RPServerCaptionsStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{enabled:!1}}function c(){return{enabled:!1}}function d(a,c){c.writeStructBegin("ServerCaptionsParticipantInputState");c.writeFieldBegin({fname:"enabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.enabled!=null)c.writeBool(a.enabled);else{a=!1;c.writeBool(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("ServerCaptionsParticipantOutputState");c.writeFieldBegin({fname:"enabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.enabled!=null)c.writeBool(a.enabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.dataChannelNodeId!=null&&(c.writeFieldBegin({fname:"dataChannelNodeId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:2}),c.writeI64(BigInt(a.dataChannelNodeId)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.enabled===void 0&&(c.enabled=!1);return c}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.enabled=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.dataChannelNodeId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.enabled===void 0&&(c.enabled=!1);return c}f.ServerCaptionsParticipantInputState$DefaultConstructor=a;f.ServerCaptionsParticipantOutputState$DefaultConstructor=c;f.serializeServerCaptionsParticipantInputState=d;f.serializeServerCaptionsParticipantOutputState=e;f.deserializeServerCaptionsParticipantInputState=h;f.deserializeServerCaptionsParticipantOutputState=i}),66);
__d("RaisedHandsQueueStateRaisedHandsQueueStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,JOIN:1,LEAVE:2,E2EE_STATE_CLONE:3});c=b("$InternalEnum")({UNKNOWN:0,CLASS_ROOM:1,WORKPLACE:2,MESSENGER:3});d=b("$InternalEnum")({UNKNOWN:0,HIDDEN:1,VISIBLE:2});e.exports={CallType:c,RaisedHandsQueueParticipantRequestType:a,RaisedHandsQueuerState:d}}),null);
__d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers",["RaisedHandsQueueStateRaisedHandsQueueStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{actor_uuid:"",request_type:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0)}}function c(){return{state:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(0),start_time:"0",is_new_state:!1}}function d(){return{uid:"",state_info_history:[]}}function e(){return{request_type:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0)}}function h(){return{operational_raised_hands_queue:[]}}function i(){return{request_type:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0),request_id:""}}function j(){return{queue:[],is_raise_hand_feature_enabled:!1,processed_action_uuids:new Set()}}function k(){return{queue:[],is_raise_hand_feature_enabled:!1,participant_id_to_processed_action_uuids:{}}}function l(){return{queue:[],is_raise_hand_feature_enabled:!1}}function m(a,c){c.writeStructBegin("RaisedHandsActionInfo");c.writeFieldBegin({fname:"actor_uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.actor_uuid!=null)c.writeString(a.actor_uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"request_type",ftype:g.I32,fid:2});if(a.request_type!=null){c.writeI32((d=a.request_type)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.action_uuid),c.writeFieldEnd());if(a.participant_uuids!=null){c.writeFieldBegin({fname:"participant_uuids",ftype:(g||(g=b("ThriftTypes"))).SET,fid:4});c.writeSetBegin({etype:g.STRING,size:a.participant_uuids.size});for(var d=a.participant_uuids,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeSetEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("RaisedHandsQueuerStateInfo");c.writeFieldBegin({fname:"state",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.state!=null){var d;c.writeI32((d=a.state)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"start_time",ftype:g.I64,fid:2});if(a.start_time!=null)c.writeI64(b("jsbi").BigInt(a.start_time));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"is_new_state",ftype:g.BOOL,fid:3});if(a.is_new_state!=null)c.writeBool(a.is_new_state);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("RaisedHandsQueuer");c.writeFieldBegin({fname:"uid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.uid!=null)c.writeString(a.uid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"state_info_history",ftype:g.LIST,fid:3});if(a.state_info_history!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.state_info_history.length});for(var d=a.state_info_history,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;n(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){a=f[e];n(a,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("RaisedHandsQueueParticipantInputState");c.writeFieldBegin({fname:"request_type",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.request_type!=null){var d;c.writeI32((d=a.request_type)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.action_uuid),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("E2EERaisedHandsQueueStateCloneRequestParams");c.writeFieldBegin({fname:"operational_raised_hands_queue",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.operational_raised_hands_queue!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.operational_raised_hands_queue.length});for(var a=a.operational_raised_hands_queue,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;o(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];o(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("E2EERaisedHandsQueueParticipantPayload");c.writeFieldBegin({fname:"request_type",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.request_type!=null){var d;c.writeI32((d=a.request_type)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"request_id",ftype:g.STRING,fid:2});if(a.request_id!=null)c.writeString(a.request_id);else{d="";c.writeString(d)}c.writeFieldEnd();a.state_clone_request_params!=null&&(c.writeFieldBegin({fname:"state_clone_request_params",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),q(a.state_clone_request_params,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("RaisedHandsQueueParticipantOutputState");c.writeFieldBegin({fname:"queue",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;o(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];o(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_raise_hand_feature_enabled!=null)c.writeBool(a.is_raise_hand_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"processed_action_uuids",ftype:g.SET,fid:4});if(a.processed_action_uuids!=null){c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.processed_action_uuids.size});for(e=a.processed_action_uuids,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(h>=e.length)break;d=e[h++]}else{h=e.next();if(h.done)break;d=h.value}a=d;c.writeString(a)}c.writeSetEnd()}else{d=new Set();c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:d.size});for(a=d,h=Array.isArray(a),f=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(f>=a.length)break;e=a[f++]}else{f=a.next();if(f.done)break;e=f.value}d=e;c.writeString(d)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("RaisedHandsQueueConferenceOutputState");c.writeFieldBegin({fname:"queue",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;o(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];o(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_raise_hand_feature_enabled!=null)c.writeBool(a.is_raise_hand_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();if(a.moderator_uids_if_empty_means_everyone_is_moderator!=null){c.writeFieldBegin({fname:"moderator_uids_if_empty_means_everyone_is_moderator",ftype:(g||(g=b("ThriftTypes"))).SET,fid:4});c.writeSetBegin({etype:g.STRING,size:a.moderator_uids_if_empty_means_everyone_is_moderator.size});for(e=a.moderator_uids_if_empty_means_everyone_is_moderator,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(h>=e.length)break;d=e[h++]}else{h=e.next();if(h.done)break;d=h.value}d=d;c.writeString(d)}c.writeSetEnd();c.writeFieldEnd()}if(a.call_type!=null){c.writeFieldBegin({fname:"call_type",ftype:(g||(g=b("ThriftTypes"))).I32,fid:5});c.writeI32((d=a.call_type)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"participant_id_to_processed_action_uuids",ftype:g.MAP,fid:6});if(a.participant_id_to_processed_action_uuids!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(a.participant_id_to_processed_action_uuids).length});h=Object.entries(a.participant_id_to_processed_action_uuids);for(f=0;f<h.length;f++){e=h[f];d=e[0];a=e[1];c.writeString(d);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.size});for(e=a,d=Array.isArray(e),a=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(d){if(a>=e.length)break;i=e[a++]}else{a=e.next();if(a.done)break;i=a.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.SET,size:Object.keys(i).length});a=Object.entries(i);for(d=0;d<a.length;d++){e=a[d];h=e[0];f=e[1];c.writeString(h);c.writeSetBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.size});for(i=f,e=Array.isArray(i),h=0,i=e?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}f=f;c.writeString(f)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("RaisedHandsQueueExtensionOutputState");c.writeFieldBegin({fname:"queue",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;o(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];o(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:g.BOOL,fid:2});if(a.is_raise_hand_feature_enabled!=null)c.writeBool(a.is_raise_hand_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.actor_uuid=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.action_uuid=a.readString():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.participant_uuids=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participant_uuids.add(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.actor_uuid===void 0&&(c.actor_uuid="");c.request_type===void 0&&(c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0));return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.state=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I64?c.start_time=a.readI64().toString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_new_state=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.state===void 0&&(c.state=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(0));c.start_time===void 0&&(c.start_time="0");c.is_new_state===void 0&&(c.is_new_state=!1);return c}function x(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.uid=a.readString():a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.state_info_history=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=w(a);c.state_info_history.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uid===void 0&&(c.uid="");c.state_info_history===void 0&&(c.state_info_history=[]);return c}function y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.action_uuid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.request_type===void 0&&(c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0));return c}function z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.operational_raised_hands_queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=x(a);c.operational_raised_hands_queue.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.operational_raised_hands_queue===void 0&&(c.operational_raised_hands_queue=[]);return c}function A(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.request_id=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.state_clone_request_params=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.request_type===void 0&&(c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0));c.request_id===void 0&&(c.request_id="");return c}function B(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=x(a);c.queue.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.processed_action_uuids=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){d=a.readString();c.processed_action_uuids.add(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue===void 0&&(c.queue=[]);c.is_raise_hand_feature_enabled===void 0&&(c.is_raise_hand_feature_enabled=!1);c.processed_action_uuids===void 0&&(c.processed_action_uuids=new Set());return c}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=x(a);c.queue.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).SET){c.moderator_uids_if_empty_means_everyone_is_moderator=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){d=a.readString();c.moderator_uids_if_empty_means_everyone_is_moderator.add(d)}}else a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.call_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").CallType.cast(a.readI32()):a.skip(e);break;case 6:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participant_id_to_processed_action_uuids={};d=a.readMapBegin();for(f=0;f<d.size;f++){h=a.readString();var i=new Set(),j=a.readSetBegin();for(var k=0;k<j.size;k++){var l=a.readString();i.add(l)}c.participant_id_to_processed_action_uuids[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue===void 0&&(c.queue=[]);c.is_raise_hand_feature_enabled===void 0&&(c.is_raise_hand_feature_enabled=!1);c.participant_id_to_processed_action_uuids===void 0&&(c.participant_id_to_processed_action_uuids={});return c}function D(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=x(a);c.queue.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue===void 0&&(c.queue=[]);c.is_raise_hand_feature_enabled===void 0&&(c.is_raise_hand_feature_enabled=!1);return c}f.RaisedHandsActionInfo$DefaultConstructor=a;f.RaisedHandsQueuerStateInfo$DefaultConstructor=c;f.RaisedHandsQueuer$DefaultConstructor=d;f.RaisedHandsQueueParticipantInputState$DefaultConstructor=e;f.E2EERaisedHandsQueueStateCloneRequestParams$DefaultConstructor=h;f.E2EERaisedHandsQueueParticipantPayload$DefaultConstructor=i;f.RaisedHandsQueueParticipantOutputState$DefaultConstructor=j;f.RaisedHandsQueueConferenceOutputState$DefaultConstructor=k;f.RaisedHandsQueueExtensionOutputState$DefaultConstructor=l;f.serializeRaisedHandsActionInfo=m;f.serializeRaisedHandsQueuerStateInfo=n;f.serializeRaisedHandsQueuer=o;f.serializeRaisedHandsQueueParticipantInputState=p;f.serializeE2EERaisedHandsQueueStateCloneRequestParams=q;f.serializeE2EERaisedHandsQueueParticipantPayload=r;f.serializeRaisedHandsQueueParticipantOutputState=s;f.serializeRaisedHandsQueueConferenceOutputState=t;f.serializeRaisedHandsQueueExtensionOutputState=u;f.deserializeRaisedHandsActionInfo=v;f.deserializeRaisedHandsQueuerStateInfo=w;f.deserializeRaisedHandsQueuer=x;f.deserializeRaisedHandsQueueParticipantInputState=y;f.deserializeE2EERaisedHandsQueueStateCloneRequestParams=z;f.deserializeE2EERaisedHandsQueueParticipantPayload=A;f.deserializeRaisedHandsQueueParticipantOutputState=B;f.deserializeRaisedHandsQueueConferenceOutputState=C;f.deserializeRaisedHandsQueueExtensionOutputState=D}),66);
__d("RoomsNotesRoomsNotesStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{note_id:""}}function c(){return{note_id:""}}function d(a,c){c.writeStructBegin("RoomsNotesInputState");c.writeFieldBegin({fname:"note_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.note_id!=null)c.writeString(a.note_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("RoomsNotesOutputState");c.writeFieldBegin({fname:"note_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.note_id!=null)c.writeString(a.note_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.note_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.note_id===void 0&&(c.note_id="");return c}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.note_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.note_id===void 0&&(c.note_id="");return c}f.RoomsNotesInputState$DefaultConstructor=a;f.RoomsNotesOutputState$DefaultConstructor=c;f.serializeRoomsNotesInputState=d;f.serializeRoomsNotesOutputState=e;f.deserializeRoomsNotesInputState=h;f.deserializeRoomsNotesOutputState=i}),66);
__d("ScreenshareFloorControlStateScreenshareFloorControlStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,REQUEST_FLOOR:1,RELEASE_FLOOR:2});c=b("$InternalEnum")({DEFAULT_STREAM:0,SCREEN_SHARE:1});d=b("$InternalEnum")({SHARE_SCREEN:0,PIN_STREAM:1});e.exports={FloorControlAction:a,FloorControlIntent:d,FloorControlStream:c}}),null);
__d("ScreenshareFloorControlStateScreenshareFloorControlStateSerializers",["ScreenshareFloorControlStateScreenshareFloorControlStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{fbid:"",floorControlStream:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1),floorControlIntent:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0)}}function c(){return{floorControlAction:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(0),floorControlStream:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1),floorControlIntent:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0)}}function d(){return{floorParticipants:[]}}function h(a,c){c.writeStructBegin("FloorParticipant");c.writeFieldBegin({fname:"fbid",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.fbid!=null)c.writeString(a.fbid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlStream",ftype:g.I32,fid:2});if(a.floorControlStream!=null){c.writeI32((d=a.floorControlStream)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlIntent",ftype:g.I32,fid:3});if(a.floorControlIntent!=null){c.writeI32((d=a.floorControlIntent)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.clientEndpointId!=null&&(c.writeFieldBegin({fname:"clientEndpointId",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.clientEndpointId),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("ScreenshareFloorControlInputState");c.writeFieldBegin({fname:"floorControlAction",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.floorControlAction!=null){var d;c.writeI32((d=a.floorControlAction)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlStream",ftype:g.I32,fid:2});if(a.floorControlStream!=null){c.writeI32((d=a.floorControlStream)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlIntent",ftype:g.I32,fid:3});if(a.floorControlIntent!=null){c.writeI32((d=a.floorControlIntent)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.session_id),c.writeFieldEnd());a.clientEndpointId!=null&&(c.writeFieldBegin({fname:"clientEndpointId",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.clientEndpointId),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("ScreenshareFloorControlOutputState");c.writeFieldBegin({fname:"floorParticipants",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.floorParticipants!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.floorParticipants.length});for(var d=a.floorParticipants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;h(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.session_id),c.writeFieldEnd());a.session_start_time_ms!=null&&(c.writeFieldBegin({fname:"session_start_time_ms",ftype:(g||(g=b("ThriftTypes"))).I64,fid:3}),c.writeI64(b("jsbi").BigInt(a.session_start_time_ms)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.fbid=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(a.readI32()):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.clientEndpointId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.fbid===void 0&&(c.fbid="");c.floorControlStream===void 0&&(c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1));c.floorControlIntent===void 0&&(c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0));return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.floorControlAction=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(a.readI32()):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.session_id=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.clientEndpointId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.floorControlAction===void 0&&(c.floorControlAction=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(0));c.floorControlStream===void 0&&(c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1));c.floorControlIntent===void 0&&(c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0));return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.floorParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=j(a);c.floorParticipants.push(h)}}else a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.session_id=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I64?c.session_start_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.floorParticipants===void 0&&(c.floorParticipants=[]);return c}f.FloorParticipant$DefaultConstructor=a;f.ScreenshareFloorControlInputState$DefaultConstructor=c;f.ScreenshareFloorControlOutputState$DefaultConstructor=d;f.serializeFloorParticipant=h;f.serializeScreenshareFloorControlInputState=e;f.serializeScreenshareFloorControlOutputState=i;f.deserializeFloorParticipant=j;f.deserializeScreenshareFloorControlInputState=k;f.deserializeScreenshareFloorControlOutputState=l}),66);
__d("SctpNegotiationStateSctpNegotiationStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,OFFER:1,ANSWER:2,PARTICIPANTS_UPDATED:3});c=b("$InternalEnum")({UNKNOWN:0,SFU:1,P2P:2,SERVER_DETERMINED:3});e.exports={SctpMediaPath:c,SctpMessageTypeEnum:a}}),null);
__d("SctpNegotiationStateSctpNegotiationStateSerializers",["SctpNegotiationStateSctpNegotiationStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{sdp:i(),msgType:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0),mediaPath:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0)}}function h(){return{sdp:i(),msgType:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0),mediaPath:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0)}}function i(){return{}}function c(){return{outputOffer:h(),senderUserId:""}}function d(){return{}}function e(a,c){c.writeStructBegin("SCTPNegotiationParticipantInputState");c.writeFieldBegin({fname:"sdp",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.sdp!=null)k(a.sdp,c);else{var d=i();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"msgType",ftype:g.I32,fid:2});if(a.msgType!=null){c.writeI32((d=a.msgType)!=null?d:0)}else{d=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaPath",ftype:g.I32,fid:3});if(a.mediaPath!=null){c.writeI32((d=a.mediaPath)!=null?d:0)}else{a=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("SCTPNegotiationParticipantOutputState");c.writeFieldBegin({fname:"sdp",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.sdp!=null)k(a.sdp,c);else{var d=i();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"msgType",ftype:g.I32,fid:2});if(a.msgType!=null){c.writeI32((d=a.msgType)!=null?d:0)}else{d=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaPath",ftype:g.I32,fid:3});if(a.mediaPath!=null){c.writeI32((d=a.mediaPath)!=null?d:0)}else{d=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();if(a.userIdToNodeIdMap!=null){c.writeFieldBegin({fname:"userIdToNodeIdMap",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:4});c.writeMapBegin({ktype:g.STRING,vtype:g.I64,size:a.userIdToNodeIdMap.size});for(var d=a.userIdToNodeIdMap.entries(),a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;var h=f[0];f=f[1];c.writeString(h);c.writeI64(b("jsbi").BigInt(f))}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("SctpSessionDescription"),a.sdpString!=null&&(c.writeFieldBegin({fname:"sdpString",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1}),c.writeString(a.sdpString),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function l(a,c){c.writeStructBegin("PendingSdpOffer");c.writeFieldBegin({fname:"outputOffer",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.outputOffer!=null)j(a.outputOffer,c);else{var d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"senderUserId",ftype:g.STRING,fid:2});if(a.senderUserId!=null)c.writeString(a.senderUserId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("SCTPNegotiationConferenceOutputState");a.pendingSdpOffer!=null&&(c.writeFieldBegin({fname:"pendingSdpOffer",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:2}),l(a.pendingSdpOffer,c),c.writeFieldEnd());if(a.userIdToNodeIdMap!=null){c.writeFieldBegin({fname:"userIdToNodeIdMap",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:3});c.writeMapBegin({ktype:g.STRING,vtype:g.I64,size:a.userIdToNodeIdMap.size});for(var a=a.userIdToNodeIdMap.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var h=f[0];f=f[1];c.writeString(h);c.writeI64(b("jsbi").BigInt(f))}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.sdp=p(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sdp===void 0&&(c.sdp=i());c.msgType===void 0&&(c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0));c.mediaPath===void 0&&(c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0));return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.sdp=p(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(a.readI32()):a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(a.readI32()):a.skip(e);break;case 4:if(e===(g||(g=b("ThriftTypes"))).MAP){c.userIdToNodeIdMap=new Map();d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),j=Number(a.readI64());c.userIdToNodeIdMap.set(h,j)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sdp===void 0&&(c.sdp=i());c.msgType===void 0&&(c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0));c.mediaPath===void 0&&(c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0));return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.sdpString=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.outputOffer=o(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.senderUserId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.outputOffer===void 0&&(c.outputOffer=h());c.senderUserId===void 0&&(c.senderUserId="");return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 2:e===(g||(g=b("ThriftTypes"))).STRUCT?c.pendingSdpOffer=q(a):a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).MAP){c.userIdToNodeIdMap=new Map();d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=Number(a.readI64());c.userIdToNodeIdMap.set(h,i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}f.SCTPNegotiationParticipantInputState$DefaultConstructor=a;f.SCTPNegotiationParticipantOutputState$DefaultConstructor=h;f.SctpSessionDescription$DefaultConstructor=i;f.PendingSdpOffer$DefaultConstructor=c;f.SCTPNegotiationConferenceOutputState$DefaultConstructor=d;f.serializeSCTPNegotiationParticipantInputState=e;f.serializeSCTPNegotiationParticipantOutputState=j;f.serializeSctpSessionDescription=k;f.serializePendingSdpOffer=l;f.serializeSCTPNegotiationConferenceOutputState=m;f.deserializeSCTPNegotiationParticipantInputState=n;f.deserializeSCTPNegotiationParticipantOutputState=o;f.deserializeSctpSessionDescription=p;f.deserializePendingSdpOffer=q;f.deserializeSCTPNegotiationConferenceOutputState=r}),66);
__d("SidebandStateSidebandStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,CREATE_CONVERSATION:1,LEAVE_CONVERSATION:2,SEND_AC_WAVE:3,CANCEL_AC_WAVE:4,ACCEPT_AC_WAVE:5,REJECT_AC_WAVE:6,UPDATE_AVAILABILITY:7,JOIN_EXISTING_AC:8,RESPOND_TO_AC_WAVE:9,CREATE_SOLO_CONVERSATION:10,SET_CONVERSATION_CONTEXT:11});d=a({UNKNOWN:0,AVAILABLE:1,NOT_AVAILABLE:2,IN_A_MEETING:3});f=a({UNKNOWN:0,QUICK_QUESTION:1,LETS_CHAT:2});b=a({UNKNOWN:0,NEED_A_MINUTE:1});a=a({UNKNOWN:0,REJECTED:1});e.exports={SidebandActionType:c,SidebandUserAvailability:d,SidebandWaveResponderMessage:b,SidebandWaveSenderMessage:f,SidebandWaveStatus:a}}),null);
__d("SidebandStateSidebandStateSerializers",["SidebandStateSidebandStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{sender:"",recipient:""}}function c(){return{id:"",participant_ids:[]}}function d(){return{id:"",availability:b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(0)}}function e(){return{sideband_type:b("SidebandStateSidebandStateTypes").SidebandActionType.cast(0)}}function h(){return{sideband_active_conversations:[],waves:[],users_info:[]}}function i(){return{sideband_active_conversations:[],waves:[],users_info:[]}}function j(a,c){c.writeStructBegin("ActiveConversationWave");c.writeFieldBegin({fname:"sender",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.sender!=null)c.writeString(a.sender);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"recipient",ftype:g.STRING,fid:2});if(a.recipient!=null)c.writeString(a.recipient);else{d="";c.writeString(d)}c.writeFieldEnd();if(a.sender_message!=null){c.writeFieldBegin({fname:"sender_message",ftype:(g||(g=b("ThriftTypes"))).I32,fid:3});c.writeI32((d=a.sender_message)!=null?d:0);c.writeFieldEnd()}if(a.responder_message!=null){c.writeFieldBegin({fname:"responder_message",ftype:(g||(g=b("ThriftTypes"))).I32,fid:4});c.writeI32((d=a.responder_message)!=null?d:0);c.writeFieldEnd()}if(a.status!=null){c.writeFieldBegin({fname:"status",ftype:(g||(g=b("ThriftTypes"))).I32,fid:5});c.writeI32((d=a.status)!=null?d:0);c.writeFieldEnd()}a.expiration_timestamp_seconds!=null&&(c.writeFieldBegin({fname:"expiration_timestamp_seconds",ftype:(g||(g=b("ThriftTypes"))).I64,fid:6}),c.writeI64(b("jsbi").BigInt(a.expiration_timestamp_seconds)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("ActiveConversation");c.writeFieldBegin({fname:"id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_ids",ftype:g.LIST,fid:2});if(a.participant_ids!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.participant_ids.length});for(var d=a.participant_ids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.conversation_context!=null&&(c.writeFieldBegin({fname:"conversation_context",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:3}),c.writeString(a.conversation_context),c.writeFieldEnd());a.call_conference_name!=null&&(c.writeFieldBegin({fname:"call_conference_name",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:4}),c.writeString(a.call_conference_name),c.writeFieldEnd());a.call_url!=null&&(c.writeFieldBegin({fname:"call_url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.call_url),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("SidebandUserInfo");c.writeFieldBegin({fname:"id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"availability",ftype:g.I32,fid:2});if(a.availability!=null){c.writeI32((d=a.availability)!=null?d:0)}else{a=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("SidebandInputState");c.writeFieldBegin({fname:"sideband_type",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.sideband_type!=null){var d;c.writeI32((d=a.sideband_type)!=null?d:0)}else{d=b("SidebandStateSidebandStateTypes").SidebandActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();if(a.participant_ids!=null){c.writeFieldBegin({fname:"participant_ids",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:2});c.writeListBegin({etype:g.STRING,size:a.participant_ids.length});for(var d=a.participant_ids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeString(h)}c.writeListEnd();c.writeFieldEnd()}a.wave!=null&&(c.writeFieldBegin({fname:"wave",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:3}),j(a.wave,c),c.writeFieldEnd());if(a.availability!=null){c.writeFieldBegin({fname:"availability",ftype:(g||(g=b("ThriftTypes"))).I32,fid:4});c.writeI32((h=a.availability)!=null?h:0);c.writeFieldEnd()}a.active_conversation_id!=null&&(c.writeFieldBegin({fname:"active_conversation_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:5}),c.writeString(a.active_conversation_id),c.writeFieldEnd());a.conversation_context!=null&&(c.writeFieldBegin({fname:"conversation_context",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:6}),c.writeString(a.conversation_context),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("SidebandOutputState");c.writeFieldBegin({fname:"sideband_active_conversations",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.sideband_active_conversations!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.sideband_active_conversations.length});for(var d=a.sideband_active_conversations,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;k(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];k(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"waves",ftype:g.LIST,fid:2});if(a.waves!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.waves.length});for(d=a.waves,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;j(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];j(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_info",ftype:g.LIST,fid:3});if(a.users_info!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.users_info.length});for(d=a.users_info,e=Array.isArray(d),h=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(h>=d.length)break;f=d[h++]}else{h=d.next();if(h.done)break;f=h.value}a=f;l(a,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(a=0;a<f.length;a++){h=f[a];l(h,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("SidebandConferenceOutputState");c.writeFieldBegin({fname:"sideband_active_conversations",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.sideband_active_conversations!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.sideband_active_conversations.length});for(var d=a.sideband_active_conversations,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;k(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];k(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"waves",ftype:g.LIST,fid:2});if(a.waves!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.waves.length});for(d=a.waves,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;j(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];j(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_info",ftype:g.LIST,fid:3});if(a.users_info!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.users_info.length});for(d=a.users_info,e=Array.isArray(d),h=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(h>=d.length)break;f=d[h++]}else{h=d.next();if(h.done)break;f=h.value}a=f;l(a,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:f.length});for(a=0;a<f.length;a++){h=f[a];l(h,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.sender=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.recipient=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).I32?c.sender_message=b("SidebandStateSidebandStateTypes").SidebandWaveSenderMessage.cast(a.readI32()):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.responder_message=b("SidebandStateSidebandStateTypes").SidebandWaveResponderMessage.cast(a.readI32()):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.status=b("SidebandStateSidebandStateTypes").SidebandWaveStatus.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I64?c.expiration_timestamp_seconds=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sender===void 0&&(c.sender="");c.recipient===void 0&&(c.recipient="");return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.id=a.readString():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participant_ids.push(h)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.conversation_context=a.readString():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.call_conference_name=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.call_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.participant_ids===void 0&&(c.participant_ids=[]);return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.id=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).I32?c.availability=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.availability===void 0&&(c.availability=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(0));return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.sideband_type=b("SidebandStateSidebandStateTypes").SidebandActionType.cast(a.readI32()):a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participant_ids.push(h)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.wave=p(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.availability=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(a.readI32()):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).STRING?c.active_conversation_id=a.readString():a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRING?c.conversation_context=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_type===void 0&&(c.sideband_type=b("SidebandStateSidebandStateTypes").SidebandActionType.cast(0));return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.sideband_active_conversations=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=q(a);c.sideband_active_conversations.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.waves=[];h=a.readListBegin();for(f=0;f<h.size;f++){d=p(a);c.waves.push(d)}}else a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.users_info=[];d=a.readListBegin();for(f=0;f<d.size;f++){h=r(a);c.users_info.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_active_conversations===void 0&&(c.sideband_active_conversations=[]);c.waves===void 0&&(c.waves=[]);c.users_info===void 0&&(c.users_info=[]);return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.sideband_active_conversations=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=q(a);c.sideband_active_conversations.push(h)}}else a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.waves=[];h=a.readListBegin();for(f=0;f<h.size;f++){d=p(a);c.waves.push(d)}}else a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.users_info=[];d=a.readListBegin();for(f=0;f<d.size;f++){h=r(a);c.users_info.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_active_conversations===void 0&&(c.sideband_active_conversations=[]);c.waves===void 0&&(c.waves=[]);c.users_info===void 0&&(c.users_info=[]);return c}f.ActiveConversationWave$DefaultConstructor=a;f.ActiveConversation$DefaultConstructor=c;f.SidebandUserInfo$DefaultConstructor=d;f.SidebandInputState$DefaultConstructor=e;f.SidebandOutputState$DefaultConstructor=h;f.SidebandConferenceOutputState$DefaultConstructor=i;f.serializeActiveConversationWave=j;f.serializeActiveConversation=k;f.serializeSidebandUserInfo=l;f.serializeSidebandInputState=m;f.serializeSidebandOutputState=n;f.serializeSidebandConferenceOutputState=o;f.deserializeActiveConversationWave=p;f.deserializeActiveConversation=q;f.deserializeSidebandUserInfo=r;f.deserializeSidebandInputState=s;f.deserializeSidebandOutputState=t;f.deserializeSidebandConferenceOutputState=u}),66);
__d("SimpleStateSimpleStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{number:0}}function c(){return{max:0}}function d(a,c){c.writeStructBegin("SimpleInputState");c.writeFieldBegin({fname:"number",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.number!=null)c.writeI32(a.number);else{a=0;c.writeI32(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("SimpleOutputState");c.writeFieldBegin({fname:"max",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.max!=null)c.writeI32(a.max);else{a=0;c.writeI32(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.number=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.number===void 0&&(c.number=0);return c}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.max=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.max===void 0&&(c.max=0);return c}f.SimpleInputState$DefaultConstructor=a;f.SimpleOutputState$DefaultConstructor=c;f.serializeSimpleInputState=d;f.serializeSimpleOutputState=e;f.deserializeSimpleInputState=h;f.deserializeSimpleOutputState=i}),66);
__d("WhiteboardMessengerStateWhiteboardMessengerStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{}}function c(){return{is_feature_enabled:!1}}function d(){return{is_feature_enabled:!1}}function e(a,b){b.writeStructBegin("WhiteboardMessengerInputState"),b.writeFieldStop(),b.writeStructEnd()}function h(a,c){c.writeStructBegin("WhiteboardMessengerOutputState");c.writeFieldBegin({fname:"is_feature_enabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.is_feature_enabled!=null)c.writeBool(a.is_feature_enabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.session_id),c.writeFieldEnd());a.is_feature_enabled_on_desktop!=null&&(c.writeFieldBegin({fname:"is_feature_enabled_on_desktop",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:3}),c.writeBool(a.is_feature_enabled_on_desktop),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("WhiteboardMessengerConferenceOutputState");c.writeFieldBegin({fname:"is_feature_enabled",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.is_feature_enabled!=null)c.writeBool(a.is_feature_enabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.is_feature_enabled_on_desktop!=null&&(c.writeFieldBegin({fname:"is_feature_enabled_on_desktop",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:2}),c.writeBool(a.is_feature_enabled_on_desktop),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.session_id=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_feature_enabled_on_desktop=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_feature_enabled===void 0&&(c.is_feature_enabled=!1);return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.is_feature_enabled_on_desktop=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_feature_enabled===void 0&&(c.is_feature_enabled=!1);return c}f.WhiteboardMessengerInputState$DefaultConstructor=a;f.WhiteboardMessengerOutputState$DefaultConstructor=c;f.WhiteboardMessengerConferenceOutputState$DefaultConstructor=d;f.serializeWhiteboardMessengerInputState=e;f.serializeWhiteboardMessengerOutputState=h;f.serializeWhiteboardMessengerConferenceOutputState=i;f.deserializeWhiteboardMessengerInputState=j;f.deserializeWhiteboardMessengerOutputState=k;f.deserializeWhiteboardMessengerConferenceOutputState=l}),66);
__d("WhiteboardStateWhiteboardStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,GET_SESSION:1});e.exports={WhiteboardAction:a}}),null);
__d("WhiteboardStateWhiteboardStateSerializers",["ThriftTypes","WhiteboardStateWhiteboardStateTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{whiteboardAction:b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(0)}}function c(){return{excalidraw_url:"",excalidraw_generated_by:""}}function d(a,c){c.writeStructBegin("WhiteboardInputState");c.writeFieldBegin({fname:"whiteboardAction",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.whiteboardAction!=null){c.writeI32((a=a.whiteboardAction)!=null?a:0)}else{a=b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(0);c.writeI32((a=a)!=null?a:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("WhiteboardOutputState");c.writeFieldBegin({fname:"excalidraw_url",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.excalidraw_url!=null)c.writeString(a.excalidraw_url);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"excalidraw_generated_by",ftype:g.STRING,fid:2});if(a.excalidraw_generated_by!=null)c.writeString(a.excalidraw_generated_by);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.whiteboardAction=b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.whiteboardAction===void 0&&(c.whiteboardAction=b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(0));return c}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.excalidraw_url=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.excalidraw_generated_by=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.excalidraw_url===void 0&&(c.excalidraw_url="");c.excalidraw_generated_by===void 0&&(c.excalidraw_generated_by="");return c}f.WhiteboardInputState$DefaultConstructor=a;f.WhiteboardOutputState$DefaultConstructor=c;f.serializeWhiteboardInputState=d;f.serializeWhiteboardOutputState=e;f.deserializeWhiteboardInputState=h;f.deserializeWhiteboardOutputState=i}),66);
__d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,ASSET:1,WHITEBOARD:2});c=b("$InternalEnum")({OPEN:0});d=b("$InternalEnum")({Asset:"asset"});e.exports={WorkroomsResource$Types:d,WorkroomsResourceIntent:c,WorkroomsResourceType:a}}),null);
__d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers",["ThriftTypes","WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{userID:"",userName:""}}function i(){return{asset_name:"",encrypted_asset_id:"",asset_url:""}}function a(){return{participant:h(),asset_url:"",asset:i(),type:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0),intent:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0),resource:j()}}function c(){return{participant:h(),asset_url:"",asset:i(),timestamp_utc:"",type:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0),intent:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0),resource:j()}}function j(){return{}}function k(a,c){c.writeStructBegin("MeetingParticipant");c.writeFieldBegin({fname:"userID",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.userID!=null)c.writeString(a.userID);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"userName",ftype:g.STRING,fid:2});if(a.userName!=null)c.writeString(a.userName);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("WorkroomsAsset");c.writeFieldBegin({fname:"asset_name",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.asset_name!=null)c.writeString(a.asset_name);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"encrypted_asset_id",ftype:g.STRING,fid:2});if(a.encrypted_asset_id!=null)c.writeString(a.encrypted_asset_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset_url",ftype:g.STRING,fid:3});if(a.asset_url!=null)c.writeString(a.asset_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a,c){c.writeStructBegin("WorkroomsAskEveryoneToOpenInputState");c.writeFieldBegin({fname:"participant",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.participant!=null)k(a.participant,c);else{var d=h();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset_url",ftype:g.STRING,fid:2});if(a.asset_url!=null)c.writeString(a.asset_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset",ftype:g.STRUCT,fid:3});if(a.asset!=null)l(a.asset,c);else{d=i();l(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:g.I32,fid:4});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"intent",ftype:g.I32,fid:5});if(a.intent!=null){c.writeI32((d=a.intent)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"resource",ftype:g.STRUCT,fid:6});if(a.resource!=null)m(a.resource,c);else{d=j();m(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("WorkroomsAskEveryoneToOpenOutputState");c.writeFieldBegin({fname:"participant",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.participant!=null)k(a.participant,c);else{var d=h();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset_url",ftype:g.STRING,fid:2});if(a.asset_url!=null)c.writeString(a.asset_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset",ftype:g.STRUCT,fid:3});if(a.asset!=null)l(a.asset,c);else{d=i();l(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"timestamp_utc",ftype:g.STRING,fid:4});if(a.timestamp_utc!=null)c.writeString(a.timestamp_utc);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:g.I32,fid:5});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"intent",ftype:g.I32,fid:6});if(a.intent!=null){c.writeI32((d=a.intent)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"resource",ftype:g.STRUCT,fid:7});if(a.resource!=null)m(a.resource,c);else{d=j();m(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("WorkroomsResource");if(a.asset!=null){c.writeFieldBegin({fname:"asset",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});l(a.asset,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.userID=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.userName=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userID===void 0&&(c.userID="");c.userName===void 0&&(c.userName="");return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.asset_name=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.encrypted_asset_id=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRING?c.asset_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.asset_name===void 0&&(c.asset_name="");c.encrypted_asset_id===void 0&&(c.encrypted_asset_id="");c.asset_url===void 0&&(c.asset_url="");return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant=n(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.asset_url=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.asset=o(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(a.readI32()):a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).STRUCT?c.resource=r(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=h());c.asset_url===void 0&&(c.asset_url="");c.asset===void 0&&(c.asset=i());c.type===void 0&&(c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0));c.intent===void 0&&(c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0));c.resource===void 0&&(c.resource=j());return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant=n(a):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.asset_url=a.readString():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).STRUCT?c.asset=o(a):a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).STRING?c.timestamp_utc=a.readString():a.skip(e);break;case 5:e===(g||(g=b("ThriftTypes"))).I32?c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(a.readI32()):a.skip(e);break;case 6:e===(g||(g=b("ThriftTypes"))).I32?c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(a.readI32()):a.skip(e);break;case 7:e===(g||(g=b("ThriftTypes"))).STRUCT?c.resource=r(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=h());c.asset_url===void 0&&(c.asset_url="");c.asset===void 0&&(c.asset=i());c.timestamp_utc===void 0&&(c.timestamp_utc="");c.type===void 0&&(c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0));c.intent===void 0&&(c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0));c.resource===void 0&&(c.resource=j());return c}function r(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(g||(g=b("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(g||(g=b("ThriftTypes"))).STRUCT)if(c==null)d.asset=o(a),c="asset";else throw new Error("more than one field have been deserialized in union type: WorkroomsResource; current field: asset, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.MeetingParticipant$DefaultConstructor=h;f.WorkroomsAsset$DefaultConstructor=i;f.WorkroomsAskEveryoneToOpenInputState$DefaultConstructor=a;f.WorkroomsAskEveryoneToOpenOutputState$DefaultConstructor=c;f.WorkroomsResource$DefaultConstructor=j;f.serializeMeetingParticipant=k;f.serializeWorkroomsAsset=l;f.serializeWorkroomsAskEveryoneToOpenInputState=d;f.serializeWorkroomsAskEveryoneToOpenOutputState=e;f.serializeWorkroomsResource=m;f.deserializeMeetingParticipant=n;f.deserializeWorkroomsAsset=o;f.deserializeWorkroomsAskEveryoneToOpenInputState=p;f.deserializeWorkroomsAskEveryoneToOpenOutputState=q;f.deserializeWorkroomsResource=r}),66);
__d("WorkroomsStateWorkroomStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,JOIN_CONVERSATION:1,CREATE_CONVERSATION:2,LEAVE_CONVERSATION:3});e.exports={ActionType:a}}),null);
__d("WorkroomsStateWorkroomStateSerializers",["ThriftTypes","WorkroomsStateWorkroomStateTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{type:b("WorkroomsStateWorkroomStateTypes").ActionType.cast(0)}}function c(){return{participant_ids:[]}}function d(){return{active_conversations:{}}}function e(){return{active_conversations:{}}}function h(a,c){c.writeStructBegin("WorkroomInputState");c.writeFieldBegin({fname:"type",ftype:(g||(g=b("ThriftTypes"))).I32,fid:1});if(a.type!=null){var d;c.writeI32((d=a.type)!=null?d:0)}else{d=b("WorkroomsStateWorkroomStateTypes").ActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.conversation_id!=null&&(c.writeFieldBegin({fname:"conversation_id",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:2}),c.writeString(a.conversation_id),c.writeFieldEnd());if(a.participant_ids!=null){c.writeFieldBegin({fname:"participant_ids",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:3});c.writeListBegin({etype:g.STRING,size:a.participant_ids.length});for(var d=a.participant_ids,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("ActiveConversation");c.writeFieldBegin({fname:"participant_ids",ftype:(g||(g=b("ThriftTypes"))).LIST,fid:1});if(a.participant_ids!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:a.participant_ids.length});for(var a=a.participant_ids,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRING,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeString(d)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("WorkroomOutputState");c.writeFieldBegin({fname:"active_conversations",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.active_conversations!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.active_conversations).length});a=Object.entries(a.active_conversations);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);i(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);i(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("WorkroomConferenceOutputState");c.writeFieldBegin({fname:"active_conversations",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.active_conversations!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.active_conversations).length});a=Object.entries(a.active_conversations);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);i(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);i(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I32?c.type=b("WorkroomsStateWorkroomStateTypes").ActionType.cast(a.readI32()):a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).STRING?c.conversation_id=a.readString():a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participant_ids.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.type===void 0&&(c.type=b("WorkroomsStateWorkroomStateTypes").ActionType.cast(0));return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.participant_ids.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_ids===void 0&&(c.participant_ids=[]);return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.active_conversations={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=m(a);c.active_conversations[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.active_conversations===void 0&&(c.active_conversations={});return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.active_conversations={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=m(a);c.active_conversations[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.active_conversations===void 0&&(c.active_conversations={});return c}f.WorkroomInputState$DefaultConstructor=a;f.ActiveConversation$DefaultConstructor=c;f.WorkroomOutputState$DefaultConstructor=d;f.WorkroomConferenceOutputState$DefaultConstructor=e;f.serializeWorkroomInputState=h;f.serializeActiveConversation=i;f.serializeWorkroomOutputState=j;f.serializeWorkroomConferenceOutputState=k;f.deserializeWorkroomInputState=l;f.deserializeActiveConversation=m;f.deserializeWorkroomOutputState=n;f.deserializeWorkroomConferenceOutputState=o}),66);
__d("WorkroomsVrStateWorkroomsVRStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function h(){return{zoneUUID:"",isBridge:!1}}function a(){return{participant:h()}}function c(){return{participants:{}}}function i(a,c){c.writeStructBegin("VRParticipant");c.writeFieldBegin({fname:"zoneUUID",ftype:(g||(g=b("ThriftTypes"))).STRING,fid:1});if(a.zoneUUID!=null)c.writeString(a.zoneUUID);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"isBridge",ftype:g.BOOL,fid:2});if(a.isBridge!=null)c.writeBool(a.isBridge);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a,c){c.writeStructBegin("WorkroomsVRInputState");c.writeFieldBegin({fname:"participant",ftype:(g||(g=b("ThriftTypes"))).STRUCT,fid:1});if(a.participant!=null)i(a.participant,c);else{a=h();i(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("WorkroomsVROutputState");c.writeFieldBegin({fname:"participants",ftype:(g||(g=b("ThriftTypes"))).MAP,fid:1});if(a.participants!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(a.participants).length});a=Object.entries(a.participants);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);i(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).STRING,vtype:g.STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);i(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRING?c.zoneUUID=a.readString():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.isBridge=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.zoneUUID===void 0&&(c.zoneUUID="");c.isBridge===void 0&&(c.isBridge=!1);return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).STRUCT?c.participant=j(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=h());return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participants={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readString(),i=j(a);c.participants[h]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participants===void 0&&(c.participants={});return c}f.VRParticipant$DefaultConstructor=h;f.WorkroomsVRInputState$DefaultConstructor=a;f.WorkroomsVROutputState$DefaultConstructor=c;f.serializeVRParticipant=i;f.serializeWorkroomsVRInputState=d;f.serializeWorkroomsVROutputState=e;f.deserializeVRParticipant=j;f.deserializeWorkroomsVRInputState=k;f.deserializeWorkroomsVROutputState=l}),66);
__d("ZenonStateSyncSerializer",["BreakoutStateBreakoutStateSerializers","CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers","CompactSerializerPolyfill","CompanionStateCompanionStateSerializers","ConfigEngineStateConfigEngineStateSerializers","CoplayStateCoplayStateSerializers","CountdownTimerStateCountdownTimerStateSerializers","CoviewStateCoviewStateSerializers","DecryptedE2eeDataSerializers","E2eeStateSerializers","EmojiReactionsStateEmojiReactionsStateSerializers","IntenticonsStateIntenticonsStateSerializers","LiveStreamStateLiveStreamStateSerializers","MediaInformationStateMediaInformationStateSerializers","MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers","MediaSyncStateMediaSyncStateSerializers","MeetingAssistantStateMeetingAssistantStateSerializers","ModeratorControlsStateModeratorControlsStateSerializers","NumberOfPeopleStateNumberOfPeopleStateSerializers","PollsStatePollsStateSerializers","RPServerCaptionsStateSerializers","RaisedHandsQueueStateRaisedHandsQueueStateSerializers","RoomsNotesRoomsNotesStateSerializers","ScreenshareFloorControlStateScreenshareFloorControlStateSerializers","SctpNegotiationStateSctpNegotiationStateSerializers","SidebandStateSidebandStateSerializers","SimpleStateSimpleStateSerializers","StateSyncSerializers","WhiteboardMessengerStateWhiteboardMessengerStateSerializers","WhiteboardStateWhiteboardStateSerializers","WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers","WorkroomsStateWorkroomStateSerializers","WorkroomsVrStateWorkroomsVRStateSerializers"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("StateSyncSerializers").deserializeSnapshot;return a!=null?d("CompactSerializerPolyfill").deserialize(a,b):null}function b(a){var b=d("StateSyncSerializers").serializeSnapshot;return d("CompactSerializerPolyfill").serialize(a,b)}function c(a){var b=d("DecryptedE2eeDataSerializers").deserializeDecryptedE2eeData;return a!=null?d("CompactSerializerPolyfill").deserialize(a,b):null}function e(a,b){var c=null;switch(a){case"countdown_timer":c=d("CountdownTimerStateCountdownTimerStateSerializers").deserializeCountdownTimerOutputState;break;case"polls":c=d("PollsStatePollsStateSerializers").deserializePollsParticipantOutputState;break;case"emoji_reactions":c=d("EmojiReactionsStateEmojiReactionsStateSerializers").deserializeEmojiReactionsOutputState;break;case"raised_hands_queue_e2ee":case"emoji_reactions_e2ee":case"polls_e2ee":case"countdown_timer_e2ee":c=d("DecryptedE2eeDataSerializers").deserializeDecryptedE2eeData;break;case"raised_hands_queue":c=d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers").deserializeRaisedHandsQueueParticipantOutputState;break;case"simple_internal":case"simple_external":c=d("SimpleStateSimpleStateSerializers").deserializeSimpleOutputState;break;case"live_stream":c=d("LiveStreamStateLiveStreamStateSerializers").deserializeLiveStreamClientOutputState;break;case"moderator_controls":c=d("ModeratorControlsStateModeratorControlsStateSerializers").deserializeModeratorControlsOutputState;break;case"media_information":c=d("MediaInformationStateMediaInformationStateSerializers").deserializeMediaInformationOutputState;break;case"media_sync":c=d("MediaSyncStateMediaSyncStateSerializers").deserializeMediaSyncOutputState;break;case"media_sync_autoplay":c=d("MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers").deserializeParticipantOutputState;break;case"coplay":c=d("CoplayStateCoplayStateSerializers").deserializeCoplayOutputState;break;case"workroom":c=d("WorkroomsStateWorkroomStateSerializers").deserializeWorkroomOutputState;break;case"screenshare_floor_control":c=d("ScreenshareFloorControlStateScreenshareFloorControlStateSerializers").deserializeScreenshareFloorControlOutputState;break;case"meeting_assistant":c=d("MeetingAssistantStateMeetingAssistantStateSerializers").deserializeParticipantOutputState;break;case"whiteboard":c=d("WhiteboardStateWhiteboardStateSerializers").deserializeWhiteboardOutputState;break;case"sideband":c=d("SidebandStateSidebandStateSerializers").deserializeSidebandOutputState;break;case"breakout":c=d("BreakoutStateBreakoutStateSerializers").deserializeBreakoutOutputState;break;case"rooms_notes":c=d("RoomsNotesRoomsNotesStateSerializers").deserializeRoomsNotesOutputState;break;case"workrooms_vr":c=d("WorkroomsVrStateWorkroomsVRStateSerializers").deserializeWorkroomsVROutputState;break;case"coview":c=d("CoviewStateCoviewStateSerializers").deserializeCoviewOutputState;break;case"can_you_see_my_screen":c=d("CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers").deserializeCanYouSeeMyScreenParticipantOutputState;break;case"intenticons":c=d("IntenticonsStateIntenticonsStateSerializers").deserializeIntenticonParticipantOutputState;break;case"whiteboard_messenger":c=d("WhiteboardMessengerStateWhiteboardMessengerStateSerializers").deserializeWhiteboardMessengerOutputState;break;case"number_of_people":c=d("NumberOfPeopleStateNumberOfPeopleStateSerializers").deserializeNumberOfPeopleOutputState;break;case"E2eeState":if(b!=null)return{data:b};break;case"sctp_negotiation":c=d("SctpNegotiationStateSctpNegotiationStateSerializers").deserializeSCTPNegotiationParticipantOutputState;break;case"companion":c=d("CompanionStateCompanionStateSerializers").deserializeCompanionOutputState;break;case"workrooms_ask_everyone_to_open":c=d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers").deserializeWorkroomsAskEveryoneToOpenOutputState;break;case"config_engine":c=d("ConfigEngineStateConfigEngineStateSerializers").deserializeConfigEngineClientOutputState;break;case"server_captions_state":c=d("RPServerCaptionsStateSerializers").deserializeServerCaptionsParticipantOutputState;break;default:break}return b!=null&&c!=null?d("CompactSerializerPolyfill").deserialize(b,c):null}function f(a,b){var c=null;switch(a){case"countdown_timer":c=d("CountdownTimerStateCountdownTimerStateSerializers").serializeCountdownTimerInputState;break;case"polls":c=d("PollsStatePollsStateSerializers").serializePollsParticipantInputState;break;case"polls_e2ee":c=d("PollsStatePollsStateSerializers").serializeE2EEPollsParticipantPayload;break;case"emoji_reactions":c=d("EmojiReactionsStateEmojiReactionsStateSerializers").serializeEmojiReactionsInputState;break;case"raised_hands_queue_e2ee":c=d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers").serializeE2EERaisedHandsQueueParticipantPayload;break;case"emoji_reactions_e2ee":c=d("EmojiReactionsStateEmojiReactionsStateSerializers").serializeE2EEEmojiReactionsParticipantPayload;break;case"countdown_timer_e2ee":c=d("CountdownTimerStateCountdownTimerStateSerializers").serializeE2EECountdownTimerParticipantPayload;break;case"raised_hands_queue":c=d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers").serializeRaisedHandsQueueParticipantInputState;break;case"simple_internal":case"simple_external":c=d("SimpleStateSimpleStateSerializers").serializeSimpleInputState;break;case"live_stream":c=d("LiveStreamStateLiveStreamStateSerializers").serializeLiveStreamClientInputState;break;case"moderator_controls":c=d("ModeratorControlsStateModeratorControlsStateSerializers").serializeModeratorControlsInputState;break;case"media_information":c=d("MediaInformationStateMediaInformationStateSerializers").serializeMediaInformationInputState;break;case"media_sync":c=d("MediaSyncStateMediaSyncStateSerializers").serializeMediaSyncInputState;break;case"media_sync_autoplay":c=d("MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers").serializeParticipantInputState;break;case"coplay":c=d("CoplayStateCoplayStateSerializers").serializeCoplayMatchInputState;break;case"workroom":c=d("WorkroomsStateWorkroomStateSerializers").serializeWorkroomInputState;break;case"screenshare_floor_control":c=d("ScreenshareFloorControlStateScreenshareFloorControlStateSerializers").serializeScreenshareFloorControlInputState;break;case"meeting_assistant":c=d("MeetingAssistantStateMeetingAssistantStateSerializers").serializeParticipantInputState;break;case"whiteboard":c=d("WhiteboardStateWhiteboardStateSerializers").serializeWhiteboardInputState;break;case"sideband":c=d("SidebandStateSidebandStateSerializers").serializeSidebandInputState;break;case"breakout":c=d("BreakoutStateBreakoutStateSerializers").serializeBreakoutInputState;break;case"rooms_notes":c=d("RoomsNotesRoomsNotesStateSerializers").serializeRoomsNotesInputState;break;case"workrooms_vr":c=d("WorkroomsVrStateWorkroomsVRStateSerializers").serializeWorkroomsVRInputState;break;case"coview":c=d("CoviewStateCoviewStateSerializers").serializeCoviewInputState;break;case"intenticons":c=d("IntenticonsStateIntenticonsStateSerializers").serializeIntenticonParticipantInputState;break;case"E2eeState":c=d("E2eeStateSerializers").serializeE2eeClientState;break;case"can_you_see_my_screen":c=d("CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers").serializeCanYouSeeMyScreenParticipantInputState;break;case"config_engine":c=d("ConfigEngineStateConfigEngineStateSerializers").serializeConfigEngineClientInputState;break;case"whiteboard_messenger":c=d("WhiteboardMessengerStateWhiteboardMessengerStateSerializers").serializeWhiteboardMessengerInputState;break;case"number_of_people":c=d("NumberOfPeopleStateNumberOfPeopleStateSerializers").serializeNumberOfPeopleInputState;break;case"sctp_negotiation":c=d("SctpNegotiationStateSctpNegotiationStateSerializers").serializeSCTPNegotiationParticipantInputState;break;case"companion":c=d("CompanionStateCompanionStateSerializers").serializeCompanionInputState;break;case"workrooms_ask_everyone_to_open":c=d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers").serializeWorkroomsAskEveryoneToOpenInputState;break;case"server_captions_state":c=d("RPServerCaptionsStateSerializers").serializeServerCaptionsParticipantInputState;break;default:break}return b!=null&&c!=null?d("CompactSerializerPolyfill").serialize(b,c):null}g.deserializeStateSyncSnapshot=a;g.serializeStateSyncSnapshot=b;g.deserializeE2eeData=c;g.deserializeOutputState=e;g.serializeInputState=f}),98);
__d("ZenonStateSyncStore",["ZenonInfraActionsLogger","ZenonStateSyncSerializer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Set(),this.$4=new Map()}var e=a.prototype;e.addTopicHandler=function(a,b){this.$3.add(a);var c=this.getTopicHandlers(a);this.$4.set(a,c.add(b))};e.getTopicHandlers=function(a){return(a=this.$4.get(a))!=null?a:new Set()};e.getInputStates=function(){return this.$1};e.getOutputStates=function(){return this.$2};e.$5=function(a){var b={stateStore:{}};b=d("ZenonStateSyncSerializer").serializeStateSyncSnapshot(b);return{data:b,version:a}};e.updateInputState=function(a,b){var e;this.$3.add(a);e=((e=(e=this.$1.get(a))==null?void 0:e.version)!=null?e:0)+1;if(a==="e2ee_v2_msg")return this.$5(e);this.$1.set(a,{data:b,version:e});b=d("ZenonStateSyncSerializer").serializeInputState(a,b);a==="live_stream"&&c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Update state sync "+a+" and serialized input data "+JSON.stringify(b)});return b!==null?{data:b,version:e}:{version:e}};e.$6=function(a,c,e){var f;if(!this.$3.has(a))return;f=(f=(f=this.$2.get(a))==null?void 0:f.version)!=null?f:-1;if(e<=f)return;var g=d("ZenonStateSyncSerializer").deserializeOutputState(a,c);this.$2.set(a,{data:g,version:e});f=this.getTopicHandlers(a);f&&f.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a(g)});return function(b){return a.apply(this,arguments)}}())};e.$7=function(a){var b=this;a=d("ZenonStateSyncSerializer").deserializeE2eeData(a.data);if(a==null)return;var c=d("ZenonStateSyncSerializer").deserializeStateSyncSnapshot(a.data);if(c==null)return;Object.keys(c.stateStore).forEach(function(a){var d=c.stateStore[a];if(d.data==null||d.data.length===0)return;b.$6(a,d.data,d.version)})};e.updateOutputState=function(a,b){if(a==="e2ee_v2_msg"){this.$7(b);return}this.$6(a,b.data,b.version)};e.unsubscribe=function(a){var b;this.$3["delete"](a);b=((b=(b=this.$1.get(a))==null?void 0:b.version)!=null?b:0)+1;this.$1.set(a,{data:null,version:b});return{version:b}};return a}();g["default"]=a}),98);
__d("ZenonSignalingModel",["ZenonMediaModeManager","ZenonStateSyncStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g,h,i){this.$9=new(c("ZenonStateSyncStore"))(),this.$11=new(d("ZenonMediaModeManager").ZenonMediaModeManager)(),this.$1=i,this.$2=a,this.$3=b,this.$4=e,this.$5=f,this.$6=g,this.$7=h}var b=a.prototype;b.getActorID=function(){return this.$1};b.setActorID=function(a){this.$1=a};b.getSignalingID=function(){return this.$2};b.updateRemoteSignalingID=function(a){this.$3=a};b.getRemoteSignalingID=function(){return this.$3};b.getUserInfo=function(){return this.$4};b.getRemoteInfo=function(){return this.$5};b.getRoomInfo=function(){return this.$6};b.updateRoomInfo=function(a){this.$6=a};b.getProtocol=function(){return this.$7};b.getMediaModeManager=function(){return this.$11};b.getStateSyncStore=function(){return this.$9};b.updateOverlayConfigServerLayer=function(a){this.$8=a};b.getOverlayConfigServerLayer=function(){return this.$8};b.setNotifyCallback=function(a){this.$10=a};b.notify=function(){this.$10&&this.$10()};return a}();g["default"]=a}),98);
__d("ZenonSignalingClientManager",["ZenonActorHooks","ZenonProtocolConfiguration","ZenonSignalingModel","filterMap","randomInt"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e){e===void 0&&(e=null),this.$7=null,this.$1=new Map(),this.$2={userID:d("ZenonActorHooks").ZenonActor.getID()},this.$3=b,this.$4=new Set(),this.$5=a,this.$6=c,this.$7=e}var b=a.prototype;b.getSignalingClient=function(a){return this.$1.get(a)};b.getSignalingClientsWithRemoteSignalingID=function(a){return Array.from(c("filterMap")(this.$1,function(b){return b.getSignalingModel().getRemoteSignalingID()===a&&!b.isTerminated()}).values())};b.createSignalingClient=function(a,b,e,f,g,h,i){var j=this;if(a!=null){var k=this.$1.get(a);if(k!=null)return k}k=a==null||a===""||a==="null"?String(c("randomInt")(0,4294967294)+1):a;a=new(c("ZenonSignalingModel"))(k,e,{userID:i},b,g,f,h);e=d("ZenonProtocolConfiguration").getConfiguration(a,this.$6);i=e.eventAggregator;b=e.messageSender;g=e.transactionManager;f=new this.$5(a,g,i,this.$3,this.$7);b.setMessageReceiver(function(a){return j.receiveMessage(a)});this.$1.set(k,f);return f};b.receiveMessage=function(a){var b=a.getHeader(),c=this.$8(a);if(c==null)return;else a.setSignalingID(c);var d=this.getSignalingClient(c);if(d!=null)d.receiveMessage(a);else{d=this.createSignalingClient(c,b.remoteInfo,b.remoteSignalingID,b.protocol,b.roomInfo,b.actorID,b.userInfo.userID);d.getSignalingModel().updateRemoteSignalingID(b.remoteSignalingID);d.receiveMessage(a)}};b.$8=function(a){var b=a.getHeader(),d=b.signalingID;if(d!=null)return d;if(!this.$9(b.messageID))return null;b=b.remoteSignalingID;if(a.getEvents().some(function(a){return a.eventName==="terminateRequest"})&&b!=null){a=this.getSignalingClientsWithRemoteSignalingID(b);a.length>0&&(d=a[0].getSignalingModel().getSignalingID())}if(d==null){b=c("randomInt")(0,4294967294)+1;d=String(b)}return d};b.$9=function(a){if(this.$4.has(a))return!1;this.$4.add(a);return!0};return a}();g["default"]=a}),98);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-grammar",[],(function $module_sdp_transform_grammar(global,require,requireDynamic,requireLazy,module,exports){

var grammar = module.exports = {
  v: [{
    name: 'version',
    reg: /^(\d*)$/
  }],
  o: [{ //o=- 20518 0 IN IP4 203.0.113.1
    // NB: sessionId will be a String in most cases because it is huge
    name: 'origin',
    reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],
    format: '%s %s %d %s IP%d %s'
  }],
  // default parsing of these only (though some of these feel outdated)
  s: [{ name: 'name' }],
  i: [{ name: 'description' }],
  u: [{ name: 'uri' }],
  e: [{ name: 'email' }],
  p: [{ name: 'phone' }],
  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly..
  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly
  //k: [{}], // outdated thing ignored
  t: [{ //t=0 0
    name: 'timing',
    reg: /^(\d*) (\d*)/,
    names: ['start', 'stop'],
    format: '%d %d'
  }],
  c: [{ //c=IN IP4 10.47.197.26
    name: 'connection',
    reg: /^IN IP(\d) (\S*)/,
    names: ['version', 'ip'],
    format: 'IN IP%d %s'
  }],
  b: [{ //b=AS:4000
    push: 'bandwidth',
    reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
    names: ['type', 'limit'],
    format: '%s:%s'
  }],
  m: [{ //m=video 51744 RTP/AVP 126 97 98 34 31
    // NB: special - pushes to session
    // TODO: rtp/fmtp should be filtered by the payloads found here?
    reg: /^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,
    names: ['type', 'port', 'protocol', 'payloads'],
    format: '%s %d %s %s'
  }],
  a: [
    { //a=rtpmap:110 opus/48000/2
      push: 'rtp',
      reg: /^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
      names: ['payload', 'codec', 'rate', 'encoding'],
      format: function (o) {
        return (o.encoding) ?
          'rtpmap:%d %s/%s/%s':
          o.rate ?
          'rtpmap:%d %s/%s':
          'rtpmap:%d %s';
      }
    },
    { //a=fmtp:108 profile-level-id=24;object=23;bitrate=64000
      //a=fmtp:111 minptime=10; useinbandfec=1
      push: 'fmtp',
      reg: /^fmtp:(\d*) ([\S| ]*)/,
      names: ['payload', 'config'],
      format: 'fmtp:%d %s'
    },
    { //a=control:streamid=0
      name: 'control',
      reg: /^control:(.*)/,
      format: 'control:%s'
    },
    { //a=rtcp:65179 IN IP4 193.84.77.194
      name: 'rtcp',
      reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
      names: ['port', 'netType', 'ipVer', 'address'],
      format: function (o) {
        return (o.address != null) ?
          'rtcp:%d %s IP%d %s':
          'rtcp:%d';
      }
    },
    { //a=rtcp-fb:98 trr-int 100
      push: 'rtcpFbTrrInt',
      reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
      names: ['payload', 'value'],
      format: 'rtcp-fb:%d trr-int %d'
    },
    { //a=rtcp-fb:98 nack rpsi
      push: 'rtcpFb',
      reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
      names: ['payload', 'type', 'subtype'],
      format: function (o) {
        return (o.subtype != null) ?
          'rtcp-fb:%s %s %s':
          'rtcp-fb:%s %s';
      }
    },
    { //a=extmap:2 urn:ietf:params:rtp-hdrext:toffset
      //a=extmap:1/recvonly URI-gps-string
      push: 'ext',
      reg: /^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,
      names: ['value', 'direction', 'uri', 'config'],
      format: function (o) {
        return 'extmap:%d' + (o.direction ? '/%s' : '%v') + ' %s' + (o.config ? ' %s' : '');
      }
    },
    { //a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32
      push: 'crypto',
      reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
      names: ['id', 'suite', 'config', 'sessionConfig'],
      format: function (o) {
        return (o.sessionConfig != null) ?
          'crypto:%d %s %s %s':
          'crypto:%d %s %s';
      }
    },
    { //a=setup:actpass
      name: 'setup',
      reg: /^setup:(\w*)/,
      format: 'setup:%s'
    },
    { //a=mid:1
      name: 'mid',
      reg: /^mid:([^\s]*)/,
      format: 'mid:%s'
    },
    { //a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a
      name: 'msid',
      reg: /^msid:(.*)/,
      format: 'msid:%s'
    },
    { //a=ptime:20
      name: 'ptime',
      reg: /^ptime:(\d*)/,
      format: 'ptime:%d'
    },
    { //a=maxptime:60
      name: 'maxptime',
      reg: /^maxptime:(\d*)/,
      format: 'maxptime:%d'
    },
    { //a=sendrecv
      name: 'direction',
      reg: /^(sendrecv|recvonly|sendonly|inactive)/
    },
    { //a=ice-lite
      name: 'icelite',
      reg: /^(ice-lite)/
    },
    { //a=ice-ufrag:F7gI
      name: 'iceUfrag',
      reg: /^ice-ufrag:(\S*)/,
      format: 'ice-ufrag:%s'
    },
    { //a=ice-pwd:x9cml/YzichV2+XlhiMu8g
      name: 'icePwd',
      reg: /^ice-pwd:(\S*)/,
      format: 'ice-pwd:%s'
    },
    { //a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33
      name: 'fingerprint',
      reg: /^fingerprint:(\S*) (\S*)/,
      names: ['type', 'hash'],
      format: 'fingerprint:%s %s'
    },
    { //a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host
      //a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10
      //a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10
      //a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10
      //a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10
      push:'candidates',
      reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],
      format: function (o) {
        var str = 'candidate:%s %d %s %d %s %d typ %s';

        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';

        // NB: candidate has three optional chunks, so %void middles one if it's missing
        str += (o.tcptype != null) ? ' tcptype %s' : '%v';

        if (o.generation != null) {
          str += ' generation %d';
        }

        str += (o['network-id'] != null) ? ' network-id %d' : '%v';
        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';
        return str;
      }
    },
    { //a=end-of-candidates (keep after the candidates line for readability)
      name: 'endOfCandidates',
      reg: /^(end-of-candidates)/
    },
    { //a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...
      name: 'remoteCandidates',
      reg: /^remote-candidates:(.*)/,
      format: 'remote-candidates:%s'
    },
    { //a=ice-options:trickle fb-force-5245
      name: 'iceOptions',
      reg: /^ice-options:(.*)/,
      format: 'ice-options:%s'
    },
    { //a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1
      push: 'ssrcs',
      reg: /^ssrc:(\d*) ([\w_]*)(?::(.*))?/,
      names: ['id', 'attribute', 'value'],
      format: function (o) {
        var str = 'ssrc:%d';
        if (o.attribute != null) {
          str += ' %s';
          if (o.value != null) {
            str += ':%s';
          }
        }
        return str;
      }
    },
    { //a=ssrc-group:FEC 1 2
      //a=ssrc-group:FEC-FR 3004364195 1080772241
      push: 'ssrcGroups',
      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E
      reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
      names: ['semantics', 'ssrcs'],
      format: 'ssrc-group:%s %s'
    },
    { //a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV
      name: 'msidSemantic',
      reg: /^msid-semantic:\s?(\w*) (\S*)/,
      names: ['semantic', 'token'],
      format: 'msid-semantic: %s %s' // space after ':' is not accidental
    },
    { //a=group:BUNDLE audio video
      push: 'groups',
      reg: /^group:(\w*) (.*)/,
      names: ['type', 'mids'],
      format: 'group:%s %s'
    },
    { //a=rtcp-mux
      name: 'rtcpMux',
      reg: /^(rtcp-mux)/
    },
    { //a=rtcp-rsize
      name: 'rtcpRsize',
      reg: /^(rtcp-rsize)/
    },
    { //a=sctpmap:5000 webrtc-datachannel 1024
      name: 'sctpmap',
      reg: /^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,
      names: ['sctpmapNumber', 'app', 'maxMessageSize'],
      format: function (o) {
        return (o.maxMessageSize != null) ?
          'sctpmap:%s %s %s' :
          'sctpmap:%s %s';
      }
    },
    { //a=x-google-flag:conference
      name: 'xGoogleFlag',
      reg: /^x-google-flag:([^\s]*)/,
      format: 'x-google-flag:%s'
    },
    { //a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0
      push: 'rids',
      reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
      names: ['id', 'direction', 'params'],
      format: function (o) {
        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';
      }
    },
    { //a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]
      //a=imageattr:* send [x=800,y=640] recv *
      //a=imageattr:100 recv [x=320,y=240]
      push: 'imageattrs',
      reg: new RegExp(
        //a=imageattr:97
        '^imageattr:(\\d+|\\*)' +
        //send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]
        '[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)' +
        //recv [x=330,y=250]
        '(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?'
      ),
      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],
      format: function (o) {
        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    { //a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8
      //a=simulcast:recv 1;4,5 send 6;7
      name: 'simulcast',
      reg: new RegExp(
        //a=simulcast:
        '^simulcast:' +
        //send 1,2,3;~4,~5
        '(send|recv) ([a-zA-Z0-9\\-_~;,]+)' +
        //space + recv 6;~7,~8
        '(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?' +
        //end
        '$'
      ),
      names: ['dir1', 'list1', 'dir2', 'list2'],
      format: function (o) {
        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    { //Old simulcast draft 03 (implemented by Firefox)
      //  https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03
      //a=simulcast: recv pt=97;98 send pt=97
      //a=simulcast: send rid=5;6;7 paused=6,7
      name: 'simulcast_03',
      reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
      names: ['value'],
      format: 'simulcast: %s'
    },
    {
      //a=framerate:25
      //a=framerate:29.97
      name: 'framerate',
      reg: /^framerate:(\d+(?:$|\.\d+))/,
      format: 'framerate:%s'
    },
    {
      //a=x-dtls-auth:<dtls authentication string>
      name: 'dtlsAuthenticationInfo',
      reg: /^x-dtls-auth:(\S+)/,
      format: 'x-dtls-auth:%s'
    },
    { // any a= that we don't understand is kepts verbatim on media.invalid
      push: 'invalid',
      names: ['value']
    },
  ]
};

// set sensible defaults to avoid polluting the grammar with boring details
Object.keys(grammar).forEach(function (key) {
  var objs = grammar[key];
  objs.forEach(function (obj) {
    if (!obj.reg) {
      obj.reg = /(.*)/;
    }
    if (!obj.format) {
      obj.format = '%s';
    }
  });
});

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-parser",["sdp-transform-grammar"],(function $module_sdp_transform_parser(global,require,requireDynamic,requireLazy,module,exports){

var toIntIfInt = function (v) {
  return String(Number(v)) === v ? Number(v) : v;
};

var attachProperties = function (match, location, names, rawName) {
  if (rawName && !names) {
    location[rawName] = toIntIfInt(match[1]);
  }
  else {
    for (var i = 0; i < names.length; i += 1) {
      if (match[i+1] != null) {
        location[names[i]] = toIntIfInt(match[i+1]);
      }
    }
  }
};

var parseReg = function (obj, location, content) {
  var needsBlank = obj.name && obj.names;
  if (obj.push && !location[obj.push]) {
    location[obj.push] = [];
  }
  else if (needsBlank && !location[obj.name]) {
    location[obj.name] = {};
  }
  var keyLocation = obj.push ?
    {} :  // blank object that will be pushed
    needsBlank ? location[obj.name] : location; // otherwise, named location or root

  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);

  if (obj.push) {
    location[obj.push].push(keyLocation);
  }
};

var grammar = require('sdp-transform-grammar');
var validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);

exports.parse = function (sdp) {
  var session = {}
    , media = []
    , location = session; // points at where properties go under (one of the above)

  // parse lines we understand
  sdp.split(/(\r\n|\r|\n)/).filter(validLine).forEach(function (l) {
    var type = l[0];
    var content = l.slice(2);
    if (type === 'm') {
      media.push({rtp: [], fmtp: []});
      location = media[media.length-1]; // point at latest media line
    }

    for (var j = 0; j < (grammar[type] || []).length; j += 1) {
      var obj = grammar[type][j];
      if (obj.reg.test(content)) {
        return parseReg(obj, location, content);
      }
    }
  });

  session.media = media; // link it up
  return session;
};

var paramReducer = function (acc, expr) {
  var s = expr.split(/=(.+)/, 2);
  if (s.length === 2) {
    acc[s[0]] = toIntIfInt(s[1]);
  }
  return acc;
};

exports.parseParams = function (str) {
  return str.split(/\;\s?/).reduce(paramReducer, {});
};

// For backward compatibility - alias will be removed in 3.0.0
exports.parseFmtpConfig = exports.parseParams;

exports.parsePayloads = function (str) {
  return str.split(' ').map(Number);
};

exports.parseRemoteCandidates = function (str) {
  var candidates = [];
  var parts = str.split(' ').map(toIntIfInt);
  for (var i = 0; i < parts.length; i += 3) {
    candidates.push({
      component: parts[i],
      ip: parts[i + 1],
      port: parts[i + 2]
    });
  }
  return candidates;
};

exports.parseImageAttributes = function (str) {
  return str.split(' ').map(function (item) {
    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});
  });
};

exports.parseSimulcastStreamList = function (str) {
  return str.split(';').map(function (stream) {
    return stream.split(',').map(function (format) {
      var scid, paused = false;

      if (format[0] !== '~') {
        scid = toIntIfInt(format);
      } else {
        scid = toIntIfInt(format.substring(1, format.length));
        paused = true;
      }

      return {
        scid: scid,
        paused: paused
      };
    });
  });
};

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-writer",["sdp-transform-grammar"],(function $module_sdp_transform_writer(global,require,requireDynamic,requireLazy,module,exports){

var grammar = require('sdp-transform-grammar');

// customized util.format - discards excess arguments and can void middle ones
var formatRegExp = /%[sdv%]/g;
var format = function (formatStr) {
  var i = 1;
  var args = arguments;
  var len = args.length;
  return formatStr.replace(formatRegExp, function (x) {
    if (i >= len) {
      return x; // missing argument
    }
    var arg = args[i];
    i += 1;
    switch (x) {
    case '%%':
      return '%';
    case '%s':
      return String(arg);
    case '%d':
      return Number(arg);
    case '%v':
      return '';
    }
  });
  // NB: we discard excess arguments - they are typically undefined from makeLine
};

var makeLine = function (type, obj, location) {
  var str = obj.format instanceof Function ?
    (obj.format(obj.push ? location : location[obj.name])) :
    obj.format;

  var args = [type + '=' + str];
  if (obj.names) {
    for (var i = 0; i < obj.names.length; i += 1) {
      var n = obj.names[i];
      if (obj.name) {
        args.push(location[obj.name][n]);
      }
      else { // for mLine and push attributes
        args.push(location[obj.names[i]]);
      }
    }
  }
  else {
    args.push(location[obj.name]);
  }
  return format.apply(null, args);
};

// RFC specified order
// TODO: extend this with all the rest
var defaultOuterOrder = [
  'v', 'o', 's', 'i',
  'u', 'e', 'p', 'c',
  'b', 't', 'r', 'z', 'a'
];
var defaultInnerOrder = ['i', 'c', 'b', 'a'];


module.exports = function (session, opts) {
  opts = opts || {};
  // ensure certain properties exist
  if (session.version == null) {
    session.version = 0; // 'v=0' must be there (only defined version atm)
  }
  if (session.name == null) {
    session.name = ' '; // 's= ' must be there if no meaningful name set
  }
  session.media.forEach(function (mLine) {
    if (mLine.payloads == null) {
      mLine.payloads = '';
    }
  });

  var outerOrder = opts.outerOrder || defaultOuterOrder;
  var innerOrder = opts.innerOrder || defaultInnerOrder;
  var sdp = [];

  // loop through outerOrder for matching properties on session
  outerOrder.forEach(function (type) {
    grammar[type].forEach(function (obj) {
      if (obj.name in session && session[obj.name] != null) {
        sdp.push(makeLine(type, obj, session));
      }
      else if (obj.push in session && session[obj.push] != null) {
        session[obj.push].forEach(function (el) {
          sdp.push(makeLine(type, obj, el));
        });
      }
    });
  });

  // then for each media line, follow the innerOrder
  session.media.forEach(function (mLine) {
    sdp.push(makeLine('m', grammar.m[0], mLine));

    innerOrder.forEach(function (type) {
      grammar[type].forEach(function (obj) {
        if (obj.name in mLine && mLine[obj.name] != null) {
          sdp.push(makeLine(type, obj, mLine));
        }
        else if (obj.push in mLine && mLine[obj.push] != null) {
          mLine[obj.push].forEach(function (el) {
            sdp.push(makeLine(type, obj, el));
          });
        }
      });
    });
  });

  return sdp.join('\r\n') + '\r\n';
};

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform",["sdp-transform-parser","sdp-transform-writer"],(function $module_sdp_transform(global,require,requireDynamic,requireLazy,module,exports){

var parser = require('sdp-transform-parser');
var writer = require('sdp-transform-writer');

exports.write = writer;
exports.parse = parser.parse;
exports.parseFmtpConfig = parser.parseFmtpConfig;
exports.parseParams = parser.parseParams;
exports.parsePayloads = parser.parsePayloads;
exports.parseRemoteCandidates = parser.parseRemoteCandidates;
exports.parseImageAttributes = parser.parseImageAttributes;
exports.parseSimulcastStreamList = parser.parseSimulcastStreamList;

/*  */}),null);
/**
 * Copyright @ 2015 Atlassian Pty Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Modified by Meta.
 *
 *  strict-local
 * @format
 * @oncall rp_rooms_infra_www
 * @preserve-header
 * @preserve-whitespace
 */__d("ZenonSDPInteropTransform",["invariant","sdp-transform"],(function $module_ZenonSDPInteropTransform(global,require,importDefault,importNamespace,requireLazy,module,exports,invariant){

'use strict';














exports.write=function(
session,
opts,
options)
{
if(
session!==undefined&&
session.media!==undefined&&
Array.isArray(session.media))
{
session.media.forEach(function(mLine){








var groupedSsrcs=[];
var ungroupedSsrcs=Object.keys(mLine.sources||{});


if(mLine.ssrcGroups!==undefined&&Array.isArray(mLine.ssrcGroups)){
mLine.ssrcGroups.forEach(function(ssrcGroup){
if(ssrcGroup.ssrcs!==undefined&&Array.isArray(ssrcGroup.ssrcs)){
var ssrcsArray=ssrcGroup.ssrcs;

groupedSsrcs=groupedSsrcs.concat(ssrcsArray);
ungroupedSsrcs=ungroupedSsrcs.filter(
function(ssrc){return ssrcsArray.indexOf(ssrc)===-1;});

ssrcGroup.ssrcs=ssrcsArray.join(' ');
}
});
}


if(
mLine.sources!==undefined&&
Object.keys(mLine.sources).length!==0)
{

var mLine_sources=mLine.sources;
mLine_sources!=null||invariant(0,66290);

var alreadyAddedSsrcs=new Set();
var mLine_ssrcs=[];
groupedSsrcs.concat(ungroupedSsrcs).forEach(function(ssrc){
var source=mLine_sources[ssrc];
Object.keys(source).forEach(function(attribute){
var newSsrcKey=[
ssrc,
String(attribute),
String(source[attribute])].
join('|');
if(!alreadyAddedSsrcs.has(newSsrcKey)){
mLine_ssrcs.push({
attribute:String(attribute),
id:parseInt(ssrc,10),
value:String(source[attribute])});

alreadyAddedSsrcs.add(newSsrcKey);
}
});
});
mLine.ssrcs=mLine_ssrcs;
if(options&&options.iceOptions){
mLine.iceOptions=options.iceOptions;
}
delete mLine.sources;
}
});
}


if(
session!==undefined&&
session.groups!==undefined&&
Array.isArray(session.groups))
{
session.groups.forEach(function(g){
if(g.mids!==undefined&&Array.isArray(g.mids)){
g.mids=g.mids.join(' ');
}
});
}

return importDefault("sdp-transform").write(session,opts);
};

exports.parse=function(sdp){
var session=importDefault("sdp-transform").parse(sdp);

if(
session!==undefined&&
session.media!==undefined&&
Array.isArray(session.media))
{
session.media.forEach(function(mLine){

if(mLine.ssrcs!==undefined&&Array.isArray(mLine.ssrcs)){
var mLine_sources={};
mLine.ssrcs.forEach(function(ssrc){
var ssrcId=ssrc.id.toString();
if(!mLine_sources[ssrcId]){
mLine_sources[ssrcId]={};
}

mLine_sources[ssrcId][ssrc.attribute]=ssrc.value;
});
mLine.sources=mLine_sources;

delete mLine.ssrcs;
}


if(mLine.ssrcGroups!==undefined&&Array.isArray(mLine.ssrcGroups)){
mLine.ssrcGroups.forEach(function(ssrcGroup){
if(typeof ssrcGroup.ssrcs==='string'){
ssrcGroup.ssrcs=ssrcGroup.ssrcs.split(' ');
}
});
}
});
}

if(
session!==undefined&&
session.groups!==undefined&&
Array.isArray(session.groups))
{
session.groups.forEach(function(g){
if(typeof g.mids==='string'){
g.mids=g.mids.split(' ');
}
});
}

return session;
};}),34);
__d("ZenonSDP",["ODS","ZenonSDPInteropTransform","gkx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=a.sdp;this.$1=c==null?null:d("ZenonSDPInteropTransform").parse(c);this.$2=a.type;this.$3=b}var b=a.prototype;b.$4=function(a,b,c){a=a.split(";");var d=a.findIndex(function(a){return a.startsWith(b+"=")});c=b+"="+c;d>=0?a[d]=c:a.push(c);return""+a.join(";")};b.getMedia=function(){var a;a=(a=(a=this.$1)==null?void 0:a.media)!=null?a:[];return a};b.getGroups=function(){var a;return(a=(a=this.$1)==null?void 0:a.groups)!=null?a:null};b.getMsidSemantic=function(){var a;return(a=this.$1)==null?void 0:a.msidSemantic};b.getDtlsAuthenticationInfo=function(){var a;return(a=this.$1)==null?void 0:a.dtlsAuthenticationInfo};b.getMediaCname=function(){var a,b="";a=(a=this.$1)==null?void 0:a.media;a!=null&&a.some(function(a){return a.sources==null?!1:Object.keys(a.sources).some(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(a.sources)[d];if(d!=null&&d.cname!=null){b=d.cname;return!0}}return!1})});return b};b.getTrackIdAndCnameMap=function(){var a,b=this,c=new Map();a=(a=this.$1)==null?void 0:a.media;a==null?void 0:a.forEach(function(a){var d=a.msid;a=a.sources;d=b.$5(d);a=b.$6(a);d!=null&&a!=null&&c.set(d,a)});return c};b.getActiveTrackIDs=function(){var a,b=[];a=(a=this.$1)==null?void 0:a.media;a==null?void 0:a.forEach(function(a){var c=a.msid;if(c!=null){c=c.split(" ");c.length>=2&&c[0]!=="-"&&a.direction!=="inactive"&&b.push(c[1])}});return b};b.$6=function(a){var b=null;a!=null&&Object.keys(a).some(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(a)[d];if(d!=null&&d.cname!=null){b=d.cname;return!0}}return!1});return b};b.$5=function(a){if(a!=null){a=a.split(" ");if(a.length>=2)return a[1]}return null};b.addFmtpConfig=function(a,b,c){var d,e=this;d=(d=this.$1)==null?void 0:d.media;d!=null&&d.forEach(function(d){d.rtp.filter(function(b){return b.codec===a}).forEach(function(a){var f=d.fmtp.find(function(b){return b.payload===a.payload});f==null?d.fmtp.push({config:b+"="+c,payload:a.payload}):f.config=e.$4(f.config,b,c)})})};b.maybeAddPtimeForOpusOnly=function(a){var b;b=(b=this.$1)==null?void 0:b.media;if(b==null)return;b.forEach(function(b){if(b.type!=="audio")return;var c=b.rtp.filter(function(a){return a.codec!=="opus"}).length>=1;if(c)return;c=b.rtp.find(function(a){return a.codec==="opus"});if(c==null)return;if(b.ptime!=null)return;b.ptime=a})};b.addAudioNACK=function(){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){if(a.type!=="audio")return;a.rtcpFb==null&&(a.rtcpFb=[]);a.rtp.forEach(function(b){var c;if(!((c=a.rtcpFb)==null?void 0:c.some(function(a){return a.payload===b.payload&&a.type==="nack"}))){(c=a.rtcpFb)==null?void 0:c.push({payload:b.payload,type:"nack"})}})})};b.replaceAudioCname=function(a){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){b.type==="audio"&&b.sources!=null&&Object.keys(b.sources).forEach(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(b.sources)[d];d!=null&&d.cname!=null&&(d.cname=a+d.cname)}})})};b.filterExtension=function(a,b){var c;c=(c=this.$1)==null?void 0:c.media;c!=null&&c.forEach(function(c){c.type===b&&c.ext!=null&&(c.ext=c.ext.filter(function(b){return!b.uri.includes(a)}))})};b.useDTLSOverCrypto=function(){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){a.fingerprint!=null&&delete a.crypto})};b.getUniqueDtlsFingerprints=function(){var a;a=(a=this.$1)==null?void 0:a.media;var b=new Map();a!=null&&a.forEach(function(a){if(a.fingerprint!=null){a={algo:a.fingerprint.type,digest:a.fingerprint.hash};b.has(a.digest)||b.set(a.digest,a)}});return Array.from(b.values())};b.updateDtlsAuthenticationInfo=function(a){this.$1!=null&&(this.$1.dtlsAuthenticationInfo=a)};b.addSetupActPass=function(){if(this.$2==="offer"){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){a.setup==null&&(a.setup="actpass")})}};b.getSSLRole=function(){var a;return this.$2!=="answer"?null:(a=(a=this.$1)==null?void 0:(a=a.media)==null?void 0:(a=a.find(function(a){return a.setup!=null}))==null?void 0:a.setup)!=null?a:null};b.setSSLRole=function(a){if(this.$2==="answer"){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){b.setup==null&&(b.setup=a)})}};b.removeCodec=function(a){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){var c=b.rtp.filter(function(b){return b.codec===a}).map(function(a){a=a.payload;return a}),d=b.fmtp.filter(function(a){a=a.config.match(/apt=(\d*)/);return a!=null?c.includes(Number(a[1])):!1}).map(function(a){a=a.payload;return a}),e=c.concat(d);if(e.length<1)return;b.rtp=b.rtp.filter(function(a){return!e.includes(a.payload)});b.fmtp=b.fmtp.filter(function(a){return!e.includes(a.payload)});b.rtcpFb!=null&&(b.rtcpFb=b.rtcpFb.filter(function(a){return!e.includes(a.payload)}));b.rtcpFbTrrInt!=null&&(b.rtcpFbTrrInt=b.rtcpFbTrrInt.filter(function(a){return!e.includes(a.payload)}));d=new RegExp("("+e.join("|")+") ?","g");b.payloads=b.payloads.replace(d,"").trim()})};b.preferCodec=function(a,b){var c=b.preferredCodec,d=b.preferredCodecRate;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){if(b.type===a){var e=b.rtp.find(function(a){return a.codec===c&&a.rate===d});e!=null&&(b.payloads=b.payloads.replace(e.payload+" ",""),b.payloads=e.payload+" "+b.payloads)}})};b.mungeInactiveMediaSSRC=function(a){var b=new Map();a!=null&&a.$1!=null&&a.$1.media!=null&&a.$1.media.forEach(function(a){a.sources!=null&&a.mid!=null&&b.set(a.mid,a.sources)});a=(a=this.$1)==null?void 0:a.media;a==null?void 0:a.forEach(function(a){if(a.mid!=null&&a.direction==="inactive"&&a.sources==null){var c=b.get(a.mid);c!=null&&(a.sources=c)}})};b.preferH264Codec=function(a){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){if(b.type==="video"){var c=[];b.rtp.forEach(function(a){a.codec==="H264"&&c.push(a.payload)});var d=a.levelAsymmetryAllowed?"1":"0",e=a.packetizationMode?"1":"0",f=new RegExp("level-asymmetry-allowed="+d+";packetization-mode="+e+";profile-level-id="+a.profileLevelId);d=b.fmtp.find(function(a){return a.config.match(f)&&c.includes(a.payload)});d!=null&&(b.payloads=b.payloads.replace(d.payload+" ",""),b.payloads=d.payload+" "+b.payloads)}})};b.removePacketizationMode0H264=function(){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){var b=a.fmtp.filter(function(a){return a.config.match(/packetization-mode=0/)}).map(function(a){a=a.payload;return a}),c=a.fmtp.filter(function(a){a=a.config.match(/apt=(\d*)/);return a!=null?b.includes(Number(a[1])):!1}).map(function(a){a=a.payload;return a}),d=b.concat(c);if(d.length<1)return;a.rtp=a.rtp.filter(function(a){return!d.includes(a.payload)});a.fmtp=a.fmtp.filter(function(a){return!d.includes(a.payload)});a.rtcpFb!=null&&(a.rtcpFb=a.rtcpFb.filter(function(a){return!d.includes(a.payload)}));a.rtcpFbTrrInt!=null&&(a.rtcpFbTrrInt=a.rtcpFbTrrInt.filter(function(a){return!d.includes(a.payload)}));c=new RegExp("("+d.join("|")+") ?","g");a.payloads=a.payloads.replace(c,"").trim()})};b.stripDataChannel=function(){var a,b;a=(a=this.$1)==null?void 0:a.media;b=(b=this.$1)==null?void 0:b.groups;var c=null;a!=null&&a.forEach(function(a){a.type==="application"&&a.protocol.includes("RTP")&&(a.port=0,a.protocol="UDP/DTLS/SCTP",c=typeof a.mid==="number"?a.mid.toString():a.mid,a.rtp=[],a.payloads="webrtc-datachannel")});b!=null&&c!==null&&b.forEach(function(a){var b=typeof a.mids==="string"?a.mids.split(" "):a.mids;a.mids=b.filter(function(a){return a!==c})})};b.stripLocalIceCandidates=function(){var a;a=(a=this.$1)==null?void 0:a.media;if(a==null)return;a.forEach(function(a){a.candidates=(a=a.candidates)==null?void 0:a.filter(function(a){a=!a.ip.includes("local");a||(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_ops","removing_local_candidates_count");return a});(h||(h=d("ODS"))).flush()})};b.convertMediaSetupActpass=function(){var a;a=(a=this.$1)==null?void 0:a.media;if(a==null)return;a.forEach(function(a){if(a.type==="application")return;a.setup="actpass"})};b.copyWithTypeAndActpass=function(a){throw c("unrecoverableViolation")("Abstract parent method was called instead of child method","rtc_www")};b.copyWithType=function(a){throw c("unrecoverableViolation")("Abstract parent method was called instead of child method","rtc_www")};b.setVersion=function(a){this.$1!=null&&(this.$1.origin.sessionVersion=a)};b.getType=function(){return this.$2};b.toDescInit=function(){var a,b=function(a){return a!=null&&a.split(" ").includes("renomination")},e="trickle fb-force-5245";(this.isRemote()?(a=this.$1)==null?void 0:a.media.every(function(a){return b(a.iceOptions)}):c("gkx")("3545"))&&(e+=" renomination");if(this.$1!=null){return{sdp:(a=d("ZenonSDPInteropTransform").write(this.$1,{},{iceOptions:e}))!=null?a:"",type:this.$2}}else return{type:this.$2}};b.toDesc=function(){var a=this.toDescInit(),b=a.sdp;a=a.type;return new RTCSessionDescription({sdp:b,type:a})};b.isRemote=function(){return this.$3==="remote"};b.toLoggingString=function(){var a="\n",b=[" IP4 "," IP6 "],c=this.toDesc().sdp.split(a);c.forEach(function(a,d){a.startsWith("a=crypto:")?c[d]="a=crypto:**-----**":a.startsWith("a=candidate:")?c[d]="a=candidate:**-----**":b.forEach(function(b){var e=a.indexOf(b);e!==-1&&(c[d]=a.slice(0,e+b.length)+"**-----**")})});return c.join(a)};b.enableExtension=function(a,b,c){var d;d=(d=this.$1)==null?void 0:d.media;d==null?void 0:d.forEach(function(d){var e;d.ext==null&&(d.ext=[]);e=(e=(e=d.ext)==null?void 0:e.some(function(b){return b.uri===a}))!=null?e:!1;if(e)return;if(b!==""&&d.type!==b)return;(e=d.ext)==null?void 0:e.push({uri:a,value:c})})};b.updateMSection=function(a,b){var e;b=d("ZenonSDPInteropTransform").parse(b);b=b.media;if(b.length<1)throw c("unrecoverableViolation")("Could not parse body from delta SDP","rtc_www");b=b[0];e=(e=(e=this.$1)==null?void 0:e.media)!=null?e:[];a<e.length?e[a]=b:e.push(b)};b.updateMids=function(a){var b;b=(b=this.$1)==null?void 0:b.groups;var c=b==null?void 0:b.find(function(a){return a.type==="BUNDLE"});if(c){var d;typeof c.mids==="string"?d=c.mids.split(" "):d=c.mids;d=new Set([].concat(d,a));c.mids=Array.from(d)}else b==null?void 0:b.push({mids:a,type:"BUNDLE"}),this.$1!=null&&(this.$1.groups=b)};b.fetchVideoCodec=function(){var a,b=new Map();a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){if(a.type==="video"){var c,d="";c=(c=a.msid)==null?void 0:c.split(" ");c!=null&&c.length>0&&c[0].length>0&&(d=c.length===2?c[1]:c[0]);var e=[];a.rtp.forEach(function(a){e.push(a.codec)});b.set(d,e)}});return b};b.updateMsidSemantic=function(){var a;a=(a=this.$1)==null?void 0:a.media;var b=new Set();a==null?void 0:a.forEach(function(a){a=(a=a.msid)==null?void 0:a.split(" ");a!=null&&a.length>0&&a[0].length>0&&a[0]!=="-"&&b.add(a[0])});this.$1!=null&&(this.$1.msidSemantic={semantic:"WMS",token:Array.from(b).join(" ")})};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b,"local")||this}var c=b.prototype;c.copyWithTypeAndActpass=function(a){a=new b({sdp:this.toDesc().sdp,type:a});a.convertMediaSetupActpass();return a};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b,"remote")||this}var c=b.prototype;c.copyWithType=function(a){return new b({sdp:this.toDesc().sdp,type:a})};return b}(a);g.ZenonSDP=a;g.ZenonLocalSDP=b;g.ZenonRemoteSDP=e}),98);
__d("RPWebUXLoggerImpl",["RPWebUXLoggerSurfaceContext","RpWebUxEventFalcoEvent","ZenonCallsContext","ZenonCallsHooks","ZenonLoggingContext","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useContext,k=e.useRef;function a(){var a=l();return i(function(b){a(babelHelpers["extends"]({},b,{eventType:"click"}))},[a])}function b(a){var b=l();return c("useSinglePartialViewImpression")({onImpressionStart:function(){return b(babelHelpers["extends"]({},a,{eventType:"impression"}))}})}function l(){var a=j(c("ZenonLoggingContext")),b=a.isCaller,e=a.signalingID;a=j(d("RPWebUXLoggerSurfaceContext").RPWebUXSurfaceLoggerContext);var f=k(a);a=j(c("ZenonCallsContext"));var g=k(a),h=a.currentCallInstanceSDK.getMediaMode(),l=a.currentCallInstanceSDK.getConferenceName(),m=c("ZenonCallsHooks").useIsAudioCall(),n=c("ZenonCallsHooks").useServerInfoData(),o=c("ZenonCallsHooks").useConnectedRemoteUsersIDs();return i(function(a){var d=a.component,i=a.eventName,j=a.eventType;c("RpWebUxEventFalcoEvent")==null?void 0:c("RpWebUxEventFalcoEvent").log(function(){var a;return{call_media_mode:h,call_media_type:m?"audio":"video",client_session_id:e==null?null:String(e),client_timestamp_ms:Date.now().toString(),component:d,conference_name:l,event_name:i,event_type:(a=j)!=null?a:"click",is_caller:b,is_e2ee_mandated:g.current.isE2eeMandated,other_user_ids:o,server_info_data:n,surface:f.current}})},[h,l,m,b,o,n,e])}g.useClickEventLogger=a;g.useImpressionEventLoggerRef=b}),98);
__d("ZenonUserActivityContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);c=b;g["default"]=c}),98);
__d("ZenonFadeOnIdle.react",["ZenonUserActivityContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useState;function a(a,b){var d=a.bypass;d=d===void 0?!1:d;var e=a.children,f=a.hideAfterFade;f=f===void 0?!1:f;var g=a.onBlur,i=a.onFocus,o=a.onVisibilityChanged;a=m(!1);var p=a[0],q=a[1];a=k(c("ZenonUserActivityContext"));var r=d||a||p;l(function(){return o&&o(r?"visible":"hidden")},[r,o]);return j.jsx("div",{className:(h||(h=c("stylex")))(n.root,r&&n.visible,!d&&n.animateOpacity,!d&&!r&&f&&n.animateHide,!d&&r&&f&&n.animateShow),onBlur:function(){q(!1),g!=null&&g()},onFocus:function(){q(!0),i!=null&&i()},ref:b,children:e})}a.displayName=a.name+" [from "+f.id+"]";var n={animateHide:{animationDuration:"x1c74tu6",animationFillMode:"x10e4vud",animationName:"x12tgfm8",$$css:!0},animateOpacity:{transitionDuration:"x16fj20d",transitionProperty:"x19991ni",$$css:!0},animateShow:{animationDuration:"x1q3qbx4",animationFillMode:"x10e4vud",animationName:"x128vty6",$$css:!0},root:{opacity:"xg01cxk",pointerEvents:"x47corl",willChange:"xzyjqiw",$$css:!0},visible:{height:"xt7dq6l",opacity:"x1hc1fzr",$$css:!0}};e=j.forwardRef(a);g["default"]=e}),98);
__d("E2eeModelSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{peerId:"0",publicIdentityKey:[],isIdentityKeyNew:!1,deviceId:0}}function c(){return{isE2eeMandated:!1,sFramesEnabled:!1,participants:{}}}function h(a,c){c.writeStructBegin("PeerIdentityInfo");c.writeFieldBegin({fname:"peerId",ftype:(g||(g=b("ThriftTypes"))).I64,fid:1});if(a.peerId!=null)c.writeI64(BigInt(a.peerId));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"publicIdentityKey",ftype:g.LIST,fid:2});if(a.publicIdentityKey!=null){c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).BYTE,size:a.publicIdentityKey.length});for(var d=a.publicIdentityKey,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeByte(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).BYTE,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeByte(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"isIdentityKeyNew",ftype:g.BOOL,fid:3});if(a.isIdentityKeyNew!=null)c.writeBool(a.isIdentityKeyNew);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:g.I32,fid:4});if(a.deviceId!=null)c.writeI32(a.deviceId);else{e=0;c.writeI32(e)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a,c){c.writeStructBegin("E2eeModel");c.writeFieldBegin({fname:"isE2eeMandated",ftype:(g||(g=b("ThriftTypes"))).BOOL,fid:1});if(a.isE2eeMandated!=null)c.writeBool(a.isE2eeMandated);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"sFramesEnabled",ftype:g.BOOL,fid:2});if(a.sFramesEnabled!=null)c.writeBool(a.sFramesEnabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participants",ftype:g.MAP,fid:3});if(a.participants!=null){c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I64,vtype:g.LIST,size:Object.keys(a.participants).length});d=Object.entries(a.participants);for(a=0;a<d.length;a++){var e=d[a],f=e[0];e=e[1];c.writeI64(BigInt(f));c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:e.length});for(var f=e,e=Array.isArray(f),i=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(e){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;h(j,c)}c.writeListEnd()}c.writeMapEnd()}else{j={};c.writeMapBegin({ktype:(g||(g=b("ThriftTypes"))).I64,vtype:g.LIST,size:Object.keys(j).length});i=Object.entries(j);for(e=0;e<i.length;e++){f=i[e];d=f[0];a=f[1];c.writeI64(BigInt(d));c.writeListBegin({etype:(g||(g=b("ThriftTypes"))).STRUCT,size:a.length});for(j=a,f=Array.isArray(j),d=0,j=f?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(d>=j.length)break;a=j[d++]}else{d=j.next();if(d.done)break;a=d.value}a=a;h(a,c)}c.writeListEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).I64?c.peerId=a.readI64().toString():a.skip(e);break;case 2:if(e===(g||(g=b("ThriftTypes"))).LIST){c.publicIdentityKey=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readByte();c.publicIdentityKey.push(h)}}else a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BOOL?c.isIdentityKeyNew=a.readBool():a.skip(e);break;case 4:e===(g||(g=b("ThriftTypes"))).I32?c.deviceId=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.peerId===void 0&&(c.peerId="0");c.publicIdentityKey===void 0&&(c.publicIdentityKey=[]);c.isIdentityKeyNew===void 0&&(c.isIdentityKeyNew=!1);c.deviceId===void 0&&(c.deviceId=0);return c}function e(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BOOL?c.isE2eeMandated=a.readBool():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BOOL?c.sFramesEnabled=a.readBool():a.skip(e);break;case 3:if(e===(g||(g=b("ThriftTypes"))).MAP){c.participants={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var h=a.readI64().toString(),j=[],k=a.readListBegin();for(var l=0;l<k.size;l++){var m=i(a);j.push(m)}c.participants[h]=j}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isE2eeMandated===void 0&&(c.isE2eeMandated=!1);c.sFramesEnabled===void 0&&(c.sFramesEnabled=!1);c.participants===void 0&&(c.participants={});return c}f.PeerIdentityInfo$DefaultConstructor=a;f.E2eeModel$DefaultConstructor=c;f.serializePeerIdentityInfo=h;f.serializeE2eeModel=d;f.deserializePeerIdentityInfo=i;f.deserializeE2eeModel=e}),66);
__d("WasmLoggingSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return{error:0,warning:0,info:0}}function c(a,c){c.writeStructBegin("ConsoleLogLevelDefinition");c.writeFieldBegin({fname:"error",ftype:(g||(g=b("ThriftTypes"))).BYTE,fid:1});if(a.error!=null)c.writeByte(a.error);else{var d=0;c.writeByte(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"warning",ftype:g.BYTE,fid:2});if(a.warning!=null)c.writeByte(a.warning);else{d=0;c.writeByte(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"info",ftype:g.BYTE,fid:3});if(a.info!=null)c.writeByte(a.info);else{d=0;c.writeByte(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(g||(g=b("ThriftTypes"))).STOP)break;switch(d){case 1:e===(g||(g=b("ThriftTypes"))).BYTE?c.error=a.readByte():a.skip(e);break;case 2:e===(g||(g=b("ThriftTypes"))).BYTE?c.warning=a.readByte():a.skip(e);break;case 3:e===(g||(g=b("ThriftTypes"))).BYTE?c.info=a.readByte():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.error===void 0&&(c.error=0);c.warning===void 0&&(c.warning=0);c.info===void 0&&(c.info=0);return c}f.ConsoleLogLevelDefinition$DefaultConstructor=a;f.serializeConsoleLogLevelDefinition=c;f.deserializeConsoleLogLevelDefinition=d}),66);
__d("ZenonGenericWasmHelper",["ZenonDataUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return b<0?0:a._malloc(b)}function a(a,b){a._free(b)}function b(a){var b=h(a,4);a.setValue(b,0,"i32");return b}function c(a,b){var c=h(a,b.length);j(a,b,c);return c}function e(a,b){var c=h(a,b.length*4);k(a,b,c);return c}function f(a,b){var c=h(a,b.length*8);l(a,b,c);return c}function i(a,b){var c=h(a,b.length);m(a,b,c);return[c,b.length]}function j(a,b,c){for(var d=0;d<b.length;d++)a.setValue(c+d,b[d],"i8")}function k(a,b,c){for(var d=0;d<b.length;d++)a.setValue(c+d*4,b[d],"i32")}function l(a,b,c){for(var d=0;d<b.length;d++)a.setValue(c+d*8,b[d],"i64")}function m(a,b,c){j(a,d("ZenonDataUtils").stringToUint8Array(b),c)}function n(a,b,c){a=p(a,b,c);return d("ZenonDataUtils").uint8ArrayToString(a)}function o(a,b,c){c=a.getValue(c,"i32");a=p(a,b,c);return a.buffer}function p(a,b,c){var d=new Uint8Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(e+b,"i8");return d}function q(a,b,c){var d=new Uint32Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(4*e+b,"i32");return d}function r(a,b,c,d){var e=[];for(var f=0;f<d;f++){var g=a.getValue(b+f*4,"i32"),h=a.getValue(c+f*4,"i32");g=n(a,g,h);e.push(g)}return e}g.allocateWasmMemory=h;g.freeWasmMemory=a;g.allocateWasmInteger=b;g.allocateWasmBuffer=c;g.allocateWasmBuffer32=e;g.allocateWasmBuffer64=f;g.allocateWasmBufferFromString=i;g.writeBytesIntoWasmBuffer=j;g.writeBytesIntoWasmBuffer32=k;g.writeBytesIntoWasmBuffer64=l;g.writeStringIntoWasmBuffer=m;g.readStringFromWasmBuffer=n;g.transferDataFromWasmBufferToArrayBuffer=o;g.readBytesFromWasmBuffer=p;g.readBytesFromWasmBuffer32=q;g.readArrayOfStringsFromWasmBuffer=r}),98);
__d("FrameEncryptionWasm",["CompactSerializer","E2eeMetricsSerializers","E2eeModelSerializers","FBLogger","FrameEncryptionWasmTypes","Promise","WASignalKeys","WasmLoggingSerializers","WebAssemblyMemorySingleton","ZenonDataUtils","ZenonGenericWasmHelper","bx","emptyFunction","err","frame_encryption","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=1,k=new Map(),l=!1;function m(a){a.onZenonLogEvent({name:"e2eeInitWasmStart"});var b=window.fetch;window.fetch=function(c,d){a.onZenonLogEvent({name:"e2eeInitWasmFetchStart"});return b(c,d).then(function(b){a.onZenonLogEvent({name:"e2eeInitWasmFetchEnd"});return b})};return c("frame_encryption")(a).then(function(c){a.onZenonLogEvent({name:"e2eeInitWasmEnd"});window.fetch=b;return c})["catch"](function(c){a.onZenonLogEvent({error:c,name:"e2eeInitWasmEnd"});window.fetch=b;throw c})}function n(a,b,d,e){var f=babelHelpers["extends"]({},b),g=function(g){if(Object.prototype.hasOwnProperty.call(b,g)){if(typeof b[g]!=="function")throw c("err")("Only functions are allowed as properties on the wasmModule");f[g]=function(){try{return b[g].apply(b,arguments)}catch(h){if(!l){l=!0;var f=b.getLogFromAssertions();c("FBLogger")("rtc_www").catching(c("getErrorSafe")(h)).mustfix("[WASM] API:%s, ERROR:%s, ASSERTION_LOG:%s, E2EE MANDATED: %s, USE_WORKER:%s",g.toString(),h.message,f,d.toString(),e.toString());a("[WASM] API:"+g.toString()+", ERROR:"+h.message+", ASSERTION_LOG:"+f+", E2EE MANDATED:"+d.toString()+", USE_WORKER:"+e.toString())}}}}};for(var h in b)g(h);return f}function o(a,b){b===void 0&&(b=function(){});var c=t(a);return a.addFunction(function(e,f,g){f=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,f,g);g=u(e,c);b(f,g)},"viii")}function p(a,b,c,e,f){var g,h=(g=d("FrameEncryptionWasmTypes")).WASM_NULLPTR_VALUE,j=g.WASM_NULLPTR_VALUE;g=new g.WasmCallbackManager(a);try{j=D(a,g,f,c);f=g.createCallback(C(a,e),"vi");h=a._e2eeContext_create(b?1:0,c,f.get(),j)}finally{a._proxyIdentityStoreDeps_free(j),h===d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&g.cleanupAllCallbacks()}e=new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(h);i.set(e,g);return e}function q(a,b,c,e,f){var g,h=(g=d("FrameEncryptionWasmTypes")).WASM_NULLPTR_VALUE,l=g.WASM_NULLPTR_VALUE;g=new g.WasmCallbackManager(a);try{l=a._encryptionKeysManagerDeps_create();a._encryptionKeysManagerDeps_setE2eeContext(l,b.get());a._encryptionKeysManagerDeps_setSendE2eeMessageCallback(l,g.createCallback(x(a,e),"viiii").get());if(f!=null){a._encryptionKeysManagerDeps_setSctpSendE2eeMessageCallback(l,g.createCallback(y(a,f),"viiii").get());b=function(b,c){b=window.setTimeout(function(){a._wasmTimerAdapter_execute(c)},b);j++;k.set(j,b);return j};a._encryptionKeysManagerDeps_setStartTimerCallback(l,g.createCallback(b,"iii").get());e=function(a){a=k.get(a);window.clearTimeout(a)};a._encryptionKeysManagerDeps_setStopTimerCallback(l,g.createCallback(e,"vi").get())}f=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(a,c);b=f[0];e=f[1];a._encryptionKeysManagerDeps_setUserIdStr(l,b,e);a._free(b);h=a._encryptionKeysManager_create(l)}finally{a._encryptionKeysManagerDeps_free(l),h===d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&g.cleanupAllCallbacks()}c=new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(h);i.set(c,g);return c}function a(a){var e=a.identityStoreInMemoryCache,f=a.isE2eeMandated,g=a.logCallbackFn,j=g===void 0?c("emptyFunction"):g,k=a.onE2eeModelUpdate;g=a.onZenonLogEvent;var t=a.terminateCallFn,u=a.useWorker,x=u===void 0?!1:u;u=a.wasmBinary;var y={locateFile:function(){return c("bx").getURL(c("bx")("37"))},onZenonLogEvent:g,wasmBinary:u,wasmMemory:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.get()};return new(h||(h=b("Promise")))(function(a){m(y).then(function(b){var g=o(b,j),h;return a(n(t,{allowUnencryptedFrames:function(a){b._frameDecryptor_enableUnencryptedData(a.get())},calculateSignature:function(a,c){var e=new Uint8Array(0),f=new Uint8Array(0),g=!1,h=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{h=b._cryptoSignatureInfo_create(),b._cryptoSignatureInfo_setTextSize(h,c.length),d("ZenonGenericWasmHelper").writeBytesIntoWasmBuffer(b,c,b._cryptoSignatureInfo_getTextDataPtr(h)),b._encryptionKeysManager_calculateSignature(a.get(),h),b._cryptoSignatureInfo_succeeded(h)===1&&(g=!0,e=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(b,b._cryptoSignatureInfo_getPublicIdentityKeyDataPtr(h),b._cryptoSignatureInfo_getPublicIdentityKeySize(h)),f=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(b,b._cryptoSignatureInfo_getSignatureDataPtr(h),b._cryptoSignatureInfo_getSignatureSize(h)))}finally{b._cryptoSignatureInfo_free(h)}return{publicIdentityKey:e,signature:f,succeeded:g}},createDtlsAuthenticationManager:function(){h==null&&(h=p(b,f,g,k,e));return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(b._dtlsAuthenticationManager_create(h.get()))},createEncryptionKeysManager:function(a,c,d){h==null&&(h=p(b,f,g,k,e));return q(b,h,a,c,d)},createEncryptionKeysManagerForTesting:function(a,c,d,e,h){e=p(b,f,g,e,h);h=q(b,e,a,c,d);return{e2eeContextPtr:e,ekmPtr:h}},createFrameDecryptor:function(a,c){var e,f=(e=d("FrameEncryptionWasmTypes")).WASM_NULLPTR_VALUE,h=e.WASM_NULLPTR_VALUE;e=e.WASM_NULLPTR_VALUE;var i=0;try{c=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,c);e=c[0];i=c[1];h=b._frameDecryptorDeps_create();b._frameDecryptorDeps_setEncryptionKeysManager(h,a.get());b._frameDecryptorDeps_setE2eeId(h,e,i);b._frameDecryptorDeps_setLoggingCallback(h,g);f=b._frameDecryptor_create(h)}finally{b._frameDecryptorDeps_free(h),b._free(e)}return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(f)},createFrameEncryptor:function(a){var c=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,e=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{e=b._frameEncryptorDeps_create(),b._frameEncryptorDeps_setEncryptionKeysManager(e,a.get()),b._frameEncryptorDeps_setLoggingCallback(e,g),c=b._frameEncryptor_create(e)}finally{b._frameEncryptorDeps_free(e)}return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(c)},createSecureDataMessageManager:function(a,c,e){var f,g=(f=d("FrameEncryptionWasmTypes")).WASM_NULLPTR_VALUE,h=f.WASM_NULLPTR_VALUE;f.WASM_NULLPTR_VALUE;f=new f.WasmCallbackManager(b);try{h=f.createCallback(A(b,c),"viiiiiii").get(),c=f.createCallback(e,"v").get(),g=b._cryptoMessageHandlerWrapper_create(h,c,a.get())}finally{g===d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&f.cleanupAllCallbacks()}e=new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(g);i.set(e,f);return e},createSecureSctpManager:function(a,c){var e,f=(e=d("FrameEncryptionWasmTypes")).WASM_NULLPTR_VALUE;e.WASM_NULLPTR_VALUE;e=new e.WasmCallbackManager(b);try{c=e.createCallback(B(b,c),"viiii").get(),f=b._sctpCryptoMessageHandlerWrapper_create(c,a.get())}finally{f===d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&e.cleanupAllCallbacks()}c=new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(f);i.set(c,e);return c},decrypt:function(a,c){var e={errorCode:-1,outputBuffer:new ArrayBuffer(0)},f=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,g=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,h=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{var i,j=a.data.byteLength;f=(i=d("ZenonGenericWasmHelper")).allocateWasmBuffer(b,new Uint8Array(a.data));g=i.allocateWasmBuffer(b,new Uint8Array(j));h=i.allocateWasmInteger(b);e.errorCode=b._frameDecryptor_decrypt(c.get(),f,j,g,j,0,0,h);e.outputBuffer=i.transferDataFromWasmBufferToArrayBuffer(b,g,h)}finally{b._free(f),b._free(g),b._free(h)}return e},decryptSctpMessage:function(a,c,e){e=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,e);var f=e[0];e=e[1];c=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,c);var g=c[0];c=c[1];try{b._cryptoMessageHandlerWrapper_decryptSctpMessage(a.get(),f,e,g,c)}finally{b._free(f),b._free(g)}},decryptStateSyncUpdate:function(a,c,e){e=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,e);var f=e[0];e=e[1];var g=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,d("ZenonDataUtils").uint8ArrayToString(c.data)),h=g[0];g=g[1];b._cryptoMessageHandlerWrapper_decryptStateSyncNotify(a.get(),f,e,h,g,c.version);b._free(f);b._free(h);return},encrypt:function(a,c,e){var f={errorCode:-1,outputBuffer:new ArrayBuffer(0)},g=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,h=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{var i=s(b,a,c.get());g=d("ZenonGenericWasmHelper").allocateWasmBuffer(b,i);h=d("ZenonGenericWasmHelper").allocateWasmInteger(b);f.errorCode=b._frameEncryptor_encrypt(c.get(),e,g,a.data.byteLength,g,i.length,0,0,h);f.outputBuffer=d("ZenonGenericWasmHelper").transferDataFromWasmBufferToArrayBuffer(b,g,h)}finally{b._free(g),b._free(h)}return f},encryptSctpMessage:function(a,c){c=w(b,c);a=b._cryptoMessageHandlerWrapper_encryptSctpMessage(a.get(),c);a=a===1;if(!a)return;a=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._stringBuffer_getDataPtr(c),b._stringBuffer_getSize(c));b._stringBuffer_free(c);return a},encryptStateSyncSnapshot:function(a,c,e){c=v(b,c,e);e=b._cryptoMessageHandlerWrapper_encryptStateSyncSnapshot(a.get(),c);a=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._dataMessage_getTopicPtr(c),b._dataMessage_getTopicSize(c));var f=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._dataMessage_getDataPtr(c),b._dataMessage_getDataSize(c));e=e===1;f={encryptedData:f,encryptedTopic:a,encryptionSuccess:e};b._dataMessage_free(c);return f},encryptStateSyncUpdate:function(a,c,e){c=v(b,c,e);e=b._cryptoMessageHandlerWrapper_encryptStateSyncUpdate(a.get(),c);a=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._dataMessage_getTopicPtr(c),b._dataMessage_getTopicSize(c));var f=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._dataMessage_getDataPtr(c),b._dataMessage_getDataSize(c));e=e===1;f={encryptedData:f,encryptedTopic:a,encryptionSuccess:e};b._dataMessage_free(c);return f},freeDecryptor:function(a){b._frameDecryptor_free(a.get()),a.markAsFreed()},freeDtlsAuthenticationManager:function(a){r(a,b._dtlsAuthenticationManager_free)},freeEncryptionKeysManager:function(a){r(a,b._encryptionKeysManager_free)},freeEncryptionKeysManagerForTesting:function(a,c){r(c,b._encryptionKeysManager_free),r(a,b._e2eeContext_free)},freeEncryptor:function(a){b._frameEncryptor_free(a.get()),a.markAsFreed()},freePrivatelyHeldCallScopedResources:function(){if(h==null)return;r(h,b._e2eeContext_free);h=null},freeSecureDataMessageManager:function(a){r(a,b._cryptoMessageHandlerWrapper_free)},freeSecureSctpManager:function(a){r(a,b._cryptoMessageHandlerWrapper_free)},generateDtlsAuthenticationInfo:function(a,c){var e=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,f=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,g=null;try{e=z(b,c),f=b._dtlsAuthenticationManager_generateAuthenticationInfo(a.get(),e),b._dtlsAuthenticatorGenerateResult_succeeded(f)===1&&(g=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._dtlsAuthenticatorGenerateResult_getDataPtr(f),b._dtlsAuthenticatorGenerateResult_getDataSize(f)))}finally{e!==d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&b._dtlsFingerprint_free(e),f!==d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&b._dtlsAuthenticatorGenerateResult_free(f)}return g},getAllocatedObjectCount:function(){var a=0;i.forEach(function(b,c){return a+=b.getCountOfCallbacks()});return b._debug_getAllocatedObjectCount()+a},getGroupE2eeMetrics:function(a){var c,e=0;try{e=b._encryptionKeysManager_getSerializedE2eeMetrics(a.get()),c=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(b,b._byteBuffer_getDataPtr(e),b._byteBuffer_getSize(e))}finally{b._byteBuffer_free(e)}return d("CompactSerializer").deserialize(c,d("E2eeMetricsSerializers").deserializeE2eeMetrics).group_e2ee},getLogFromAssertions:function(){var a=256,c=d("ZenonGenericWasmHelper").allocateWasmMemory(b,a),e="<empty>";try{a=b._debug_getLogFromAssertions(c,a);a=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,c,a);a.length!==0&&(e=a)}finally{b._free(c)}return e},getP2pE2eeMetrics:function(a){var c,e=0;try{e=b._dtlsAuthenticationManager_getSerializedE2eeMetrics(a.get()),c=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(b,b._byteBuffer_getDataPtr(e),b._byteBuffer_getSize(e))}finally{b._byteBuffer_free(e)}return d("CompactSerializer").deserialize(c,d("E2eeMetricsSerializers").deserializeP2pE2eeMetrics)},getSerializedE2eeClientState:function(a){var c={dataBuffer:new Uint8Array(0),errorCode:-1},e=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{e=b._encryptionKeysManager_getSerializedE2eeClientState(a.get()),c.errorCode=b._dataResult_getErrCode(e),c.dataBuffer=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(b,b._dataResult_getData(e),b._dataResult_getDataSize(e))}finally{b._dataResult_free(e)}return c},onMediaDataChannelReady:function(a){b._encryptionKeysManager_onMediaDataChannelReady(a.get())},processE2eeMessage:function(a,c){var e={keyIndex:"",keyUpdateDelayInMS:0,statusCode:-1},f=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,g=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{g=d("ZenonGenericWasmHelper").allocateWasmBuffer(b,c),f=b._encryptionKeysManager_processE2eeMessage(a.get(),g,c.byteLength),e.statusCode=b._encryptionKeysManagerProcessE2eeMessageResult_getStatusCode(f),e.keyIndex=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._encryptionKeysManagerProcessE2eeMessageResult_getKeyIndexDataPtr(f),b._encryptionKeysManagerProcessE2eeMessageResult_getKeyIndexSize(f)),e.keyUpdateDelayInMS=b._encryptionKeysManagerProcessE2eeMessageResult_getKeyUpdateDelay(f)}finally{b._encryptionKeysManagerProcessE2eeMessageResult_free(f),b._free(g)}return e},processE2eeServerUpdate:function(a,c){var e={errorCode:-1,keyIndex:"",keyUpdateDelayInMS:0,removeFrameDecryptorDelayMs:0},f=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,g=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{f=d("ZenonGenericWasmHelper").allocateWasmBuffer(b,c),g=b._encryptionKeysManager_processE2eeServerUpdate(a.get(),f,c.byteLength),e.errorCode=b._encryptionKeysManagerProcessE2eeServerUpdateResult_getErrCode(g),e.keyIndex=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._encryptionKeysManagerProcessE2eeServerUpdateResult_getKeyIndexDataPtr(g),b._encryptionKeysManagerProcessE2eeServerUpdateResult_getKeyIndexSize(g)),e.keyUpdateDelayInMS=b._encryptionKeysManagerProcessE2eeServerUpdateResult_getKeyUpdateDelay(g),e.removeFrameDecryptorDelayMs=b._encryptionKeysManagerProcessE2eeServerUpdateResult_getRemoveFrameDecryptorDelayMs(g)}finally{b._encryptionKeysManagerProcessE2eeServerUpdateResult_free(g),b._free(f)}return e},resetTerminationStateForTesting:function(){l=!1},setLocalE2eeId:function(a,e){if(e.length<1)throw c("err")("local e2ee id cannot be empty");var f=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,g=0;try{e=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,e);f=e[0];g=e[1];b._encryptionKeysManager_setLocalE2eeId(a.get(),f,g)}finally{b._free(f)}},setSupportedFrameDataHandlerTypes:function(a,c){var d=4,e=c.length,f=b._malloc(d*e);for(var g=0;g<e;g++)b.setValue(f+g*d,c[g],"i32");b._frameDecryptor_setSupportedFrameDataHandlerTypes(a.get(),f,e);b._free(f);return},updateSenderKeyIndex:function(a,c){var e="",f=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;c=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(b,c);var g=c[0];c=c[1];try{f=b._encryptionKeysManager_updateSenderKeyIndex(a.get(),g,c),e=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(b,b._stringBuffer_getDataPtr(f),b._stringBuffer_getSize(f))}finally{b._stringBuffer_free(f),b._free(g)}return e},verifyDtlsAuthenticationInfo:function(a,c,e,f){var g=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,h=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,i=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE,j=!1;try{g=z(b,c),h=w(b,e),i=w(b,f),j=b._dtlsAuthenticationManager_verifyAuthenticationInfo(a.get(),g,h,i)===0}finally{g!==d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&b._dtlsFingerprint_free(g),h!==d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&b._stringBuffer_free(h),i!==d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE&&b._stringBuffer_free(i)}return j},verifySignature:function(a,c,e,f){var g=!1,h=d("FrameEncryptionWasmTypes").WASM_NULLPTR_VALUE;try{h=b._cryptoSignatureInfo_create(),b._cryptoSignatureInfo_setTextSize(h,c.length),d("ZenonGenericWasmHelper").writeBytesIntoWasmBuffer(b,c,b._cryptoSignatureInfo_getTextDataPtr(h)),b._cryptoSignatureInfo_setPublicIdentityKeySize(h,f.length),d("ZenonGenericWasmHelper").writeBytesIntoWasmBuffer(b,f,b._cryptoSignatureInfo_getPublicIdentityKeyDataPtr(h)),b._cryptoSignatureInfo_setSignatureSize(h,e.length),d("ZenonGenericWasmHelper").writeBytesIntoWasmBuffer(b,e,b._cryptoSignatureInfo_getSignatureDataPtr(h)),b._encryptionKeysManager_verifySignature(a.get(),h),g=b._cryptoSignatureInfo_succeeded(h)===1}finally{b._cryptoSignatureInfo_free(h)}return g}},f,x))})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}function r(a,b){b(a.get());a.markAsFreed();(b=i.get(a))==null?void 0:b.cleanupAllCallbacks();i["delete"](a)}function s(a,b,c){var d=b.data.byteLength;a=a._frameEncryptor_getMaxEncryptedSize(c,d);c=new Uint8Array(a);c.set(new Uint8Array(b.data),0);c.fill(0,d);return c}function t(a){var b=a._logSeverityDefinition_create(),c=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(a,a._byteBuffer_getDataPtr(b),a._byteBuffer_getSize(b));a._byteBuffer_free(b);return d("CompactSerializer").deserialize(c,d("WasmLoggingSerializers").deserializeConsoleLogLevelDefinition)}function u(a,b){switch(a){case b.error:return"ERROR";case b.warning:return"WARNING";case b.info:return"INFO";default:c("FBLogger")("frame_encryption_wasm").debug("Logging severity not found in log level definition. Severity: "+a);return"INFO"}}function v(a,b,c){var e=a._dataMessage_create(b.length,c.length);d("ZenonGenericWasmHelper").writeStringIntoWasmBuffer(a,b,a._dataMessage_getTopicPtr(e));d("ZenonGenericWasmHelper").writeStringIntoWasmBuffer(a,c,a._dataMessage_getDataPtr(e));return e}function w(a,b){var c=a._stringBuffer_create(b.length);d("ZenonGenericWasmHelper").writeStringIntoWasmBuffer(a,b,a._stringBuffer_getDataPtr(c));return c}function x(a,b){return function(c,e,f,g){c=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,c,e);e=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(a,f,g);b(c,e)}}function y(a,b){return function(c,e,f,g){c=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,c,e);e=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,f,g);b(c,e)}}function z(a,b){var c=a._dtlsFingerprint_create(b.algo.length,b.digest.length);d("ZenonGenericWasmHelper").writeStringIntoWasmBuffer(a,b.algo,a._dtlsFingerprint_getAlgoDataPtr(c));d("ZenonGenericWasmHelper").writeStringIntoWasmBuffer(a,b.digest,a._dtlsFingerprint_getDigestDataPtr(c));return c}function A(a,b){return function(c,e,f,g,h,i,j){c=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,c,e);e=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,f,g);f=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,h,i);b(c,e,f,j)}}function B(a,b){return function(c,e,f,g){c=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,c,e);e=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,f,g);b(e,c)}}function C(a,b){return function(c){c=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(a,a._byteBuffer_getDataPtr(c),a._byteBuffer_getSize(c));b(d("CompactSerializer").deserialize(c,d("E2eeModelSerializers").deserializeE2eeModel))}}function D(a,b,c,e){var f=a._proxyIdentityStoreDeps_create(),g=function(){var b=c.getLocalPublicPrivateIdentityKey(),e=b.serializedPubKey;b=b.privateKey;var f=d("ZenonGenericWasmHelper").allocateWasmBuffer(a,e),g=d("ZenonGenericWasmHelper").allocateWasmBuffer(a,b);e=a._identityKey_create(f,e.length,g,b.length);a._free(f);a._free(g);return e};a._proxyIdentityStoreDeps_setGetLocalPublicPrivateIdentityKeyCallback(f,b.createCallback(g,"i").get(),e);g=function(b,e,f){b=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,b,e);e=c.getRemotePublicIdentityKey(b,f);e==null&&(e=new Uint8Array(0));b=d("ZenonGenericWasmHelper").allocateWasmBuffer(a,e);f=a._publicKey_create(b,e.length);a._free(b);return f};a._proxyIdentityStoreDeps_setGetRemotePublicIdentityKeyCallback(f,b.createCallback(g,"iiii").get(),e);g=function(b,e,f,g,h){g=d("ZenonGenericWasmHelper").readBytesFromWasmBuffer(a,g,h);h=d("ZenonGenericWasmHelper").readStringFromWasmBuffer(a,b,e);c.saveRemotePublicIdentityKey(h,f,d("WASignalKeys").castToSerializedPubKey(g));return 0};a._proxyIdentityStoreDeps_setSaveRemotePublicIdentityKeyCallback(f,b.createCallback(g,"iiiiii").get());e=function(){return c.getLocalDeviceId()};a._proxyIdentityStoreDeps_setGetLocalDeviceIdCallback(f,b.createCallback(e,"i").get());g=d("ZenonGenericWasmHelper").allocateWasmBufferFromString(a,c.getLocalUserId());b=g[0];e=g[1];a._proxyIdentityStoreDeps_setLocalUserId(f,b,e);a._free(b);a._proxyIdentityStoreDeps_setLocalIdentityKeyMode(f,c.getLocalIdentityKeyMode());return f}g["default"]=a}),98);
__d("SecureFrameErrors",[],(function(a,b,c,d,e,f){"use strict";a=new Map([[0,"SUCCESS"],[1,"ERROR_ALLOC"],[2,"ERROR_INVALIDPARAM"],[3,"ERROR_CIPHER"],[4,"ERROR_PARSE"],[5,"ERROR_INVALID_KEY"],[6,"ERROR_MISSING_KEY"],[7,"ERROR_OUT_OF_RATCHET_SPACE"],[8,"ERROR_CIPHER_AUTH"],[9,"ERROR_FRAME_TOO_OLD"],[10,"ERROR_SEEN_FRAME"],[11,"ERROR_INVALID_FRAME"],[12,"ERROR_SETTING_INVALID_KEY"],[13,"ERROR_SETTING_EXISTING_KEY"],[14,"ERROR_ESCAPE_DATA"],[15,"ERROR_DEESCAPE_DATA"],[16,"ERROR_PARSE_FRAME_OR_KEY"],[17,"ERROR_SET_KEY_INVALID_INDEX"],[18,"ERROR_UNSUPPORTED_CODEC"],[19,"ERROR_STATE_SYNC_PROVIDER_NOT_SET"]]);b=a;f["default"]=b}),66);
__d("ZenonDefaultErrorBoundaryProject",[],(function(a,b,c,d,e,f){"use strict";a="EXCEPTIONS_CRASH_THE_ENTIRE_APP";f["default"]=a}),66);
__d("recoil-shared/util/Recoil_isPromise",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!!a&&typeof a.then==="function"}e.exports=a}),null);
__d("recoil-shared/util/Recoil_nullthrows",["recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a!=null)return a;throw b("recoil-shared/util/Recoil_err")((a=c)!=null?a:"Got unexpected null or undefined")}e.exports=a}),null);
__d("recoil-oss/adt/Recoil_Loadable",["Promise","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_nullthrows"],(function(a,b,c,d,e,f){"use strict";var g,h=function(){function a(){}var c=a.prototype;c.getValue=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.toPromise=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.valueMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.valueOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected value, but in "'+this.state+'" state')};c.promiseMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.promiseOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected promise, but in "'+this.state+'" state')};c.errorMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.errorOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected error, but in "'+this.state+'" state')};c.is=function(a){return a.state===this.state&&a.contents===this.contents};c.map=function(a){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};return a}(),i=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="hasValue";b.contents=a;return b}var d=a.prototype;d.getValue=function(){return this.contents};d.toPromise=function(){return(g||(g=b("Promise"))).resolve(this.contents)};d.valueMaybe=function(){return this.contents};d.valueOrThrow=function(){return this.contents};d.promiseMaybe=function(){return void 0};d.errorMaybe=function(){return void 0};d.map=function(a){var c=this;try{var d=a(this.contents);return b("recoil-shared/util/Recoil_isPromise")(d)?n(d):q(d)?d:l(d)}catch(d){return b("recoil-shared/util/Recoil_isPromise")(d)?n(d.next(function(){return c.map(a)})):m(d)}};return a}(h),j=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="hasError";b.contents=a;return b}var d=a.prototype;d.getValue=function(){throw this.contents};d.toPromise=function(){return(g||(g=b("Promise"))).reject(this.contents)};d.valueMaybe=function(){return void 0};d.promiseMaybe=function(){return void 0};d.errorMaybe=function(){return this.contents};d.errorOrThrow=function(){return this.contents};d.map=function(a){return this};return a}(h),k=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="loading";b.contents=a;return b}var d=a.prototype;d.getValue=function(){throw this.contents};d.toPromise=function(){return this.contents};d.valueMaybe=function(){return void 0};d.promiseMaybe=function(){return this.contents};d.promiseOrThrow=function(){return this.contents};d.errorMaybe=function(){return void 0};d.map=function(a){var c=this;return n(this.contents.then(function(b){b=a(b);if(q(b)){var c=b;switch(c.state){case"hasValue":return c.contents;case"hasError":throw c.contents;case"loading":return c.contents}}return b})["catch"](function(d){if(b("recoil-shared/util/Recoil_isPromise")(d))return d.then(function(){return c.map(a).contents});throw d}))};return a}(h);function l(a){return Object.freeze(new i(a))}function m(a){return Object.freeze(new j(a))}function n(a){return Object.freeze(new k(a))}function o(){return Object.freeze(new k(new(g||(g=b("Promise")))(function(){})))}function p(a){return a.every(function(a){return a.state==="hasValue"})?l(a.map(function(a){return a.contents})):a.some(function(a){return a.state==="hasError"})?m(b("recoil-shared/util/Recoil_nullthrows")(a.find(function(a){return a.state==="hasError"}),"Invalid loadable passed to loadableAll").contents):n((g||(g=b("Promise"))).all(a.map(function(a){return a.contents})))}function a(a){var c=Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(function(b){return a[b]});c=c.map(function(a){return q(a)?a:b("recoil-shared/util/Recoil_isPromise")(a)?n(a):l(a)});c=p(c);return Array.isArray(a)?c:c.map(function(b){return Object.getOwnPropertyNames(a).reduce(function(a,c,d){return babelHelpers["extends"]({},a,(a={},a[c]=b[d],a))},{})})}function q(a){return a instanceof h}c={of:function(a){return b("recoil-shared/util/Recoil_isPromise")(a)?n(a):q(a)?a:l(a)},error:function(a){return m(a)},loading:function(){return o()},all:a,isLoadable:q};e.exports={loadableWithValue:l,loadableWithError:m,loadableWithPromise:n,loadableLoading:o,loadableAll:a,isLoadable:q,RecoilLoadable:c}}),null);
__d("recoil-shared/util/Recoil_RecoilEnv",["recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function h(a,c){var d;d=(d=process.env[a])==null?void 0:(d=d.toLowerCase())==null?void 0:d.trim();if(d==null||d==="")return;var e=["true","false"];if(!e.includes(d))throw b("recoil-shared/util/Recoil_err")("process.env."+a+" value must be 'true', 'false', or empty: "+d);c(d==="true")}function i(a,b){a=(a=process.env[a])==null?void 0:a.trim();if(a==null||a==="")return;b(a.split(/\s*,\s*|\s+/))}function a(){var a;if(typeof process==="undefined")return;if(((a=process)==null?void 0:a.env)==null)return;h("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",function(a){g.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=a});i("RECOIL_GKS_ENABLED",function(a){a.forEach(function(a){g.RECOIL_GKS_ENABLED.add(a)})})}a();e.exports=g}),null);
__d("recoil-shared/util/Recoil_gkx",["gkx","recoil-shared/util/Recoil_RecoilEnv"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED.has(a)}a.setPass=function(a){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED.add(a)};a.setFail=function(a){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED["delete"](a)};a.clear=function(){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED.clear()};e.exports=b("gkx")}),null);
__d("recoil-shared/util/Recoil_recoverableViolation",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=b("recoverableViolation")}),null);
__d("recoil-oss/core/Recoil_ReactMode",["__debug","react","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=(f=h.useSyncExternalStore)!=null?f:h.unstable_useSyncExternalStore,j=!1;function a(){var a=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=a.ReactCurrentDispatcher;a=a.ReactCurrentOwner;c=(c=c==null?void 0:c.current)!=null?c:a.currentDispatcher;a=c.useSyncExternalStore!=null;i&&!a&&!j&&(j=!0,b("recoil-shared/util/Recoil_recoverableViolation")("A React renderer without React 18+ API support is being used with React 18+.","recoil"));return a}function c(){if(b("recoil-shared/util/Recoil_gkx")("4523"))return{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0};return i!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:b("recoil-shared/util/Recoil_gkx")("1841868")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function d(){var a=b("__debug");a=a.isAcceptingUpdate;return typeof a==="function"&&a()}e.exports={useSyncExternalStore:i,currentRendererSupportsUseSyncExternalStore:a,reactMode:c,isFastRefreshEnabled:d}}),null);
__d("recoil-oss/core/Recoil_RecoilValue",[],(function(a,b,c,d,e,f){"use strict";b=function(){function a(a){this.key=a}var b=a.prototype;b.toJSON=function(){return{key:this.key}};return a}();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b);function a(a){return a instanceof g||a instanceof h}e.exports={AbstractRecoilValue:b,RecoilState:g,RecoilValueReadOnly:h,isRecoilValue:a}}),null);
__d("recoil-shared/util/Recoil_expectationViolation",["expectationViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=b("expectationViolation")}),null);
__d("recoil-shared/util/Recoil_mapIterable",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("regeneratorRuntime").mark(function d(){var e,f,g,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:e=0,(f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!g){b.next=8;break}if(!(h>=f.length)){b.next=5;break}return b.abrupt("break",17);case 5:i=f[h++];b.next=12;break;case 8:h=f.next();if(!h.done){b.next=11;break}return b.abrupt("break",17);case 11:i=h.value;case 12:j=i;b.next=15;return c(j,e++);case 15:b.next=2;break;case 17:case"end":return b.stop()}},d,this)})()}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Node",["recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValue","recoil-shared/util/Recoil_RecoilEnv","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_ReactMode").isFastRefreshEnabled;g=function(){};var h=new g(),i=new Map(),j=new Map();function a(a){return b("recoil-shared/util/Recoil_mapIterable")(a,function(a){return b("recoil-shared/util/Recoil_nullthrows")(j.get(a))})}function k(a){if(i.has(a)){a='Duplicate atom key "'+a+'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.';b("recoil-shared/util/Recoil_recoverableViolation")(a,"recoil")}}function c(a){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&k(a.key);i.set(a.key,a);var c=a.set==null?new(b("recoil-oss/core/Recoil_RecoilValue").RecoilValueReadOnly)(a.key):new(b("recoil-oss/core/Recoil_RecoilValue").RecoilState)(a.key);j.set(a.key,c);return c}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function d(a){var b=i.get(a);if(b==null)throw new l('Missing definition for RecoilValue: "'+a+'""');return b}function f(a){return i.get(a)}var m=new Map();function n(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var c=i.get(a);(c==null?void 0:c.shouldDeleteConfigOnRelease==null?void 0:c.shouldDeleteConfigOnRelease())&&(i["delete"](a),p(a)==null?void 0:p(a)(),m["delete"](a))}function o(a,c){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;c===void 0?m["delete"](a):m.set(a,c)}function p(a){return m.get(a)}e.exports={nodes:i,recoilValues:j,registerNode:c,getNode:d,getNodeMaybe:f,deleteNodeConfigIfPossible:n,setConfigDeletionHandler:o,getConfigDeletionHandler:p,recoilValuesForKeys:a,NodeMissingError:l,DefaultValue:g,DEFAULT_VALUE:h}}),null);
__d("RecoilUsageLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744252");b=d("FalcoLoggerInternal").create("recoil_usage_log",a);e=b;g["default"]=e}),98);
__d("RecoilusagelogEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECOIL_ROOT_MOUNTED:"RECOIL_ROOT_MOUNTED"});f["default"]=a}),66);
__d("recoil-oss/adt/Recoil_Queue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b()}e.exports={enqueueExecution:a}}),null);
__d("recoil-oss/core/Recoil_RetentionZone",[],(function(a,b,c,d,e,f){"use strict";var g=function(){};function a(){return new g()}e.exports={RetentionZone:g,retentionZone:a}}),null);
__d("recoil-shared/util/Recoil_CopyOnWrite",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Set(a);a.add(b);return a}function b(a,b){a=new Set(a);a["delete"](b);return a}function c(a,b,c){a=new Map(a);a.set(b,c);return a}function d(a,b,c){a=new Map(a);a.set(b,c(a.get(b)));return a}function f(a,b){a=new Map(a);a["delete"](b);return a}function g(a,b){var c=new Map(a);b.forEach(function(a){return c["delete"](a)});return c}e.exports={setByAddingToSet:a,setByDeletingFromSet:b,mapBySettingInMap:c,mapByUpdatingInMap:d,mapByDeletingFromMap:f,mapByDeletingMultipleFromMap:g}}),null);
__d("recoil-shared/util/Recoil_filterIterable",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a,c){var d,e,f,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=0,(e=a,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!f){b.next=8;break}if(!(h>=e.length)){b.next=5;break}return b.abrupt("break",18);case 5:i=e[h++];b.next=12;break;case 8:h=e.next();if(!h.done){b.next=11;break}return b.abrupt("break",18);case 11:i=h.value;case 12:j=i;if(!c(j,d++)){b.next=16;break}b.next=16;return j;case 16:b.next=2;break;case 18:case"end":return b.stop()}},g,this)}e.exports=a}),null);
__d("recoil-shared/util/Recoil_lazyProxy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Proxy(a,{get:function(a,c){!(c in a)&&c in b&&(a[c]=b[c]());return a[c]},ownKeys:function(a){for(var d in b)c[d];return Object.keys(a)}});return c}e.exports=a}),null);
__d("recoil-oss/core/Recoil_FunctionalCore",["recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_CopyOnWrite","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_lazyProxy","recoil-shared/util/Recoil_mapIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").getNode,h=b("recoil-oss/core/Recoil_Node").getNodeMaybe,i=b("recoil-oss/core/Recoil_Node").recoilValuesForKeys,j=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone,k=b("recoil-shared/util/Recoil_CopyOnWrite").setByAddingToSet,l=Object.freeze(new Set()),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function n(a,c,d){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return function(){return void 0};var e=a.getState().retention.nodesRetainedByZone;function f(a){var b=e.get(a);b||e.set(a,b=new Set());b.add(c)}if(d instanceof j)f(d);else if(Array.isArray(d))for(var g=d,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;f(k)}return function(){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var e=a.getState(),f=e.retention;function g(a){var b=f.nodesRetainedByZone.get(a);b==null?void 0:b["delete"](c);b&&b.size===0&&f.nodesRetainedByZone["delete"](a)}if(d instanceof j)g(d);else if(Array.isArray(d))for(var e=d,h=Array.isArray(e),i=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=e.length)break;k=e[i++]}else{i=e.next();if(i.done)break;k=i.value}k=k;g(k)}}}function o(a,b,c,d){var e=a.getState();if(e.nodeCleanupFunctions.has(c))return;var f=g(c),h=n(a,c,f.retainedBy),i=f.init(a,b,d);e.nodeCleanupFunctions.set(c,function(){i(),h()})}function a(a,b,c){o(a,a.getState().currentTree,b,c)}function c(a,b){a=a.getState();a.nodeCleanupFunctions.get(b)==null?void 0:a.nodeCleanupFunctions.get(b)();a.nodeCleanupFunctions["delete"](b)}function d(a,b,c){o(a,b,c,"get");return g(c).get(a,b)}function p(a,b,c){return g(c).peek(a,b)}function f(a,b,c){var d=h(b);d==null?void 0:d.invalidate==null?void 0:d.invalidate(a);return babelHelpers["extends"]({},a,{atomValues:a.atomValues.clone()["delete"](b),nonvalidatedAtoms:a.nonvalidatedAtoms.clone().set(b,c),dirtyAtoms:k(a.dirtyAtoms,b)})}function q(a,b,c,d){var e=g(c);if(e.set==null)throw new m("Attempt to set read-only RecoilValue: "+c);e=e.set;o(a,b,c,"set");return e(a,b,d)}function r(a,c,d){var e=a.getState(),f=a.getGraph(c.version),h=g(d).nodeType;return b("recoil-shared/util/Recoil_lazyProxy")({type:h},{loadable:function(){return p(a,c,d)},isActive:function(){return e.knownAtoms.has(d)||e.knownSelectors.has(d)},isSet:function(){return h==="selector"?!1:c.atomValues.has(d)},isModified:function(){return c.dirtyAtoms.has(d)},deps:function(){var a;return i((a=f.nodeDeps.get(d))!=null?a:[])},subscribers:function(){var f;return{nodes:i(b("recoil-shared/util/Recoil_filterIterable")(s(a,c,new Set([d])),function(a){return a!==d})),components:b("recoil-shared/util/Recoil_mapIterable")((f=(f=e.nodeToComponentSubscriptions.get(d))==null?void 0:f.values())!=null?f:[],function(a){a=a[0];return{name:a}})}}})}function s(a,b,c){var d=new Set();c=Array.from(c);a=a.getGraph(b.version);for(b=c.pop();b;b=c.pop()){var e;d.add(b);e=(e=a.nodeToNodeSubscriptions.get(b))!=null?e:l;for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;d.has(h)||c.push(h)}}return d}e.exports={getNodeLoadable:d,peekNodeLoadable:p,setNodeValue:q,initializeNode:a,cleanUpNode:c,setUnvalidatedAtomValue_DEPRECATED:f,peekNodeInfo:r,getDownstreamNodes:s}}),null);
__d("recoil-shared/util/Recoil_differenceSets",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Set();for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];FIRST:for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;for(var k=0;k<d.length;k++){var l=d[k];if(l.has(j))continue FIRST}b.add(j)}return b}e.exports=a}),null);
__d("recoil-shared/util/Recoil_mapMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();a.forEach(function(a,d){c.set(d,b(a,d))});return c}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Graph",["recoil-shared/util/Recoil_differenceSets","recoil-shared/util/Recoil_mapMap","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(){return{nodeDeps:new Map(),nodeToNodeSubscriptions:new Map()}}function c(a){return{nodeDeps:b("recoil-shared/util/Recoil_mapMap")(a.nodeDeps,function(a){return new Set(a)}),nodeToNodeSubscriptions:b("recoil-shared/util/Recoil_mapMap")(a.nodeToNodeSubscriptions,function(a){return new Set(a)})}}function g(a,c,d,e){var f=d.nodeDeps;d=d.nodeToNodeSubscriptions;var g=f.get(a);if(g&&e&&g!==e.nodeDeps.get(a))return;f.set(a,c);e=g==null?c:b("recoil-shared/util/Recoil_differenceSets")(c,g);for(var f=e,e=Array.isArray(f),h=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;d.has(i)||d.set(i,new Set());i=b("recoil-shared/util/Recoil_nullthrows")(d.get(i));i.add(a)}if(g){i=b("recoil-shared/util/Recoil_differenceSets")(g,c);for(h=i,e=Array.isArray(h),f=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=h.length)break;g=h[f++]}else{f=h.next();if(f.done)break;g=f.value}c=g;if(!d.has(c))return;i=b("recoil-shared/util/Recoil_nullthrows")(d.get(c));i["delete"](a);i.size===0&&d["delete"](c)}}}function d(a,c,d,e){var f,h,i=d.getState();e===i.currentTree.version||e===((f=i.nextTree)==null?void 0:f.version)||e===((f=i.previousTree)==null?void 0:f.version)||b("recoil-shared/util/Recoil_recoverableViolation")("Tried to save dependencies to a discarded tree","recoil");f=d.getGraph(e);g(a,c,f);if(e===((h=i.previousTree)==null?void 0:h.version)){h=d.getGraph(i.currentTree.version);g(a,c,h,f)}if(e===((h=i.previousTree)==null?void 0:h.version)||e===i.currentTree.version){e=(h=i.nextTree)==null?void 0:h.version;if(e!==void 0){i=d.getGraph(e);g(a,c,i,f)}}}e.exports={cloneGraph:c,graph:a,saveDepsToStore:d}}),null);
__d("recoil-oss/core/Recoil_Keys",[],(function(a,b,c,d,e,f){"use strict";var g=0;a=function(){return g++};var h=0;b=function(){return h++};var i=0;c=function(){return i++};e.exports={getNextTreeStateVersion:a,getNextStoreID:b,getNextComponentID:c}}),null);
__d("recoil-oss/core/Recoil_SnapshotCache",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){g==null?void 0:g()}e.exports={setInvalidateMemoizedSnapshot:a,invalidateMemoizedSnapshot:b}}),null);
__d("recoil-oss/core/Recoil_RecoilValueInterface",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_SnapshotCache","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_FunctionalCore").getDownstreamNodes,i=b("recoil-oss/core/Recoil_FunctionalCore").getNodeLoadable,j=b("recoil-oss/core/Recoil_FunctionalCore").setNodeValue,k=b("recoil-oss/core/Recoil_Keys").getNextComponentID,l=b("recoil-oss/core/Recoil_Node").getNode,m=b("recoil-oss/core/Recoil_Node").getNodeMaybe,n=b("recoil-oss/core/Recoil_Node").DefaultValue,o=b("recoil-oss/core/Recoil_ReactMode").reactMode,p=(g=b("recoil-oss/core/Recoil_RecoilValue")).AbstractRecoilValue,q=g.RecoilState,r=g.RecoilValueReadOnly;g=g.isRecoilValue;var s=b("recoil-oss/core/Recoil_SnapshotCache").invalidateMemoizedSnapshot;function a(a,c,d){var e;c=c.key;d===void 0&&(d=a.getState().currentTree);var f=a.getState();d.version===f.currentTree.version||d.version===((e=f.nextTree)==null?void 0:e.version)||d.version===((e=f.previousTree)==null?void 0:e.version)||b("recoil-shared/util/Recoil_recoverableViolation")("Tried to read from a discarded tree","recoil");f=i(a,d,c);f.state==="loading"&&f.contents["catch"](function(){return});return f}function c(a,b){var c=a.clone();b.forEach(function(a,b){a.state==="hasValue"&&a.contents instanceof n?c["delete"](b):c.set(b,a)});return c}function t(a,c,d,e){d=d.key;if(typeof e==="function"){a=i(a,c,d);if(a.state==="loading"){c='Tried to set atom or selector "'+d+'" using an updater function while the current state is pending, this is not currently supported.';b("recoil-shared/util/Recoil_recoverableViolation")(c,"recoil");throw b("recoil-shared/util/Recoil_err")(c)}else if(a.state==="hasError")throw a.contents;return e(a.contents)}else return e}function u(a,c,d){if(d.type==="set"){var e=d.recoilValue,f=d.valueOrUpdater;f=t(a,c,e,f);a=j(a,c,e.key,f);for(e=a.entries(),f=Array.isArray(e),a=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(f){if(a>=e.length)break;g=e[a++]}else{a=e.next();if(a.done)break;g=a.value}g=g;var h=g[0];g=g[1];v(c,h,g)}}else if(d.type==="setLoadable"){h=d.recoilValue.key;g=d.loadable;v(c,h,g)}else if(d.type==="markModified"){a=d.recoilValue.key;c.dirtyAtoms.add(a)}else if(d.type==="setUnvalidated"){f=d.recoilValue.key;e=d.unvalidatedValue;h=m(f);h==null?void 0:h.invalidate==null?void 0:h.invalidate(c);c.atomValues["delete"](f);c.nonvalidatedAtoms.set(f,e);c.dirtyAtoms.add(f)}else b("recoil-shared/util/Recoil_recoverableViolation")("Unknown action "+d.type,"recoil")}function v(a,b,c){c.state==="hasValue"&&c.contents instanceof n?a.atomValues["delete"](b):a.atomValues.set(b,c),a.dirtyAtoms.add(b),a.nonvalidatedAtoms["delete"](b)}function w(a,b){a.replaceState(function(c){c=z(c);for(var d=0;d<b.length;d++){var e=b[d];u(a,c,e)}A(a,c);s();return c})}function x(a,b){if(y.length){var c=y[y.length-1],d=c.get(a);d||c.set(a,d=[]);d.push(b)}else w(a,[b])}var y=[];function d(){var a=new Map();y.push(a);return function(){for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];w(g,f)}g=y.pop();g!==a&&b("recoil-shared/util/Recoil_recoverableViolation")("Incorrect order of batch popping","recoil")}}function z(a){return babelHelpers["extends"]({},a,{atomValues:a.atomValues.clone(),nonvalidatedAtoms:a.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(a.dirtyAtoms)})}function A(a,b){a=h(a,b,b.dirtyAtoms);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;(e=m(e))==null?void 0:e.invalidate==null?void 0:e.invalidate(b)}}function B(a,b,c){x(a,{type:"set",recoilValue:b,valueOrUpdater:c})}function f(a,b,c){if(c instanceof n)return B(a,b,c);x(a,{type:"setLoadable",recoilValue:b,loadable:c})}function C(a,b){x(a,{type:"markModified",recoilValue:b})}function D(a,b,c){x(a,{type:"setUnvalidated",recoilValue:b,unvalidatedValue:c})}function E(a,c,d,e){var f=c.key;e===void 0&&(e=null);var g=k();c=a.getState();c.nodeToComponentSubscriptions.has(f)||c.nodeToComponentSubscriptions.set(f,new Map());b("recoil-shared/util/Recoil_nullthrows")(c.nodeToComponentSubscriptions.get(f)).set(g,[(c=e)!=null?c:"<not captured>",d]);e=o();if(e.early&&e.mode==="LEGACY"){c=a.getState().nextTree;c&&c.dirtyAtoms.has(f)&&d(c)}return{release:function(){var c=a.getState(),d=c.nodeToComponentSubscriptions.get(f);if(d===void 0||!d.has(g)){b("recoil-shared/util/Recoil_recoverableViolation")("Subscription missing at release time for atom "+f+". This is a bug in Recoil.","recoil");return}d["delete"](g);d.size===0&&c.nodeToComponentSubscriptions["delete"](f)}}}function F(a,b){var c=a.getState();c=c.currentTree;b=l(b.key);b.clearCache==null?void 0:b.clearCache(a,c)}e.exports={RecoilValueReadOnly:r,AbstractRecoilValue:p,RecoilState:q,getRecoilValueAsLoadable:a,setRecoilValue:B,setRecoilValueLoadable:f,markRecoilValueModified:C,setUnvalidatedRecoilValue:D,subscribeToRecoilValue:E,isRecoilValue:g,applyAtomValueWrites:c,batchStart:d,writeLoadableToTreeState:v,invalidateDownstreams:A,copyTreeState:z,refreshRecoilValue:F}}),null);
__d("recoil-shared/util/Recoil_someSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(b.call(c,f[1],f[0],a))return!0;e=d.next()}return!1}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Retention",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_someSet"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_FunctionalCore").cleanUpNode,h=b("recoil-oss/core/Recoil_Node").deleteNodeConfigIfPossible,i=b("recoil-oss/core/Recoil_Node").getNode,j=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone;f=12e4;var k=new Set();function l(a,c){var d=a.getState(),e=d.currentTree;if(d.nextTree){b("recoil-shared/util/Recoil_recoverableViolation")("releaseNodesNowOnCurrentTree should only be called at the end of a batch","recoil");return}var f=new Set();for(var c=c,g=Array.isArray(c),h=0,c=g?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;if(i instanceof j)for(var k=p(d,i),l=Array.isArray(k),n=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(l){if(n>=k.length)break;q=k[n++]}else{n=k.next();if(n.done)break;q=n.value}q=q;f.add(q)}else f.add(i)}q=m(a,f);for(n=q,l=Array.isArray(n),k=0,n=l?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=n.length)break;i=n[k++]}else{k=n.next();if(k.done)break;i=k.value}h=i;o(a,e,h)}}function m(a,c){var d=a.getState(),e=d.currentTree,f=a.getGraph(e.version),g=new Set(),h=new Set();j(c);return g;function j(c){var l=new Set();c=n(a,e,c,g,h);for(var m=0;m<c.length;m++){var o,p=c[m];if(i(p).retainedBy==="recoilRoot"){h.add(p);continue}if(((o=d.retention.referenceCounts.get(p))!=null?o:0)>0){h.add(p);continue}if(q(p).some(function(a){return d.retention.referenceCounts.get(a)})){h.add(p);continue}o=f.nodeToNodeSubscriptions.get(p);if(o&&b("recoil-shared/util/Recoil_someSet")(o,function(a){return h.has(a)})){h.add(p);continue}g.add(p);l.add(p)}o=new Set();for(p=l,m=Array.isArray(p),c=0,p=m?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(c>=p.length)break;l=p[c++]}else{c=p.next();if(c.done)break;l=c.value}l=l;for(var l=(l=f.nodeDeps.get(l))!=null?l:k,r=Array.isArray(l),s=0,l=r?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=l.length)break;t=l[s++]}else{s=l.next();if(s.done)break;t=s.value}t=t;g.has(t)||o.add(t)}}o.size&&j(o)}}function n(a,c,d,e,f){var g=a.getGraph(c.version),h=[],i=new Set();while(d.size>0)j(b("recoil-shared/util/Recoil_nullthrows")(d.values().next().value));return h;function j(a){if(e.has(a)||f.has(a)){d["delete"](a);return}if(i.has(a))return;var b=g.nodeToNodeSubscriptions.get(a);if(b)for(var b=b,c=Array.isArray(b),k=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(c){if(k>=b.length)break;l=b[k++]}else{k=b.next();if(k.done)break;l=k.value}l=l;j(l)}i.add(a);d["delete"](a);h.push(a)}}function o(a,c,d){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;g(a,d);a=a.getState();a.knownAtoms["delete"](d);a.knownSelectors["delete"](d);a.nodeTransactionSubscriptions["delete"](d);a.retention.referenceCounts["delete"](d);var e=q(d);for(var f=0;f<e.length;f++){var i=e[f];(i=a.retention.nodesRetainedByZone.get(i))==null?void 0:i["delete"](d)}c.atomValues["delete"](d);c.dirtyAtoms["delete"](d);c.nonvalidatedAtoms["delete"](d);i=a.graphsByVersion.get(c.version);if(i){f=i.nodeDeps.get(d);if(f!==void 0){i.nodeDeps["delete"](d);for(e=f,a=Array.isArray(e),c=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(c>=e.length)break;f=e[c++]}else{c=e.next();if(c.done)break;f=c.value}f=f;(f=i.nodeToNodeSubscriptions.get(f))==null?void 0:f["delete"](d)}}i.nodeToNodeSubscriptions["delete"](d)}h(d)}function p(a,b){return(a=a.retention.nodesRetainedByZone.get(b))!=null?a:k}function q(a){a=i(a).retainedBy;if(a===void 0||a==="components"||a==="recoilRoot")return[];else if(a instanceof j)return[a];else return a}function r(a,b){var c=a.getState();c.nextTree?c.retention.retainablesToCheckForRelease.add(b):l(a,new Set([b]))}function a(a,c,d){var e;if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var f=a.getState().retention.referenceCounts;e=((e=f.get(c))!=null?e:0)+d;e===0?s(a,c):f.set(c,e)}function s(a,c){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var d=a.getState().retention.referenceCounts;d["delete"](c);r(a,c)}function c(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var c=a.getState();l(a,c.retention.retainablesToCheckForRelease);c.retention.retainablesToCheckForRelease.clear()}function d(a){return a===void 0?"recoilRoot":a}e.exports={SUSPENSE_TIMEOUT_MS:f,updateRetainCount:a,updateRetainCountToZero:s,releaseScheduledRetainablesNow:c,retainedByOptionWithDefault:d}}),null);
__d("recoil-shared/util/Recoil_ReactBatchedUpdates",["ReactDOMComet"],(function(a,b,c,d,e,f){a=b("ReactDOMComet").unstable_batchedUpdates;e.exports={unstable_batchedUpdates:a}}),null);
__d("recoil-oss/core/Recoil_Batching",["recoil-oss/core/Recoil_RecoilValueInterface","recoil-shared/util/Recoil_ReactBatchedUpdates"],(function(a,b,c,d,e,f){var g=b("recoil-oss/core/Recoil_RecoilValueInterface").batchStart;a=b("recoil-shared/util/Recoil_ReactBatchedUpdates").unstable_batchedUpdates;var h=a||function(a){return a()};c=function(a){h=a};d=function(){return h};f=function(a){h(function(){var b=function(){return void 0};try{b=g(),a()}finally{b()}})};e.exports={getBatcher:d,setBatcher:c,batchUpdates:f}}),null);
__d("recoil-oss/adt/Recoil_PersistentMap",["hamt_plus","recoil-shared/util/Recoil_gkx"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a){this.$1=new Map(a==null?void 0:a.entries())}var b=a.prototype;b.keys=function(){return this.$1.keys()};b.entries=function(){return this.$1.entries()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.set=function(a,b){this.$1.set(a,b);return this};b["delete"]=function(a){this.$1["delete"](a);return this};b.clone=function(){return i(this)};b.toMap=function(){return new Map(this.$1)};return a}(),h=function(){function a(c){this.$1=b("hamt_plus").empty.beginMutation();if(c instanceof a){var d=c.$1.endMutation();c.$1=d.beginMutation();this.$1=d.beginMutation()}else if(c)for(var d=c.entries(),c=Array.isArray(d),e=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];this.$1.set(g,f)}}var c=a.prototype;c.keys=function(){return this.$1.keys()};c.entries=function(){return this.$1.entries()};c.get=function(a){return this.$1.get(a)};c.has=function(a){return this.$1.has(a)};c.set=function(a,b){this.$1.set(a,b);return this};c["delete"]=function(a){this.$1["delete"](a);return this};c.clone=function(){return i(this)};c.toMap=function(){return new Map(this.$1)};return a}();function i(a){if(b("recoil-shared/util/Recoil_gkx")("1865551"))return new h(a);else return new g(a)}e.exports={persistentMap:i}}),null);
__d("recoil-oss/core/Recoil_State",["recoil-oss/adt/Recoil_PersistentMap","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_PersistentMap").persistentMap,h=b("recoil-oss/core/Recoil_Graph").graph,i=b("recoil-oss/core/Recoil_Keys").getNextTreeStateVersion;function j(){var a=i();return{version:a,stateID:a,transactionMetadata:{},dirtyAtoms:new Set(),atomValues:g(),nonvalidatedAtoms:g()}}function a(){var a=j();return{currentTree:a,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set(),knownSelectors:new Set(),transactionSubscriptions:new Map(),nodeTransactionSubscriptions:new Map(),nodeToComponentSubscriptions:new Map(),queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set(),graphsByVersion:new Map().set(a.version,h()),retention:{referenceCounts:new Map(),nodesRetainedByZone:new Map(),retainablesToCheckForRelease:new Set()},nodeCleanupFunctions:new Map()}}e.exports={makeEmptyTreeState:j,makeEmptyStoreState:a,getNextTreeStateVersion:i}}),null);
__d("recoil-shared/util/Recoil_Environment",[],(function(a,b,c,d,e,f){"use strict";var g=typeof Window==="undefined"||typeof window==="undefined";a=function(a){return!g&&(a===window||a instanceof Window)};b=typeof navigator!=="undefined"&&navigator.product==="ReactNative";e.exports={isSSR:g,isReactNative:b,isWindow:a}}),null);
__d("recoil-shared/util/Recoil_Memoize",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;return function(){c||(c={});var d=b.apply(void 0,arguments);Object.hasOwnProperty.call(c,d)||(c[d]=a.apply(void 0,arguments));return c[d]}}function b(a,b){var c,d;return function(){var e=b.apply(void 0,arguments);if(c===e)return d;c=e;d=a.apply(void 0,arguments);return d}}function c(a,b){var c,d,e=function(){var e=b.apply(void 0,arguments);if(c===e)return d;c=e;d=a.apply(void 0,arguments);return d},f=function(){c=null};return[e,f]}e.exports={memoizeWithArgsHash:a,memoizeOneWithArgsHash:b,memoizeOneWithArgsHashAndInvalidation:c}}),null);
__d("recoil-shared/util/Recoil_concatIterables",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a){var c,d,e,f,h,i,j,k,l,m;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){b.next=7;break}if(!(e>=c.length)){b.next=4;break}return b.abrupt("break",30);case 4:f=c[e++];b.next=11;break;case 7:e=c.next();if(!e.done){b.next=10;break}return b.abrupt("break",30);case 10:f=e.value;case 11:h=f,(i=h,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 13:if(!j){b.next=19;break}if(!(k>=i.length)){b.next=16;break}return b.abrupt("break",28);case 16:l=i[k++];b.next=23;break;case 19:k=i.next();if(!k.done){b.next=22;break}return b.abrupt("break",28);case 22:l=k.value;case 23:m=l;b.next=26;return m;case 26:b.next=13;break;case 28:b.next=1;break;case 30:case"end":return b.stop()}},g,this)}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Snapshot",["recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_SnapshotCache","recoil-oss/core/Recoil_State","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_Memoize","recoil-shared/util/Recoil_concatIterables","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Batching").batchUpdates,h=b("recoil-oss/core/Recoil_FunctionalCore").initializeNode,i=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,j=b("recoil-oss/core/Recoil_Graph").graph,k=b("recoil-oss/core/Recoil_Keys").getNextStoreID,l=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,m=b("recoil-oss/core/Recoil_Node").recoilValues,n=b("recoil-oss/core/Recoil_Node").recoilValuesForKeys,o=(d=b("recoil-oss/core/Recoil_RecoilValueInterface")).AbstractRecoilValue,p=d.getRecoilValueAsLoadable,q=d.setRecoilValue,r=d.setUnvalidatedRecoilValue,s=b("recoil-oss/core/Recoil_Retention").updateRetainCount;f=b("recoil-oss/core/Recoil_SnapshotCache").setInvalidateMemoizedSnapshot;var t=b("recoil-oss/core/Recoil_State").getNextTreeStateVersion,u=b("recoil-oss/core/Recoil_State").makeEmptyStoreState,v=b("recoil-shared/util/Recoil_Environment").isSSR;d=b("recoil-shared/util/Recoil_Memoize").memoizeOneWithArgsHashAndInvalidation;var w="\nRecoil Snapshots only last for the duration of the callback they are provided to. To keep a Snapshot longer, do this:\n\n  const release = snapshot.retain();\n  try {\n    await doSomethingWithSnapshot(snapshot);\n  } finally {\n    release();\n  }\n\nThis is currently a DEV-only warning but will become a thrown exception in the next release of Recoil.\n",x=function(){function a(a,c){var d=this;this.$2=1;this.getLoadable=function(a){d.checkRefCount_INTERNAL();return p(d.$1,a)};this.getPromise=function(a){d.checkRefCount_INTERNAL();return d.getLoadable(a).toPromise()};this.getNodes_UNSTABLE=function(a){d.checkRefCount_INTERNAL();if((a==null?void 0:a.isModified)===!0){if((a==null?void 0:a.isInitialized)===!1)return[];var c=d.$1.getState().currentTree;return n(c.dirtyAtoms)}var e=d.$1.getState().knownAtoms,f=d.$1.getState().knownSelectors;return(a==null?void 0:a.isInitialized)==null?m.values():a.isInitialized===!0?n(b("recoil-shared/util/Recoil_concatIterables")([e,f])):b("recoil-shared/util/Recoil_filterIterable")(m.values(),function(a){a=a.key;return!e.has(a)&&!f.has(a)})};this.getInfo_UNSTABLE=function(a){a=a.key;d.checkRefCount_INTERNAL();return i(d.$1,d.$1.getState().currentTree,a)};this.map=function(a){d.checkRefCount_INTERNAL();var b=new B(d,g);a(b);return b};this.asyncMap=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d.checkRefCount_INTERNAL();c=new B(d,g);c.retain();e.next=5;return b("regeneratorRuntime").awrap(a(c));case 5:c.autoRelease_INTERNAL();return e.abrupt("return",c);case 7:case"end":return e.stop()}},null,this)};this.$1={storeID:k(),parentStoreID:c,getState:function(){return a},replaceState:function(b){a.currentTree=b(a.currentTree)},getGraph:function(c){var d=a.graphsByVersion;if(d.has(c))return b("recoil-shared/util/Recoil_nullthrows")(d.get(c));var e=j();d.set(c,e);return e},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw b("recoil-shared/util/Recoil_err")("Cannot subscribe to Snapshots")}};for(var c=this.$1.getState().knownAtoms,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(e){if(f>=c.length)break;l=c[f++]}else{f=c.next();if(f.done)break;l=f.value}l=l;h(this.$1,l,"get");s(this.$1,l,1)}this.autoRelease_INTERNAL()}var c=a.prototype;c.retain=function(){var a=this;this.$2<=0&&b("recoil-shared/util/Recoil_recoverableViolation")("Attempt to retain() Snapshot that was already released.","recoil");this.$2++;var c=!1;return function(){c||(c=!0,a.$3())}};c.autoRelease_INTERNAL=function(){var a=this;v||window.setTimeout(function(){return a.$3()},10)};c.$3=function(){this.$2--;if(this.$2===0){this.$1.getState().nodeCleanupFunctions.forEach(function(a){return a()});this.$1.getState().nodeCleanupFunctions.clear();if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return}else this.$2<0};c.isRetained=function(){return this.$2>0};c.checkRefCount_INTERNAL=function(){b("recoil-shared/util/Recoil_gkx")("1842165")&&this.$2<=0};c.getStore_INTERNAL=function(){this.checkRefCount_INTERNAL();return this.$1};c.getID=function(){this.checkRefCount_INTERNAL();return this.$1.getState().currentTree.stateID};c.getStoreID=function(){this.checkRefCount_INTERNAL();return this.$1.storeID};return a}();function y(a,c,d){d===void 0&&(d=!1);var e=a.getState(),f=d?t():c.version;return{currentTree:{version:d?f:c.version,stateID:d?f:c.stateID,transactionMetadata:babelHelpers["extends"]({},c.transactionMetadata),dirtyAtoms:new Set(c.dirtyAtoms),atomValues:c.atomValues.clone(),nonvalidatedAtoms:c.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(e.knownAtoms),knownSelectors:new Set(e.knownSelectors),transactionSubscriptions:new Map(),nodeTransactionSubscriptions:new Map(),nodeToComponentSubscriptions:new Map(),queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set(),graphsByVersion:new Map().set(f,a.getGraph(c.version)),retention:{referenceCounts:new Map(),nodesRetainedByZone:new Map(),retainablesToCheckForRelease:new Set()},nodeCleanupFunctions:new Map(b("recoil-shared/util/Recoil_mapIterable")(e.nodeCleanupFunctions.entries(),function(a){a=a[0];return[a,function(){}]}))}}function a(a){var b=new x(u());return a!=null?b.map(a):b}w=d(function(a,c){var d=a.getState();c=c==="latest"?(c=d.nextTree)!=null?c:d.currentTree:b("recoil-shared/util/Recoil_nullthrows")(d.previousTree);return new x(y(a,c),a.storeID)},function(a,b){return String(b)+String(a.storeID)+String((b=a.getState().nextTree)==null?void 0:b.version)+String(a.getState().currentTree.version)+String((b=a.getState().previousTree)==null?void 0:b.version)});var z=w[0],A=w[1];f(A);function c(a,b){b===void 0&&(b="latest");var c=z(a,b);if(!c.isRetained()){A();return z(a,b)}return c}var B=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,y(a.getStore_INTERNAL(),a.getStore_INTERNAL().getState().currentTree,!0),a.getStoreID())||this;d.set=function(a,b){d.checkRefCount_INTERNAL();var c=d.getStore_INTERNAL();d.$MutableSnapshot1(function(){s(c,a.key,1),q(d.getStore_INTERNAL(),a,b)})};d.reset=function(a){d.checkRefCount_INTERNAL();var b=d.getStore_INTERNAL();d.$MutableSnapshot1(function(){s(b,a.key,1),q(d.getStore_INTERNAL(),a,l)})};d.setUnvalidatedAtomValues_DEPRECATED=function(a){d.checkRefCount_INTERNAL();var b=d.getStore_INTERNAL();g(function(){for(var c=a.entries(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];s(b,g,1);r(b,new o(g),f)}})};d.$MutableSnapshot1=c;return d}return a}(x);e.exports={Snapshot:x,MutableSnapshot:B,freshSnapshot:a,cloneSnapshot:c}}),null);
__d("recoil-shared/util/Recoil_unionSets",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Set();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=c[e];for(var g=f,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}var k=j;a.add(k)}}return a}e.exports=a}),null);
__d("recoil-shared/util/Recoil_useRefInitOnce",["react"],(function(a,b,c,d,e,f){"use strict";var g;c=g||b("react");var h=c.useRef;function a(a){var b=h(a);b.current===a&&typeof a==="function"&&(b.current=a());return b}e.exports=a}),null);
__d("recoil-oss/core/Recoil_RecoilRoot",["FBLogger","RecoilUsageLogFalcoEvent","RecoilusagelogEvent","URI","react","recoil-oss/adt/Recoil_Queue","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_Snapshot","recoil-oss/core/Recoil_State","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_unionSets","recoil-shared/util/Recoil_useRefInitOnce"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("recoil-oss/core/Recoil_State").getNextTreeStateVersion,j=b("recoil-oss/core/Recoil_State").makeEmptyStoreState,k=(f=b("recoil-oss/core/Recoil_FunctionalCore")).cleanUpNode,l=f.getDownstreamNodes,m=f.initializeNode,n=f.setNodeValue,o=f.setUnvalidatedAtomValue_DEPRECATED,p=b("recoil-oss/core/Recoil_Graph").graph,q=b("recoil-oss/core/Recoil_Graph").cloneGraph,r=b("recoil-oss/core/Recoil_Keys").getNextStoreID,s=b("recoil-oss/core/Recoil_ReactMode").reactMode,t=b("recoil-oss/core/Recoil_RecoilValueInterface").applyAtomValueWrites,u=b("recoil-oss/core/Recoil_Retention").releaseScheduledRetainablesNow,v=b("recoil-oss/core/Recoil_Snapshot").freshSnapshot,w=g||(g=b("react"));f=g;var x=f.Suspense,y=f.useCallback,z=f.useContext,A=f.useEffect,B=f.useRef,C=f.useState;function a(){throw b("recoil-shared/util/Recoil_err")("This component must be used inside a <RecoilRoot> component.")}var D=Object.freeze({storeID:r(),getState:a,replaceState:a,getGraph:a,subscribeToTransactions:a,addTransactionMetadata:a}),E=!1;function F(a){if(E)throw b("recoil-shared/util/Recoil_err")("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var c=a.getState();if(c.nextTree===null){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-shared/util/Recoil_gkx")("1098")&&(c.commitDepth>0&&u(a));a=c.currentTree.version;var d=i();c.nextTree=babelHelpers["extends"]({},c.currentTree,{version:d,stateID:d,dirtyAtoms:new Set(),transactionMetadata:{}});c.graphsByVersion.set(d,q(b("recoil-shared/util/Recoil_nullthrows")(c.graphsByVersion.get(a))))}}var G=w.createContext({current:D}),H=function(){return z(G)};function I(a,b,c){a=l(a,c,c.dirtyAtoms);for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b.nodeToComponentSubscriptions.get(f);if(f)for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i[0];i=i[1];i[0];i=i[1];i(c)}}}function J(a){var b=a.getState(),c=b.currentTree,d=c.dirtyAtoms;if(d.size){for(var e=b.nodeTransactionSubscriptions,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];if(d.has(i))for(var i=h,h=Array.isArray(i),j=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(j>=i.length)break;k=i[j++]}else{j=i.next();if(j.done)break;k=j.value}k=k;k[0];k=k[1];k(a)}}for(k=b.transactionSubscriptions,j=Array.isArray(k),h=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(h>=k.length)break;i=k[h++]}else{h=k.next();if(h.done)break;i=h.value}g=i;g[0];f=g[1];f(a)}(!s().early||b.suspendedComponentResolvers.size>0)&&(I(a,b,c),b.suspendedComponentResolvers.forEach(function(a){return a()}),b.suspendedComponentResolvers.clear())}b.queuedComponentCallbacks_DEPRECATED.forEach(function(a){return a(c)});b.queuedComponentCallbacks_DEPRECATED.splice(0,b.queuedComponentCallbacks_DEPRECATED.length)}function K(a){var c=a.getState();c.commitDepth++;try{var d=c.nextTree;if(d==null)return;c.previousTree=c.currentTree;c.currentTree=d;c.nextTree=null;J(a);c.previousTree!=null?c.graphsByVersion["delete"](c.previousTree.version):b("recoil-shared/util/Recoil_recoverableViolation")("Ended batch with no previous state, which is unexpected","recoil");c.previousTree=null;b("recoil-shared/util/Recoil_gkx")("1842165")&&(d==null&&u(a))}finally{c.commitDepth--}}function L(a){var c=a.setNotifyBatcherOfChange,d=H();a=C([]);var e=a[1];c(function(){return e({})});A(function(){c(function(){return e({})});return function(){c(function(){})}},[c]);A(function(){b("recoil-oss/adt/Recoil_Queue").enqueueExecution("Batcher",function(){K(d.current)})});return null}function M(a,c){var d=j();c({set:function(c,e){var f=d.currentTree;c=n(a,f,c.key,e);e=new Set(c.keys());var g=f.nonvalidatedAtoms.clone();for(var h=e,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;g["delete"](k)}d.currentTree=babelHelpers["extends"]({},f,{dirtyAtoms:b("recoil-shared/util/Recoil_unionSets")(f.dirtyAtoms,e),atomValues:t(f.atomValues,c),nonvalidatedAtoms:g})},setUnvalidatedAtomValues:function(a){a.forEach(function(a,b){d.currentTree=o(d.currentTree,b,a)})}});return d}function N(a){a=v(a);var b=a.getStore_INTERNAL().getState();a.retain();b.nodeCleanupFunctions.forEach(function(a){return a()});b.nodeCleanupFunctions.clear();return b}var O=!1;function P(){O||(O=!0,b("FBLogger")("recoil","root_suspended").warn("Suspended <RecoilRoot> detected. The children of <RecoilRoot> should be wrapped in a <Suspense> boundary since RecoilRoot is not designed to suspend."));return null}var Q=0;function R(a){var c=a.initializeState_DEPRECATED,d=a.initializeState,e=a.store_INTERNAL,f=a.children,g=a.skipCircularDependencyDetection_DANGEROUS;A(function(){b("recoil-shared/util/Recoil_gkx")("1649436")&&b("RecoilUsageLogFalcoEvent").log(function(){return{type:b("RecoilusagelogEvent").RECOIL_ROOT_MOUNTED,path:(h||(h=b("URI"))).getRequestURI().getPath()}})},[]);var i,l=function(a){var c=i.current.graphsByVersion;if(c.has(a))return b("recoil-shared/util/Recoil_nullthrows")(c.get(a));var d=p();c.set(a,d);return d},n=function(a,c){if(c==null){var d=u.current.getState(),e=d.transactionSubscriptions,f=Q++;e.set(f,a);return{release:function(){e["delete"](f)}}}else{d=u.current.getState();var g=d.nodeTransactionSubscriptions;g.has(c)||g.set(c,new Map());var h=Q++;b("recoil-shared/util/Recoil_nullthrows")(g.get(c)).set(h,a);return{release:function(){var a=g.get(c);a&&(a["delete"](h),a.size===0&&g["delete"](c))}}}},o=function(a){F(u.current);var c=Object.keys(a);for(var d=0;d<c.length;d++){var e=c[d];b("recoil-shared/util/Recoil_nullthrows")(u.current.getState().nextTree).transactionMetadata[e]=a[e]}},q=function(a){F(u.current);var c=b("recoil-shared/util/Recoil_nullthrows")(i.current.nextTree),d;try{E=!0,d=a(c)}finally{E=!1}if(d===c)return;i.current.nextTree=d;s().early&&I(u.current,i.current,d);b("recoil-shared/util/Recoil_nullthrows")(t.current)()},t=B(null);a=y(function(a){t.current=a},[t]);var u=b("recoil-shared/util/Recoil_useRefInitOnce")(function(){var a;return(a=e)!=null?a:{storeID:r(),getState:function(){return i.current},replaceState:q,getGraph:l,subscribeToTransactions:n,addTransactionMetadata:o,skipCircularDependencyDetection_DANGEROUS:g}});e!=null&&(u.current=e);i=b("recoil-shared/util/Recoil_useRefInitOnce")(function(){return c!=null?M(u.current,c):d!=null?N(d):j()});A(function(){var a=u.current;for(var b=new Set(a.getState().knownAtoms),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;m(a,e,"get")}return function(){for(var b=a.getState().knownAtoms,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;k(a,e)}}},[u]);return w.jsxs(G.Provider,{value:u,children:[w.jsx(L,{setNotifyBatcherOfChange:a}),w.jsx(x,{fallback:w.jsx(P,{}),children:f})]})}R.displayName=R.name+" [from "+e.id+"]";function c(a){var b=a.override,c=babelHelpers.objectWithoutPropertiesLoose(a,["override"]),d=H();return b===!1&&d.current!==D?a.children:w.jsx(R,babelHelpers["extends"]({},c))}c.displayName=c.name+" [from "+e.id+"]";function d(){return H().current.storeID}e.exports={RecoilRoot:c,useStoreRef:H,useRecoilStoreID:d,notifyComponents_FOR_TESTING:I,sendEndOfBatchNotifications_FOR_TESTING:J}}),null);
__d("recoil-shared/util/Recoil_shallowArrayEqual",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}e.exports=a}),null);
__d("recoil-shared/util/Recoil_usePrevious",["react"],(function(a,b,c,d,e,f){"use strict";var g;c=g||b("react");var h=c.useEffect,i=c.useRef;function a(a){var b=i();h(function(){b.current=a});return b.current}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRetain",["react","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_shallowArrayEqual","recoil-shared/util/Recoil_usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,i=b("recoil-oss/core/Recoil_Retention").SUSPENSE_TIMEOUT_MS,j=b("recoil-oss/core/Recoil_Retention").updateRetainCount,k=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone;c=g||(g=b("react"));var l=c.useEffect,m=c.useRef,n=b("recoil-shared/util/Recoil_Environment").isSSR;function a(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;return o(a)}function o(a){a=Array.isArray(a)?a:[a];var c=a.map(function(a){return a instanceof k?a:a.key}),d=h();l(function(){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var a=d.current;if(e.current&&!n)window.clearTimeout(e.current),e.current=null;else for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;j(a,i,1)}return function(){for(var b=c,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;j(a,f,-1)}}},[d].concat(c));var e=m();a=b("recoil-shared/util/Recoil_usePrevious")(c);if(!n&&(a===void 0||!b("recoil-shared/util/Recoil_shallowArrayEqual")(a,c))){var f=d.current;for(var g=c,o=Array.isArray(g),p=0,g=o?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=g.length)break;q=g[p++]}else{p=g.next();if(p.done)break;q=p.value}q=q;j(f,q,1)}if(a)for(q=a,p=Array.isArray(q),o=0,q=p?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(p){if(o>=q.length)break;g=q[o++]}else{o=q.next();if(o.done)break;g=o.value}a=g;j(f,a,-1)}e.current&&window.clearTimeout(e.current);e.current=window.setTimeout(function(){e.current=null;for(var a=c,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(b){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;j(f,g,-1)}},i)}}e.exports=a}),null);
__d("recoil-shared/util/Recoil_useComponentName",[],(function(a,b,c,d,e,f){"use strict";function a(){return"<component name only available when both in dev mode and when passing GK 'recoil_infer_component_names'>"}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_Hooks",["Promise","react","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/hooks/Recoil_useRetain","recoil-shared/util/Recoil_CopyOnWrite","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_differenceSets","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_useComponentName"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("recoil-oss/core/Recoil_Batching").batchUpdates,k=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,l=b("recoil-oss/core/Recoil_ReactMode").currentRendererSupportsUseSyncExternalStore,m=b("recoil-oss/core/Recoil_ReactMode").reactMode,n=b("recoil-oss/core/Recoil_ReactMode").useSyncExternalStore,o=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,p=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,q=(i=b("recoil-oss/core/Recoil_RecoilValueInterface")).AbstractRecoilValue,r=i.getRecoilValueAsLoadable,s=i.setRecoilValue,t=i.setUnvalidatedRecoilValue,u=i.subscribeToRecoilValue;i=g||(g=b("react"));var v=i.useCallback,w=i.useEffect,x=i.useMemo,y=i.useRef,z=i.useState,A=b("recoil-shared/util/Recoil_CopyOnWrite").setByAddingToSet,B=b("recoil-shared/util/Recoil_Environment").isSSR;function C(a,c,d){if(a.state==="hasValue")return a.contents;else if(a.state==="loading"){var e=new(h||(h=b("Promise")))(function(c){var e=d.current.getState().suspendedComponentResolvers;e.add(c);B&&b("recoil-shared/util/Recoil_isPromise")(a.contents)&&a.contents["finally"](function(){e["delete"](c)})});e.displayName="Recoil State: "+c.key;throw e}else if(a.state==="hasError")throw a.contents;else throw b("recoil-shared/util/Recoil_err")('Invalid value of loadable atom "'+c.key+'"')}function a(a,c){if(!p(a))throw b("recoil-shared/util/Recoil_err")("Invalid argument to "+c+": expected an atom or selector but got "+String(a))}function c(){var a=b("recoil-shared/util/Recoil_useComponentName")(),c=o(),d=z([]),e=d[1],f=y(new Set());f.current=new Set();var g=y(new Set()),h=y(new Map()),i=v(function(a){var b=h.current.get(a);b&&(b.release(),h.current["delete"](a))},[h]),j=v(function(a,b){h.current.has(b)&&e([])},[]);w(function(){var d=c.current;b("recoil-shared/util/Recoil_differenceSets")(f.current,g.current).forEach(function(c){if(h.current.has(c)){b("recoil-shared/util/Recoil_expectationViolation")('Double subscription to RecoilValue "'+c+'"');return}var e=u(d,new q(c),function(a){return j(a,c)},a);h.current.set(c,e);e=d.getState();e.nextTree?d.getState().queuedComponentCallbacks_DEPRECATED.push(function(){j(d.getState(),c)}):j(d.getState(),c)});b("recoil-shared/util/Recoil_differenceSets")(g.current,f.current).forEach(function(a){i(a)});g.current=f.current});w(function(){var d=h.current;b("recoil-shared/util/Recoil_differenceSets")(f.current,new Set(d.keys())).forEach(function(b){var e=u(c.current,new q(b),function(a){return j(a,b)},a);d.set(b,e)});return function(){return d.forEach(function(a,b){return i(b)})}},[a,c,i,j]);return x(function(){function d(a){return function(b){s(c.current,a,b)}}function e(a){return function(){return s(c.current,a,k)}}function a(a){f.current.has(a.key)||(f.current=A(f.current,a.key));var b=c.current.getState();return r(c.current,a,m().early?(a=b.nextTree)!=null?a:b.currentTree:b.currentTree)}function b(b){var d=a(b);return C(d,b,c)}function g(a){return[b(a),d(a)]}function h(b){return[a(b),d(b)]}return{getRecoilValue:b,getRecoilValueLoadable:a,getRecoilState:g,getRecoilStateLoadable:h,getSetRecoilState:d,getResetRecoilState:e}},[f,c])}i={current:0};function D(a){var c=o(),d=b("recoil-shared/util/Recoil_useComponentName")(),e=v(function(){var b,d=c.current,e=d.getState();b=m().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;e=r(d,a,b);return{loadable:e,key:a.key}},[c,a]),f=v(function(a){var b;return function(){var c,d=a();if(((c=b)==null?void 0:c.loadable.is(d.loadable))&&((c=b)==null?void 0:c.key)===d.key)return b;b=d;return d}},[]),g=x(function(){return f(e)},[e,f]),h=v(function(b){var e=c.current;e=u(e,a,b,d);return e.release},[c,a,d]);return n(h,g,g).loadable}function E(a){var c=o(),d=b("recoil-shared/util/Recoil_useComponentName")(),e=v(function(){var b,d=c.current,e=d.getState();b=m().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return r(d,a,b)},[c,a]),f=v(function(){return{loadable:e(),key:a.key}},[e,a.key]),g=v(function(a){var b=f();return a.loadable.is(b.loadable)&&a.key===b.key?a:b},[f]);w(function(){var b=u(c.current,a,function(a){j(g)},d);j(g);return b.release},[d,a,c,g]);var h=z(f),i=h[0],j=h[1];return i.key!==a.key?f().loadable:i.loadable}function F(a){var c=o(),d=z([]),e=d[1],f=b("recoil-shared/util/Recoil_useComponentName")(),g=v(function(){var b,d=c.current,e=d.getState();b=m().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return r(d,a,b)},[c,a]),h=g(),i=y(h);w(function(){i.current=h});w(function(){var d=c.current,h=d.getState(),j=u(d,a,function(a){var c;if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return e([]);a=g();((c=i.current)==null?void 0:c.is(a))||e(a);i.current=a},f);if(h.nextTree)d.getState().queuedComponentCallbacks_DEPRECATED.push(function(){i.current=null,e([])});else{if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return e([]);h=g();((d=i.current)==null?void 0:d.is(h))||e(h);i.current=h}return j.release},[f,g,a,c]);return h}function G(a){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-oss/hooks/Recoil_useRetain")(a);return{TRANSITION_SUPPORT:E,SYNC_EXTERNAL_STORE:l()?D:E,LEGACY:F}[m().mode](a)}function H(a){var b=o(),c=G(a);return C(c,a,b)}function I(a){var b=o();return v(function(c){s(b.current,a,c)},[b,a])}function d(a){var b=o();return v(function(){s(b.current,a,k)},[b,a])}function f(a){return[H(a),I(a)]}function a(a){return[G(a),I(a)]}function J(){var a=o();return function(b,c){c===void 0&&(c={}),j(function(){a.current.addTransactionMetadata(c),b.forEach(function(b,c){return t(a.current,new q(c),b)})})}}function K(a){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-oss/hooks/Recoil_useRetain")(a);return E(a)}function L(a){var b=o(),c=K(a);return C(c,a,b)}function M(a){return[L(a),I(a)]}e.exports={recoilComponentGetRecoilValueCount_FOR_TESTING:i,useRecoilInterface:c,useRecoilState:f,useRecoilStateLoadable:a,useRecoilValue:H,useRecoilValueLoadable:G,useResetRecoilState:d,useSetRecoilState:I,useSetUnvalidatedAtomValues:J,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:K,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:L,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:M}}),null);
__d("recoil-shared/util/Recoil_filterMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];b(f,g)&&c.set(g,f)}return c}e.exports=a}),null);
__d("recoil-shared/util/Recoil_filterSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b(f)&&c.add(f)}return c}e.exports=a}),null);
__d("recoil-shared/util/Recoil_mergeMaps",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=c[e].keys(),g;while(!(g=f.next()).done)a.set(g.value,c[e].get(g.value))}return a}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_SnapshotHooks",["react","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_Snapshot","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_filterMap","recoil-shared/util/Recoil_filterSet","recoil-shared/util/Recoil_mapMap","recoil-shared/util/Recoil_mergeMaps","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_Batching").batchUpdates,i=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,j=b("recoil-oss/core/Recoil_Node").getNode,k=b("recoil-oss/core/Recoil_Node").nodes,l=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,m=b("recoil-oss/core/Recoil_RecoilValueInterface").AbstractRecoilValue,n=b("recoil-oss/core/Recoil_RecoilValueInterface").setRecoilValueLoadable,o=b("recoil-oss/core/Recoil_Retention").SUSPENSE_TIMEOUT_MS,p=b("recoil-oss/core/Recoil_Snapshot").cloneSnapshot,q=g||(g=b("react")),r=q.useCallback,s=q.useEffect,t=q.useRef,u=q.useState,v=b("recoil-shared/util/Recoil_Environment").isSSR;function w(a){var b=l();s(function(){var c=b.current.subscribeToTransactions(a);return c.release},[a,b])}function x(a){var c=a.atomValues.toMap();c=b("recoil-shared/util/Recoil_mapMap")(b("recoil-shared/util/Recoil_filterMap")(c,function(a,b){b=j(b);b=b.persistence_UNSTABLE;return b!=null&&b.type!=="none"&&a.state==="hasValue"}),function(a){return a.contents});return b("recoil-shared/util/Recoil_mergeMaps")(a.nonvalidatedAtoms.toMap(),c)}function a(a){w(r(function(c){var d=c.getState().previousTree,e=c.getState().currentTree;d||(b("recoil-shared/util/Recoil_recoverableViolation")("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil","recoil"),d=c.getState().currentTree);var f=x(e),g=x(d);c=b("recoil-shared/util/Recoil_mapMap")(k,function(a){var b;return{persistence_UNSTABLE:{type:(b=(b=a.persistence_UNSTABLE)==null?void 0:b.type)!=null?b:"none",backButton:(a=(b=a.persistence_UNSTABLE)==null?void 0:b.backButton)!=null?a:!1}}});d=b("recoil-shared/util/Recoil_filterSet")(e.dirtyAtoms,function(a){return f.has(a)||g.has(a)});a({atomValues:f,previousAtomValues:g,atomInfo:c,modifiedAtoms:d,transactionMetadata:babelHelpers["extends"]({},e.transactionMetadata)})},[a]))}function c(a){w(r(function(b){var c=p(b,"latest");b=p(b,"previous");a({snapshot:c,previousSnapshot:b})},[a]))}function d(){var a=l(),c=u(function(){return p(a.current)}),d=c[0],e=c[1];c=b("recoil-shared/util/Recoil_usePrevious")(d);var f=t(),g=t();w(r(function(a){return e(p(a))},[]));s(function(){var a=d.retain();f.current&&!v&&(window.clearTimeout(f.current),f.current=null,g.current==null?void 0:g.current(),g.current=null);return function(){window.setTimeout(a,10)}},[d]);c!==d&&!v&&(f.current&&(window.clearTimeout(f.current),f.current=null,g.current==null?void 0:g.current(),g.current=null),g.current=d.retain(),f.current=window.setTimeout(function(){f.current=null,g.current==null?void 0:g.current(),g.current=null},o));return d}function y(a,c){var d,e=a.getState(),f=(d=e.nextTree)!=null?d:e.currentTree,g=c.getStore_INTERNAL().getState().currentTree;h(function(){var d=new Set(),e=[f.atomValues.keys(),g.atomValues.keys()];for(var h=0;h<e.length;h++){var k=e[h];for(var k=k,l=Array.isArray(k),o=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p,q;if(l){if(o>=k.length)break;q=k[o++]}else{o=k.next();if(o.done)break;q=o.value}q=q;((p=f.atomValues.get(q))==null?void 0:p.contents)!==((p=g.atomValues.get(q))==null?void 0:p.contents)&&j(q).shouldRestoreFromSnapshots&&d.add(q)}}d.forEach(function(c){n(a,new m(c),g.atomValues.has(c)?b("recoil-shared/util/Recoil_nullthrows")(g.atomValues.get(c)):i)});a.replaceState(function(a){return babelHelpers["extends"]({},a,{stateID:c.getID()})})})}function f(){var a=l();return r(function(b){return y(a.current,b)},[a])}e.exports={useRecoilSnapshot:d,gotoSnapshot:y,useGotoRecoilSnapshot:f,useRecoilTransactionObserver:c,useTransactionObservation_DEPRECATED:a,useTransactionSubscription_DEPRECATED:w}}),null);
__d("recoil-oss/hooks/Recoil_useGetRecoilValueInfo",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef;function a(){var a=h();return function(b){b=b.key;return g(a.current,a.current.getState().currentTree,b)}}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots",["react","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").RecoilRoot,i=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,j=g||(g=b("react"));c=g;var k=c.useMemo;function a(){var a=i().current;return k(function(){function b(b){b=b.children;return j.jsx(h,{store_INTERNAL:a,children:b})}b.displayName=b.name+" [from "+e.id+"]";return b},[a])}e.exports=a}),null);
__d("recoil-oss/core/Recoil_AtomicUpdates",["recoil-oss/adt/Recoil_Loadable","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValueInterface","recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_Loadable").loadableWithValue,h=b("recoil-oss/core/Recoil_FunctionalCore").initializeNode,i=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,j=b("recoil-oss/core/Recoil_Node").getNode,k=(c=b("recoil-oss/core/Recoil_RecoilValueInterface")).copyTreeState,l=c.getRecoilValueAsLoadable,m=c.invalidateDownstreams,n=c.writeLoadableToTreeState;function o(a){return j(a.key).nodeType==="atom"}var p=function(){function a(a,c){var d=this;this.get=function(a){if(d.$3.has(a.key))return d.$3.get(a.key);if(!o(a))throw b("recoil-shared/util/Recoil_err")("Reading selectors within atomicUpdate is not supported");var c=l(d.$1,a,d.$2);if(c.state==="hasValue")return c.contents;else if(c.state==="hasError")throw c.contents;else throw b("recoil-shared/util/Recoil_err")("Expected Recoil atom "+a.key+" to have a value, but it is in a loading state.")};this.set=function(a,c){if(!o(a))throw b("recoil-shared/util/Recoil_err")("Setting selectors within atomicUpdate is not supported");if(typeof c==="function"){var e=d.get(a);d.$3.set(a.key,c(e))}else h(d.$1,a.key,"set"),d.$3.set(a.key,c)};this.reset=function(a){d.set(a,i)};this.$1=a;this.$2=c;this.$3=new Map()}var c=a.prototype;c.newTreeState_INTERNAL=function(){if(this.$3.size===0)return this.$2;var a=k(this.$2);for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];n(a,f,g(e))}m(this.$1,a);return a};return a}();function a(a){return function(b){a.replaceState(function(c){c=new p(a,c);b(c);return c.newTreeState_INTERNAL()})}}e.exports={atomicUpdater:a}}),null);
__d("recoil-shared/util/Recoil_invariant",["invariant"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g}),null);
__d("recoil-oss/hooks/Recoil_useRecoilCallback",["react","recoil-oss/core/Recoil_AtomicUpdates","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Snapshot","recoil-oss/hooks/Recoil_SnapshotHooks","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_invariant","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_lazyProxy"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_AtomicUpdates").atomicUpdater,i=b("recoil-oss/core/Recoil_Batching").batchUpdates,j=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,k=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,l=b("recoil-oss/core/Recoil_RecoilValueInterface").refreshRecoilValue,m=b("recoil-oss/core/Recoil_RecoilValueInterface").setRecoilValue,n=b("recoil-oss/core/Recoil_Snapshot").cloneSnapshot,o=b("recoil-oss/hooks/Recoil_SnapshotHooks").gotoSnapshot;c=g||(g=b("react"));var p=c.useCallback,q=function(){},r=new q();function s(a,c,d,e){var f=r,g;i(function(){var i,k="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof c!=="function")throw b("recoil-shared/util/Recoil_err")(k);i=b("recoil-shared/util/Recoil_lazyProxy")(babelHelpers["extends"]({},(i=e)!=null?i:{},{set:function(b,c){return m(a,b,c)},reset:function(b){return m(a,b,j)},refresh:function(b){return l(a,b)},gotoSnapshot:function(b){return o(a,b)},transact_UNSTABLE:function(b){return h(a)(b)}}),{snapshot:function(){var b=n(a);g=b.retain();return b}});i=c(i);if(typeof i!=="function")throw b("recoil-shared/util/Recoil_err")(k);f=i.apply(void 0,d)});f instanceof q&&b("recoil-shared/util/Recoil_invariant")(0,27155);b("recoil-shared/util/Recoil_isPromise")(f)?f=f["finally"](function(){g==null?void 0:g()}):g==null?void 0:g();return f}function a(a,b){var c=k();return p(function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];return s(c.current,a,d)},b!=null?[].concat(b,[c]):void 0)}e.exports={recoilCallback:s,useRecoilCallback:a}}),null);
__d("recoil-oss/hooks/Recoil_useRecoilRefresher",["react","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,i=b("recoil-oss/core/Recoil_RecoilValueInterface").refreshRecoilValue;c=g||(g=b("react"));var j=c.useCallback;function a(a){var b=h();return j(function(){var c=b.current;i(c,a)},[a,b])}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRecoilTransaction",["react","recoil-oss/core/Recoil_AtomicUpdates","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_AtomicUpdates").atomicUpdater,i=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef;c=g||(g=b("react"));var j=c.useMemo;function a(a,b){var c=i();return j(function(){return function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];var f=h(c.current);f(function(b){a(b).apply(void 0,d)})}},b!=null?[].concat(b,[c]):void 0)}e.exports=a}),null);
__d("recoil-oss/adt/Recoil_Wrapper",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.value=a};e.exports={WrappedValue:a}}),null);
__d("recoil-oss/caches/Recoil_TreeCache",["recoil-oss/core/Recoil_ReactMode","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_ReactMode").isFastRefreshEnabled,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a){var b;this.$1=a==null?void 0:a.name;this.$2=0;this.$3=null;this.$4=(b=a==null?void 0:a.onHit)!=null?b:function(){};this.$5=(b=a==null?void 0:a.onSet)!=null?b:function(){};this.$6=(b=a==null?void 0:a.mapNodeValue)!=null?b:function(a){return a}}var c=a.prototype;c.size=function(){return this.$2};c.root=function(){return this.$3};c.get=function(a,b){return(a=this.getLeafNode(a,b))==null?void 0:a.value};c.getLeafNode=function(a,b){if(this.$3==null)return void 0;var c=this.$3;while(c){b==null?void 0:b.onNodeVisit(c);if(c.type==="leaf"){this.$4(c);return c}var d=this.$6(a(c.nodeKey));c=c.branches.get(d)}return void 0};c.set=function(a,b,c){var d=this,e=function(){var e,f;for(var g=a,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];var l=d.$3;if((l==null?void 0:l.type)==="leaf")throw d.invalidCacheError();var m=e;e=m?m.branches.get(f):l;e=(l=e)!=null?l:{type:"branch",nodeKey:k,parent:m,branches:new Map(),branchKey:f};if(e.type!=="branch"||e.nodeKey!==k)throw d.invalidCacheError();m==null?void 0:m.branches.set(f,e);c==null?void 0:c.onNodeVisit==null?void 0:c.onNodeVisit(e);f=d.$6(j);d.$3=(l=d.$3)!=null?l:e}m=e?(k=e)==null?void 0:k.branches.get(f):d.$3;if(m!=null&&(m.type!=="leaf"||m.branchKey!==f))throw d.invalidCacheError();j={type:"leaf",value:b,parent:e,branchKey:f};(l=e)==null?void 0:l.branches.set(f,j);d.$3=(i=d.$3)!=null?i:j;d.$2++;d.$5(j);c==null?void 0:c.onNodeVisit==null?void 0:c.onNodeVisit(j)};try{e()}catch(a){if(a instanceof h)this.clear(),e();else throw a}};c["delete"]=function(a){var b=this.root();if(!b)return!1;if(a===b){this.$3=null;this.$2=0;return!0}var c=a.parent;a=a.branchKey;while(c){var d;c.branches["delete"](a);if(c===b){c.branches.size===0?(this.$3=null,this.$2=0):this.$2--;return!0}if(c.branches.size>0)break;a=(d=c)==null?void 0:d.branchKey;c=c.parent}for(;c!==b;c=c.parent)if(c==null)return!1;this.$2--;return!0};c.clear=function(){this.$2=0,this.$3=null};c.invalidCacheError=function(){var a=g()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";b("recoil-shared/util/Recoil_recoverableViolation")(a+(this.$1!=null?" - "+this.$1:""),"recoil");throw new h()};return a}();e.exports={TreeCache:a}}),null);
__d("recoil-oss/caches/Recoil_LRUCache",["recoil-shared/util/Recoil_nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.maxSize;this.$2=0;this.$3=null;this.$4=null;this.$5=new Map();this.$6=(a=a.mapKey)!=null?a:function(a){return a}}var c=a.prototype;c.head=function(){return this.$3};c.tail=function(){return this.$4};c.size=function(){return this.$2};c.maxSize=function(){return this.$1};c.has=function(a){return this.$5.has(this.$6(a))};c.get=function(a){var b=this.$6(a);b=this.$5.get(b);if(!b)return void 0;this.set(a,b.value);return b.value};c.set=function(a,b){var c=this.$6(a),d=this.$5.get(c);d&&this["delete"](a);d=this.head();a={key:a,right:d,left:null,value:b};d?d.left=a:this.$4=a;this.$5.set(c,a);this.$3=a;this.$2++;this.$7()};c.$7=function(){this.size()>this.maxSize()&&this.deleteLru()};c.deleteLru=function(){var a=this.tail();a&&this["delete"](a.key)};c["delete"]=function(a){a=this.$6(a);if(!this.$2||!this.$5.has(a))return;var c=b("recoil-shared/util/Recoil_nullthrows")(this.$5.get(a)),d=c.right,e=c.left;d&&(d.left=c.left);e&&(e.right=c.right);c===this.head()&&(this.$3=d);c===this.tail()&&(this.$4=e);this.$5["delete"](a);this.$2--};c.clear=function(){this.$2=0,this.$3=null,this.$4=null,this.$5=new Map()};return a}();e.exports={LRUCache:a}}),null);
__d("recoil-oss/caches/Recoil_treeCacheLRU",["recoil-oss/caches/Recoil_LRUCache","recoil-oss/caches/Recoil_TreeCache"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_LRUCache").LRUCache,h=b("recoil-oss/caches/Recoil_TreeCache").TreeCache;function a(a){var b=a.name,c=a.maxSize;a=a.mapNodeValue;a=a===void 0?function(a){return a}:a;var d=new g({maxSize:c}),e=new h({name:b,mapNodeValue:a,onHit:function(a){d.set(a,!0)},onSet:function(a){var b=d.tail();d.set(a,!0);b&&e.size()>c&&e["delete"](b.key)}});return e}e.exports=a}),null);
__d("recoil-shared/util/Recoil_stableStringify",["recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";c=15;function g(a,c,d){if(typeof a==="string"&&!a.includes('"')&&!a.includes("\\"))return'"'+a+'"';switch(typeof a){case"undefined":return"";case"boolean":return a?"true":"false";case"number":case"symbol":return String(a);case"string":return JSON.stringify(a);case"function":if((c==null?void 0:c.allowFunctions)!==!0)throw b("recoil-shared/util/Recoil_err")("Attempt to serialize function in a Recoil cache key");return"__FUNCTION("+a.name+")__"}if(a===null)return"null";if(typeof a!=="object"){var e;return(e=JSON.stringify(a))!=null?e:""}if(b("recoil-shared/util/Recoil_isPromise")(a))return"__PROMISE__";if(Array.isArray(a))return"["+a.map(function(a,b){return g(a,c,b.toString())})+"]";if(typeof a.toJSON==="function")return g(a.toJSON(d),c,d);if(a instanceof Map){e={};for(var f=a,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];e[typeof k==="string"?k:g(k,c)]=j}return g(e,c,d)}if(a instanceof Set)return g(Array.from(a).sort(function(a,b){return g(a,c).localeCompare(g(b,c))}),c,d);return Symbol!==void 0&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]!=null&&typeof a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]==="function"?g(Array.from(a),c,d):"{"+Object.keys(a).filter(function(b){return a[b]!==void 0}).sort().map(function(b){return g(b,c)+":"+g(a[b],c,b)}).join(",")+"}"}function a(a,b){b===void 0&&(b={allowFunctions:!1});return g(a,b)}e.exports=a}),null);
__d("recoil-oss/caches/Recoil_treeCacheFromPolicy",["recoil-oss/caches/Recoil_TreeCache","recoil-oss/caches/Recoil_treeCacheLRU","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_TreeCache").TreeCache,h={equality:"reference",eviction:"keep-all",maxSize:Infinity};function a(a,b){a=a===void 0?h:a;var c=a.equality;c=c===void 0?h.equality:c;var d=a.eviction;d=d===void 0?h.eviction:d;a=a.maxSize;a=a===void 0?h.maxSize:a;c=i(c);return j(d,a,c,b)}function i(a){switch(a){case"reference":return function(a){return a};case"value":return function(a){return b("recoil-shared/util/Recoil_stableStringify")(a)}}throw b("recoil-shared/util/Recoil_err")("Unrecognized equality policy "+a)}function j(a,c,d,e){switch(a){case"keep-all":return new g({name:e,mapNodeValue:d});case"lru":return b("recoil-oss/caches/Recoil_treeCacheLRU")({name:e,maxSize:b("recoil-shared/util/Recoil_nullthrows")(c),mapNodeValue:d});case"most-recent":return b("recoil-oss/caches/Recoil_treeCacheLRU")({name:e,maxSize:1,mapNodeValue:d})}throw b("recoil-shared/util/Recoil_err")("Unrecognized eviction policy "+a)}e.exports=a}),null);
__d("recoil-shared/util/Recoil_PerformanceTimings",[],(function(a,b,c,d,e,f){function a(a){return function(){return null}}e.exports={startPerfBlock:a}}),null);
__d("recoil-shared/util/Recoil_isNode",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(typeof window==="undefined")return!1;b=a!=null?(b=a.ownerDocument)!=null?b:a:document;b=(b=b.defaultView)!=null?b:window;return!!(a!=null&&(typeof b.Node==="function"?a instanceof b.Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"))}e.exports=a}),null);
__d("recoil-shared/util/Recoil_deepFreezeValue",["recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_isNode","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-shared/util/Recoil_Environment").isReactNative,h=b("recoil-shared/util/Recoil_Environment").isWindow;function i(a){if(a===null||typeof a!=="object")return!0;switch(typeof a.$$typeof){case"symbol":return!0;case"number":return!0}if(a["@@__IMMUTABLE_ITERABLE__@@"]!=null||a["@@__IMMUTABLE_KEYED__@@"]!=null||a["@@__IMMUTABLE_INDEXED__@@"]!=null||a["@@__IMMUTABLE_ORDERED__@@"]!=null||a["@@__IMMUTABLE_RECORD__@@"]!=null)return!0;if(b("recoil-shared/util/Recoil_isNode")(a))return!0;if(b("recoil-shared/util/Recoil_isPromise")(a))return!0;if(a instanceof Error)return!0;if(ArrayBuffer.isView(a))return!0;return!g&&h(a)?!0:!1}function j(a){if(typeof a!=="object"||i(a))return;Object.freeze(a);for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b];typeof c==="object"&&c!=null&&!Object.isFrozen(c)&&j(c)}Object.seal(a)}e.exports=j}),null);
__d("recoil-oss/recoil_values/Recoil_selector",["recoil-oss/adt/Recoil_Loadable","recoil-oss/adt/Recoil_Wrapper","recoil-oss/caches/Recoil_treeCacheFromPolicy","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/hooks/Recoil_useRecoilCallback","recoil-shared/util/Recoil_PerformanceTimings","recoil-shared/util/Recoil_concatIterables","recoil-shared/util/Recoil_deepFreezeValue","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_invariant","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("recoil-oss/adt/Recoil_Loadable")).isLoadable,h=c.loadableWithError,i=c.loadableWithPromise,j=c.loadableWithValue,k=b("recoil-oss/adt/Recoil_Wrapper").WrappedValue,l=b("recoil-oss/core/Recoil_FunctionalCore").getNodeLoadable,m=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeLoadable,n=b("recoil-oss/core/Recoil_FunctionalCore").setNodeValue,o=b("recoil-oss/core/Recoil_Graph").saveDepsToStore,p=(d=b("recoil-oss/core/Recoil_Node")).DEFAULT_VALUE,q=d.getConfigDeletionHandler,r=d.getNode,s=d.registerNode,t=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,u=b("recoil-oss/core/Recoil_RecoilValueInterface").markRecoilValueModified,v=b("recoil-oss/core/Recoil_Retention").retainedByOptionWithDefault,w=b("recoil-oss/hooks/Recoil_useRecoilCallback").recoilCallback,aa=b("recoil-shared/util/Recoil_PerformanceTimings").startPerfBlock,x=function(){},y=new x(),z=[],A=new Map(),ba=function(){var a=0;return function(){return a++}}();function a(a){var c=null,d=a.key,e=a.get,f=a.cachePolicy_UNSTABLE,B=a.set!=null?a.set:void 0,C=new Set(),D=b("recoil-oss/caches/Recoil_treeCacheFromPolicy")((f=f)!=null?f:{equality:"reference",eviction:"keep-all"},d);f=v(a.retainedBy_UNSTABLE);var E=new Map(),F=0;function G(){return!b("recoil-shared/util/Recoil_gkx")("1842165")||F>0}function H(a){a.getState().knownSelectors.add(d);F++;return function(){F--}}function I(){return q(d)!==void 0&&!G()}function J(a,b,c,d,e){W(b,d,e),K(a,c)}function K(a,b){V(a,b)&&U(a),L(b,!0)}function ca(a,c){if(V(a,c)){a=b("recoil-shared/util/Recoil_nullthrows")(T(a));a.stateVersions.clear();L(c,!1)}}function L(a,d){var e=A.get(a);if(e!=null){for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;u(h,b("recoil-shared/util/Recoil_nullthrows")(c))}d&&A["delete"](a)}}function M(a,b){var c=A.get(b);c==null&&A.set(b,c=new Set());c.add(a)}function da(a,c,d,e,f,g){return c.then(function(b){if(!G()){U(a);throw y}var c=j(b);J(a,d,f,c,e);return b})["catch"](function(c){if(!G()){U(a);throw y}if(b("recoil-shared/util/Recoil_isPromise")(c))return N(a,c,d,e,f,g);var i=h(c);J(a,d,f,i,e);throw c})}function N(a,b,c,d,e,f){return b.then(function(d){if(!G()){U(a);throw y}f.loadingDepKey!=null&&f.loadingDepPromise===b?c.atomValues.set(f.loadingDepKey,j(d)):a.getState().knownSelectors.forEach(function(a){c.atomValues["delete"](a)});d=Q(a,c);if(d&&d.state!=="loading"){(V(a,e)||T(a)==null)&&K(a,e);if(d.state==="hasValue")return d.contents;else throw d.contents}if(!V(a,e)){d=S(a,c);if(d!=null)return d.loadingLoadable.contents}d=P(a,c,e);var g=d[0];d=d[1];g.state!=="loading"&&J(a,c,e,g,d);if(g.state==="hasError")throw g.contents;return g.contents})["catch"](function(b){if(b instanceof x)throw y;if(!G()){U(a);throw y}var f=h(b);J(a,c,e,f,d);throw b})}function O(a,b,c,e){if(V(a,e)||b.version===((e=a.getState())==null?void 0:(e=e.currentTree)==null?void 0:e.version)||b.version===((e=a.getState())==null?void 0:(b=e.nextTree)==null?void 0:b.version)){o(d,c,a,(e=(e=a.getState())==null?void 0:(b=e.nextTree)==null?void 0:b.version)!=null?e:a.getState().currentTree.version)}for(b=c,e=Array.isArray(b),a=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(a>=b.length)break;c=b[a++]}else{a=b.next();if(a.done)break;c=a.value}c=c;C.add(c)}}function P(a,f,m){var n=aa(d),o=!0,p=!0,q=function(){n(),p=!1},r=!1,s={loadingDepKey:null,loadingDepPromise:null},u=new Map();function v(c){c=c.key;var d=l(a,f,c);u.set(c,d);o||(O(a,f,new Set(u.keys()),m),ca(a,m));switch(d.state){case"hasValue":return d.contents;case"hasError":throw d.contents;case"loading":s.loadingDepKey=c;s.loadingDepPromise=d.contents;throw d.contents}throw b("recoil-shared/util/Recoil_err")("Invalid Loadable state")}var x=function(d){return function(){if(p)throw b("recoil-shared/util/Recoil_err")("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");c!=null||b("recoil-shared/util/Recoil_invariant")(0,54579);for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return w(a,d,f,{node:c})}};try{x=e({get:v,getCallback:x}),x=t(x)?v(x):x,g(x)&&(x.state==="hasError"&&(r=!0),x=x.contents),b("recoil-shared/util/Recoil_isPromise")(x)?x=da(a,x,f,u,m,s)["finally"](q):q(),x=x instanceof k?x.value:x}catch(c){x=c,b("recoil-shared/util/Recoil_isPromise")(x)?x=N(a,x,f,u,m,s)["finally"](q):(r=!0,q())}r?v=h(x):b("recoil-shared/util/Recoil_isPromise")(x)?v=i(x):v=j(x);o=!1;fa(a,m,u);O(a,f,new Set(u.keys()),m);return[v,u]}function Q(a,c){var e=c.atomValues.get(d);if(e!=null)return e;var f=new Set();try{e=D.get(function(d){typeof d==="string"||b("recoil-shared/util/Recoil_invariant")(0,35201);return l(a,c,d).contents},{onNodeVisit:function(a){a.type==="branch"&&a.nodeKey!==d&&f.add(a.nodeKey)}})}catch(a){throw b("recoil-shared/util/Recoil_err")('Problem with cache lookup for selector "'+d+'": '+a.message)}if(e){var g;c.atomValues.set(d,e);O(a,c,f,(g=T(a))==null?void 0:g.executionID)}return e}function R(a,b){var c=Q(a,b);if(c!=null){U(a);return c}c=S(a,b);if(c!=null){var d;((d=c.loadingLoadable)==null?void 0:d.state)==="loading"&&M(a,c.executionID);return c.loadingLoadable}d=ba();c=P(a,b,d);var e=c[0];c=c[1];e.state==="loading"?(ea(a,d,e,c,b),M(a,d)):(U(a),W(b,e,c));return e}function S(a,c){var d=b("recoil-shared/util/Recoil_concatIterables")([E.has(a)?[b("recoil-shared/util/Recoil_nullthrows")(E.get(a))]:[],b("recoil-shared/util/Recoil_mapIterable")(b("recoil-shared/util/Recoil_filterIterable")(E,function(b){b=b[0];return b!==a}),function(a){a=a[1];return a})]);function e(b){for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];if(!l(a,c,g).is(f))return!0}return!1}for(var d=d,f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;if(h.stateVersions.get(c.version)||!e(h.depValuesDiscoveredSoFarDuringAsyncWork)){h.stateVersions.set(c.version,!0);return h}else h.stateVersions.set(c.version,!1)}return void 0}function T(a){return E.get(a)}function ea(a,b,c,d,e){E.set(a,{depValuesDiscoveredSoFarDuringAsyncWork:d,executionID:b,loadingLoadable:c,stateVersions:new Map([[e.version,!0]])})}function fa(a,b,c){if(V(a,b)){b=T(a);b!=null&&(b.depValuesDiscoveredSoFarDuringAsyncWork=c)}}function U(a){E["delete"](a)}function V(a,b){return b===((b=T(a))==null?void 0:b.executionID)}function ga(a){return Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return[b,a.contents]})}function W(a,c,e){a.atomValues.set(d,c);try{D.set(ga(e),c)}catch(a){throw b("recoil-shared/util/Recoil_err")('Problem with setting cache for selector "'+d+'": '+a.message)}}function ha(a){if(z.includes(d)){var c="Recoil selector has circular dependencies: "+z.slice(z.indexOf(d)).join(" \u2192 ");return h(b("recoil-shared/util/Recoil_err")(c))}z.push(d);try{return a()}finally{z.pop()}}function X(a,c){var e=c.atomValues.get(d);return e!=null?e:D.get(function(d){typeof d==="string"||b("recoil-shared/util/Recoil_invariant")(0,35201);return(d=m(a,c,d))==null?void 0:d.contents})}function Y(a,b){return a.skipCircularDependencyDetection_DANGEROUS===!0?R(a,b):ha(function(){return R(a,b)})}function Z(a){a.atomValues["delete"](d)}function $(a,d){c!=null||b("recoil-shared/util/Recoil_invariant")(0,54579);for(var e=C,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h=r(h);h.clearCache==null?void 0:h.clearCache(a,d)}C.clear();Z(d);D.clear();u(a,c)}if(B!=null){var ia=function(a,c,e){var f=!1,g=new Map();function h(e){e=e.key;if(f)throw b("recoil-shared/util/Recoil_err")("Recoil: Async selector sets are not currently supported.");var g=l(a,c,e);if(g.state==="hasValue")return g.contents;else if(g.state==="loading"){e='Getting value of asynchronous atom or selector "'+e+'" in a pending state while setting selector "'+d+'" is not yet supported.';b("recoil-shared/util/Recoil_recoverableViolation")(e,"recoil");throw b("recoil-shared/util/Recoil_err")(e)}else throw g.contents}function i(d,e){if(f){var i="Recoil: Async selector sets are not currently supported.";b("recoil-shared/util/Recoil_recoverableViolation")(i,"recoil");throw b("recoil-shared/util/Recoil_err")(i)}i=typeof e==="function"?e(h(d)):e;e=n(a,c,d.key,i);e.forEach(function(a,b){return g.set(b,a)})}function j(a){i(a,p)}j=B({set:i,get:h,reset:j},e);if(j!==void 0)throw b("recoil-shared/util/Recoil_isPromise")(j)?b("recoil-shared/util/Recoil_err")("Recoil: Async selector sets are not currently supported."):b("recoil-shared/util/Recoil_err")("Recoil: selector set should be a void function.");f=!0;return g};return c=s({key:d,nodeType:"selector",peek:X,get:Y,set:ia,init:H,invalidate:Z,clearCache:$,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:a.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}else return c=s({key:d,nodeType:"selector",peek:X,get:Y,init:H,invalidate:Z,clearCache:$,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:a.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}a.value=function(a){return new k(a)};e.exports=a}),null);
__d("recoil-oss/caches/Recoil_MapCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new Map();this.$2=(a=a==null?void 0:a.mapKey)!=null?a:function(a){return a}}var b=a.prototype;b.size=function(){return this.$1.size};b.has=function(a){return this.$1.has(this.$2(a))};b.get=function(a){return this.$1.get(this.$2(a))};b.set=function(a,b){this.$1.set(this.$2(a),b)};b["delete"]=function(a){this.$1["delete"](this.$2(a))};b.clear=function(){this.$1.clear()};return a}();e.exports={MapCache:a}}),null);
__d("recoil-oss/caches/Recoil_cacheFromPolicy",["recoil-oss/caches/Recoil_LRUCache","recoil-oss/caches/Recoil_MapCache","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_LRUCache").LRUCache,h=b("recoil-oss/caches/Recoil_MapCache").MapCache,i={equality:"reference",eviction:"none",maxSize:Infinity};function a(a){a=a===void 0?i:a;var b=a.equality;b=b===void 0?i.equality:b;var c=a.eviction;c=c===void 0?i.eviction:c;a=a.maxSize;a=a===void 0?i.maxSize:a;b=j(b);c=k(c,a,b);return c}function j(a){switch(a){case"reference":return function(a){return a};case"value":return function(a){return b("recoil-shared/util/Recoil_stableStringify")(a)}}throw b("recoil-shared/util/Recoil_err")("Unrecognized equality policy "+a)}function k(a,c,d){switch(a){case"keep-all":return new h({mapKey:d});case"lru":return new g({mapKey:d,maxSize:b("recoil-shared/util/Recoil_nullthrows")(c)});case"most-recent":return new g({mapKey:d,maxSize:1})}throw b("recoil-shared/util/Recoil_err")("Unrecognized eviction policy "+a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_selectorFamily",["recoil-oss/caches/Recoil_cacheFromPolicy","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_selector","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").setConfigDeletionHandler,h=0;function a(a){var c,d=b("recoil-oss/caches/Recoil_cacheFromPolicy")({equality:(c=(c=a.cachePolicyForParams_UNSTABLE)==null?void 0:c.equality)!=null?c:"value",eviction:"keep-all"});return function(c){var e,f;try{f=d.get(c)}catch(c){throw b("recoil-shared/util/Recoil_err")("Problem with cache lookup for selector "+a.key+": "+c.message)}if(f!=null)return f;e=a.key+"__selectorFamily/"+((e=b("recoil-shared/util/Recoil_stableStringify")(c,{allowFunctions:!0}))!=null?e:"void")+"/"+h++;var i=function(b){return a.get(c)(b)},j=a.cachePolicy_UNSTABLE,k=typeof a.retainedBy_UNSTABLE==="function"?a.retainedBy_UNSTABLE(c):a.retainedBy_UNSTABLE;if(a.set!=null){var l=a.set,m=function(a,b){return l(c)(a,b)};m=b("recoil-oss/recoil_values/Recoil_selector")({key:e,get:i,set:m,cachePolicy_UNSTABLE:j,dangerouslyAllowMutability:a.dangerouslyAllowMutability,retainedBy_UNSTABLE:k})}else m=b("recoil-oss/recoil_values/Recoil_selector")({key:e,get:i,cachePolicy_UNSTABLE:j,dangerouslyAllowMutability:a.dangerouslyAllowMutability,retainedBy_UNSTABLE:k});d.set(c,m);g(m.key,function(){d["delete"](c)});return m}}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_WaitFor",["Promise","recoil-oss/adt/Recoil_Loadable","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/adt/Recoil_Loadable").loadableWithError,i=b("recoil-oss/adt/Recoil_Loadable").loadableWithPromise,j=b("recoil-oss/adt/Recoil_Loadable").loadableWithValue;function k(a,b){var c=Array(b.length).fill(void 0),d=Array(b.length).fill(void 0);for(var b=b.entries(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];try{c[h]=a(g)}catch(a){d[h]=a}}return[c,d]}function l(a){return a!=null&&!b("recoil-shared/util/Recoil_isPromise")(a)}function m(a){return Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(function(b){return a[b]})}function n(a,b){return Array.isArray(a)?b:Object.getOwnPropertyNames(a).reduce(function(a,c,d){return babelHelpers["extends"]({},a,(a={},a[c]=b[d],a))},{})}function o(a,c,d){d=d.map(function(a,d){return a==null?j(c[d]):b("recoil-shared/util/Recoil_isPromise")(a)?i(a):h(a)});return n(a,d)}function p(a,b){return b.map(function(b,c){return b===void 0?a[c]:b})}c=(a=b("recoil-oss/recoil_values/Recoil_selectorFamily"))({key:"__waitForNone",get:function(a){return function(b){b=b.get;var c=m(a);b=k(b,c);c=b[0];b=b[1];return o(a,c,b)}},dangerouslyAllowMutability:!0});d=a({key:"__waitForAny",get:function(a){return function(c){c=c.get;var d=m(a);c=k(c,d);var e=c[0],f=c[1];return f.some(function(a){return!b("recoil-shared/util/Recoil_isPromise")(a)})?o(a,e,f):new(g||(g=b("Promise")))(function(c){var d=function(){if(h){if(i>=g.length)return"break";j=g[i++]}else{i=g.next();if(i.done)return"break";j=i.value}var d=j,k=d[0];d=d[1];b("recoil-shared/util/Recoil_isPromise")(d)&&d.then(function(b){e[k]=b,f[k]=void 0,c(o(a,e,f))})["catch"](function(b){f[k]=b,c(o(a,e,f))})};for(var g=f.entries(),h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k=d();if(k==="break")break}})}},dangerouslyAllowMutability:!0});f=a({key:"__waitForAll",get:function(a){return function(c){c=c.get;var d=m(a);c=k(c,d);var e=c[0];d=c[1];if(d.every(function(a){return a==null}))return n(a,e);c=d.find(l);if(c!=null)throw c;return(g||(g=b("Promise"))).all(d).then(function(b){return n(a,p(e,b))})}},dangerouslyAllowMutability:!0});var q=a({key:"__waitForAllSettled",get:function(a){return function(c){c=c.get;var d=m(a);c=k(c,d);var e=c[0],f=c[1];return f.every(function(a){return!b("recoil-shared/util/Recoil_isPromise")(a)})?o(a,e,f):(g||(g=b("Promise"))).all(f.map(function(a,c){return b("recoil-shared/util/Recoil_isPromise")(a)?a.then(function(a){e[c]=a,f[c]=void 0})["catch"](function(a){e[c]=void 0,f[c]=a}):null})).then(function(){return o(a,e,f)})}},dangerouslyAllowMutability:!0});a=a({key:"__noWait",get:function(a){return function(c){c=c.get;try{return b("recoil-oss/recoil_values/Recoil_selector").value(j(c(a)))}catch(a){return b("recoil-oss/recoil_values/Recoil_selector").value(b("recoil-shared/util/Recoil_isPromise")(a)?i(a):h(a))}}},dangerouslyAllowMutability:!0});e.exports={waitForNone:c,waitForAny:d,waitForAll:f,waitForAllSettled:q,noWait:a}}),null);
__d("Recoil_ScopedAtomTaggedValue",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.entries=a};f["default"]=a}),66);
__d("recoil-oss/adt/Recoil_ArrayKeyedMap",[],(function(a,b,c,d,e,f){"use strict";var g={},h=new Map();a=function(){function a(b){this.$1=new Map();if(b instanceof a)for(var c=b.entries(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];this.set(g,f)}else if(b)for(g=b,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}c=d;b=c[0];d=c[1];this.set(b,d)}return this}var b=a.prototype;b.get=function(a){a=Array.isArray(a)?a:[a];var b=this.$1;a.forEach(function(a){b=(a=b.get(a))!=null?a:h});return b===void 0?void 0:b.get(g)};b.set=function(a,b){a=Array.isArray(a)?a:[a];var c=this.$1,d=c;a.forEach(function(a){d=c.get(a),d||(d=new Map(),c.set(a,d)),c=d});d.set(g,b);return this};b["delete"]=function(a){a=Array.isArray(a)?a:[a];var b=this.$1,c=b;a.forEach(function(a){c=b.get(a),c||(c=new Map(),b.set(a,c)),b=c});c["delete"](g);return this};b.entries=function(){var a=[];function b(c,d){c.forEach(function(c,e){e===g?a.push([d,c]):b(c,d.concat(e))})}b(this.$1,[]);return a.values()};b.toBuiltInMap=function(){return new Map(this.entries())};return a}();e.exports={ArrayKeyedMap:a}}),null);
__d("Recoil_ScopedAtom",["Recoil_ScopedAtomTaggedValue","recoil-oss/adt/Recoil_ArrayKeyedMap","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_WaitFor","recoil-oss/recoil_values/Recoil_atom","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){var b=a[0];a=a[1];return[b,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)(a)]})}function i(a){return a.map(function(a){return typeof a==="string"||typeof a==="number"||typeof a==="boolean"||a==null?a:c("recoil-shared/util/Recoil_stableStringify")(a)})}function j(a,b,e){if(!(b instanceof c("Recoil_ScopedAtomTaggedValue")))return b;for(var b=b.entries,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var j=h[0];h=h[1];h=h.get(i(e[j]));if(h!==void 0)return h instanceof d("recoil-oss/core/Recoil_Node").DefaultValue?a:h}return a}function k(a,b,e){b=b instanceof c("Recoil_ScopedAtomTaggedValue")?b.entries:[];var f=e.length-1;e=i(e[f]);var g=h(b);b.length>0&&b[0][0]===f?g[0][1].set(e,a):g.unshift([f,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)().set(e,a)]);return new(c("Recoil_ScopedAtomTaggedValue"))(g)}function l(a,b){if(a===null||a===void 0)return void 0;var e=a;return babelHelpers["extends"]({},a,{validator:function(a){if(a instanceof c("Recoil_ScopedAtomTaggedValue"))return new(c("Recoil_ScopedAtomTaggedValue"))(a.entries.filter(function(a){var b=a[0];a=a[1];return typeof b==="number"&&a instanceof d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap}).map(function(a){var f=a[0];a=a[1];return[f,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)(c("recoil-shared/util/Recoil_mapIterable")(a.entries(),function(a){var c=a[0];a=a[1];a=e.validator(a,d("recoil-oss/core/Recoil_Node").DEFAULT_VALUE);return[c,a instanceof d("recoil-oss/core/Recoil_Node").DefaultValue?b:a]}))]}));else return e.validator(a,d("recoil-oss/core/Recoil_Node").DEFAULT_VALUE)}})}function a(a){var b=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,e=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]),f=b.map(function(a){return Array.isArray(a)?d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(a):a}),g=c("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{"default":new(c("Recoil_ScopedAtomTaggedValue"))([]),persistence_UNSTABLE:l(e.persistence_UNSTABLE,e["default"]),dangerouslyAllowMutability:e.dangerouslyAllowMutability,effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}));return c("recoil-oss/recoil_values/Recoil_selector")({key:e.key+"__scopedAtom",get:function(a){a=a.get;return j(e["default"],a(g),a(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f)))},set:function(a,b){var c=a.set,e=a.get;return c(g,function(a){return k(b,a,e(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f)))})},dangerouslyAllowMutability:e.dangerouslyAllowMutability})}function m(a){return a.map(function(a){return Array.isArray(a)?function(b){return d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(a.map(function(a){return typeof a==="function"?a(b):a}))}:function(){return a}})}function b(a){var b=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,e=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]),f=m(b),g=c("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{"default":new(c("Recoil_ScopedAtomTaggedValue"))([]),persistence_UNSTABLE:l(e.persistence_UNSTABLE,e["default"]),dangerouslyAllowMutability:e.dangerouslyAllowMutability,effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}));return c("recoil-oss/recoil_values/Recoil_selectorFamily")({key:e.key+"__scopedAtom",get:function(a){return function(b){b=b.get;return j(e["default"],b(g),b(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f.map(function(b){return b(a)}))))}},set:function(a){return function(b,c){var e=b.set,h=b.get;return e(g,function(b){return k(c,b,h(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f.map(function(b){return b(a)}))))})}},dangerouslyAllowMutability:e.dangerouslyAllowMutability})}g.scopedAtom=a;g.parameterizedScopedAtomLegacy=b}),98);
__d("recoil-oss/recoil_values/Recoil_atom",["Promise","Recoil_ScopedAtom","recoil-oss/adt/Recoil_Loadable","recoil-oss/adt/Recoil_Wrapper","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/recoil_values/Recoil_selector","recoil-shared/util/Recoil_deepFreezeValue","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=b("Recoil_ScopedAtom").scopedAtom,i=(a=b("recoil-oss/adt/Recoil_Loadable")).isLoadable,j=a.loadableWithError,k=a.loadableWithPromise,l=a.loadableWithValue,m=b("recoil-oss/adt/Recoil_Wrapper").WrappedValue,n=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,o=(c=b("recoil-oss/core/Recoil_Node")).DEFAULT_VALUE,p=c.DefaultValue,q=c.getConfigDeletionHandler,r=c.registerNode,s=c.setConfigDeletionHandler,t=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,u=(d=b("recoil-oss/core/Recoil_RecoilValueInterface")).getRecoilValueAsLoadable,v=d.markRecoilValueModified,w=d.setRecoilValue,x=d.setRecoilValueLoadable,y=b("recoil-oss/core/Recoil_Retention").retainedByOptionWithDefault,z=function(a){return a instanceof m?a.value:a};function A(a){var c=a.key,d=a.persistence_UNSTABLE,e=y(a.retainedBy_UNSTABLE),f=0;function g(a){return k(a.then(function(a){h=l(a);return a})["catch"](function(a){h=j(a);throw a}))}var h=b("recoil-shared/util/Recoil_isPromise")(a["default"])?g(a["default"]):i(a["default"])?a["default"].state==="loading"?g(a["default"].contents):a["default"]:l(z(a["default"]));t(h.contents);var m=void 0,s=new Map();function t(a){return a}function A(a,b){var d=b.then(function(b){var e;e=(e=a.getState().nextTree)!=null?e:a.getState().currentTree;((e=e.atomValues.get(c))==null?void 0:e.contents)===d&&(v(a,H),w(a,H,b));return b})["catch"](function(b){var e;e=(e=a.getState().nextTree)!=null?e:a.getState().currentTree;((e=e.atomValues.get(c))==null?void 0:e.contents)===d&&(v(a,H),x(a,H,j(b)));throw b});return d}function B(d,e,g){f++;var i=function(){var a;f--;(a=s.get(d))==null?void 0:a.forEach(function(a){return a()});s["delete"](d)};d.getState().knownAtoms.add(c);if(h.state==="loading"){var m=function(){var a;a=(a=d.getState().nextTree)!=null?a:d.getState().currentTree;a.atomValues.has(c)||v(d,H)};h.contents["finally"](m)}m=(m=a.effects)!=null?m:a.effects_UNSTABLE;if(m!=null){var q=function(a){if(B&&a.key===c){var f=y;return f instanceof p?C(d,e):b("recoil-shared/util/Recoil_isPromise")(f)?k(f.then(function(a){return a instanceof p?h.toPromise():a})):l(f)}return u(d,a)},r=function(a){return q(a).toPromise()},x=function(a){var b;b=n(d,(b=d.getState().nextTree)!=null?b:d.getState().currentTree,a.key);return B&&a.key===c&&!(y instanceof p)?babelHelpers["extends"]({},b,{isSet:!0,loadable:q(a)}):b},y=o,B=!0,D=!1,E=null,F=function(a){return function(c){if(B){var e=q(H);e=e.state==="hasValue"?e.contents:o;y=typeof c==="function"?c(e):c;b("recoil-shared/util/Recoil_isPromise")(y)&&(y=y.then(function(b){E={effect:a,value:b};return b}))}else{if(b("recoil-shared/util/Recoil_isPromise")(c))throw b("recoil-shared/util/Recoil_err")("Setting atoms to async values is not implemented.");typeof c!=="function"&&(E={effect:a,value:z(c)});w(d,H,typeof c==="function"?function(d){d=c(d);if(b("recoil-shared/util/Recoil_isPromise")(d))throw b("recoil-shared/util/Recoil_err")("Setting atoms to async values is not yet implemented.");d=z(d);E={effect:a,value:d};return d}:z(c))}}},G=function(a){return function(){return F(a)(o)}},I=function(a){return function(e){var f,g=d.subscribeToTransactions(function(d){var f;d=d.getState();var g=d.currentTree;d=d.previousTree;d||(b("recoil-shared/util/Recoil_recoverableViolation")("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil","recoil"),d=g);f=(f=g.atomValues.get(c))!=null?f:h;if(f.state==="hasValue"){var i;f=f.contents;d=(d=d.atomValues.get(c))!=null?d:h;d=d.state==="hasValue"?d.contents:o;((i=E)==null?void 0:i.effect)!==a||((i=E)==null?void 0:i.value)!==f?e(f,d,!g.atomValues.has(c)):((i=E)==null?void 0:i.effect)===a&&(E=null)}},c);g=g.release;s.set(d,[].concat((f=s.get(d))!=null?f:[],[g]))}};for(var m=m,J=Array.isArray(m),K=0,m=J?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=m.length)break;L=m[K++]}else{K=m.next();if(K.done)break;L=K.value}L=L;try{L=L({node:H,storeID:d.storeID,parentStoreID_UNSTABLE:d.parentStoreID,trigger:g,setSelf:F(L),resetSelf:G(L),onSet:I(L),getPromise:r,getLoadable:q,getInfo_UNSTABLE:x});if(L!=null){var M;s.set(d,[].concat((M=s.get(d))!=null?M:[],[L]))}}catch(a){y=a,D=!0}}B=!1;if(!(y instanceof p)){M=D?j(y):b("recoil-shared/util/Recoil_isPromise")(y)?k(A(d,y)):l(z(y));t(M.contents);e.atomValues.set(c,M);(L=d.getState().nextTree)==null?void 0:L.atomValues.set(c,M)}}return i}function C(a,b){return(b=(a=b.atomValues.get(c))!=null?a:m)!=null?b:h}function D(a,e){if(e.atomValues.has(c))return b("recoil-shared/util/Recoil_nullthrows")(e.atomValues.get(c));else if(e.nonvalidatedAtoms.has(c)){if(m!=null)return m;if(d==null){b("recoil-shared/util/Recoil_expectationViolation")("Tried to restore a persisted value for atom "+c+" but it has no persistence settings.");return h}a=e.nonvalidatedAtoms.get(c);e=d.validator(a,o);a=e instanceof p?h:l(e);m=a;return m}else return h}function E(){m=void 0}function F(a,d,e){if(d.atomValues.has(c)){a=b("recoil-shared/util/Recoil_nullthrows")(d.atomValues.get(c));if(a.state==="hasValue"&&e===a.contents)return new Map()}else if(!d.nonvalidatedAtoms.has(c)&&e instanceof p)return new Map();t(e);m=void 0;return new Map().set(c,l(e))}function G(){return q(c)!==void 0&&f<=0}var H=r({key:c,nodeType:"atom",peek:C,get:D,set:F,init:B,invalidate:E,shouldDeleteConfigOnRelease:G,dangerouslyAllowMutability:a.dangerouslyAllowMutability,persistence_UNSTABLE:a.persistence_UNSTABLE?{type:a.persistence_UNSTABLE.type,backButton:a.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:e});return H}function B(a){var c=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,d=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]);a="default"in a?a["default"]:new(g||(g=b("Promise")))(function(){});if(t(a)||b("recoil-shared/util/Recoil_isPromise")(a)&&c||i(a)&&c)return C(babelHelpers["extends"]({},d,{"default":a,scopeRules_APPEND_ONLY_READ_THE_DOCS:c}));else if(c&&!b("recoil-shared/util/Recoil_isPromise")(a)&&!i(a))return h(babelHelpers["extends"]({},d,{"default":z(a),scopeRules_APPEND_ONLY_READ_THE_DOCS:c}));else return A(babelHelpers["extends"]({},d,{"default":a}))}function C(a){var c=B(babelHelpers["extends"]({},a,{"default":o,persistence_UNSTABLE:a.persistence_UNSTABLE===void 0?void 0:babelHelpers["extends"]({},a.persistence_UNSTABLE,{validator:function(c){return c instanceof p?c:b("recoil-shared/util/Recoil_nullthrows")(a.persistence_UNSTABLE).validator(c,o)}}),effects:a.effects,effects_UNSTABLE:a.effects_UNSTABLE})),d=b("recoil-oss/recoil_values/Recoil_selector")({key:a.key+"__withFallback",get:function(b){b=b.get;b=b(c);return b instanceof p?a["default"]:b},set:function(a,b){a=a.set;return a(c,b)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:a.dangerouslyAllowMutability});s(d.key,q(a.key));return d}B.value=function(a){return new m(a)};e.exports=B}),null);
__d("recoil-oss/recoil_values/Recoil_atomFamily",["Promise","recoil-oss/caches/Recoil_cacheFromPolicy","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_atom","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_Node").setConfigDeletionHandler;function i(a,b){return a==null?void 0:a.map(function(a){return Array.isArray(a)?a.map(function(a){return typeof a==="function"?a(b):a}):a})}function a(a){var c,d=b("recoil-oss/caches/Recoil_cacheFromPolicy")({equality:(c=(c=a.cachePolicyForParams_UNSTABLE)==null?void 0:c.equality)!=null?c:"value",eviction:"keep-all"});return function(c){var e=d.get(c);if(e!=null)return e;a.cachePolicyForParams_UNSTABLE;e=babelHelpers.objectWithoutPropertiesLoose(a,["cachePolicyForParams_UNSTABLE"]);var f="default"in a?a["default"]:new(g||(g=b("Promise")))(function(){});f=b("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{key:a.key+"__"+((e=b("recoil-shared/util/Recoil_stableStringify")(c))!=null?e:"void"),"default":typeof f==="function"?f(c):f,retainedBy_UNSTABLE:typeof a.retainedBy_UNSTABLE==="function"?a.retainedBy_UNSTABLE(c):a.retainedBy_UNSTABLE,effects:typeof a.effects==="function"?a.effects(c):typeof a.effects_UNSTABLE==="function"?a.effects_UNSTABLE(c):(e=a.effects)!=null?e:a.effects_UNSTABLE,scopeRules_APPEND_ONLY_READ_THE_DOCS:i(a.scopeRules_APPEND_ONLY_READ_THE_DOCS,c)}));d.set(c,f);h(f.key,function(){d["delete"](c)});return f}}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_constSelector",["recoil-oss/recoil_values/Recoil_selectorFamily"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/recoil_values/Recoil_selectorFamily")({key:"__constant",get:function(a){return function(){return a}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a(a){return g(a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_errorSelector",["recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/recoil_values/Recoil_selectorFamily")({key:"__error",get:function(a){return function(){throw b("recoil-shared/util/Recoil_err")(a)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a(a){return g(a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_readOnlySelector",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}e.exports=a}),null);
__d("recoil-oss",["recoil-oss/adt/Recoil_Loadable","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RetentionZone","recoil-oss/core/Recoil_Snapshot","recoil-oss/hooks/Recoil_Hooks","recoil-oss/hooks/Recoil_SnapshotHooks","recoil-oss/hooks/Recoil_useGetRecoilValueInfo","recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots","recoil-oss/hooks/Recoil_useRecoilCallback","recoil-oss/hooks/Recoil_useRecoilRefresher","recoil-oss/hooks/Recoil_useRecoilTransaction","recoil-oss/hooks/Recoil_useRetain","recoil-oss/recoil_values/Recoil_WaitFor","recoil-oss/recoil_values/Recoil_atom","recoil-oss/recoil_values/Recoil_atomFamily","recoil-oss/recoil_values/Recoil_constSelector","recoil-oss/recoil_values/Recoil_errorSelector","recoil-oss/recoil_values/Recoil_readOnlySelector","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_RecoilEnv"],(function(a,b,c,d,e,f){"use strict";var g,h;a=b("recoil-oss/adt/Recoil_Loadable").RecoilLoadable;c=b("recoil-oss/core/Recoil_Node").DefaultValue;d=b("recoil-oss/core/Recoil_RecoilRoot").RecoilRoot;f=b("recoil-oss/core/Recoil_RecoilRoot").useRecoilStoreID;var i=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,j=b("recoil-oss/core/Recoil_RetentionZone").retentionZone,k=b("recoil-oss/core/Recoil_Snapshot").freshSnapshot,l=(g=b("recoil-oss/hooks/Recoil_Hooks")).useRecoilState,m=g.useRecoilState_TRANSITION_SUPPORT_UNSTABLE,n=g.useRecoilStateLoadable,o=g.useRecoilValue,p=g.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,q=g.useRecoilValueLoadable,r=g.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,s=g.useResetRecoilState;g=g.useSetRecoilState;var t=b("recoil-oss/hooks/Recoil_SnapshotHooks").useGotoRecoilSnapshot,u=b("recoil-oss/hooks/Recoil_SnapshotHooks").useRecoilSnapshot,v=b("recoil-oss/hooks/Recoil_SnapshotHooks").useRecoilTransactionObserver,w=b("recoil-oss/hooks/Recoil_useRecoilCallback").useRecoilCallback,x=(h=b("recoil-oss/recoil_values/Recoil_WaitFor")).noWait,y=h.waitForAll,z=h.waitForAllSettled,A=h.waitForAny;h=h.waitForNone;e.exports={DefaultValue:c,isRecoilValue:i,RecoilLoadable:a,RecoilEnv:b("recoil-shared/util/Recoil_RecoilEnv"),RecoilRoot:d,useRecoilStoreID:f,useRecoilBridgeAcrossReactRoots_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots"),atom:b("recoil-oss/recoil_values/Recoil_atom"),selector:b("recoil-oss/recoil_values/Recoil_selector"),atomFamily:b("recoil-oss/recoil_values/Recoil_atomFamily"),selectorFamily:b("recoil-oss/recoil_values/Recoil_selectorFamily"),constSelector:b("recoil-oss/recoil_values/Recoil_constSelector"),errorSelector:b("recoil-oss/recoil_values/Recoil_errorSelector"),readOnlySelector:b("recoil-oss/recoil_values/Recoil_readOnlySelector"),noWait:x,waitForNone:h,waitForAny:A,waitForAll:y,waitForAllSettled:z,useRecoilValue:o,useRecoilValueLoadable:q,useRecoilState:l,useRecoilStateLoadable:n,useSetRecoilState:g,useResetRecoilState:s,useGetRecoilValueInfo_UNSTABLE:b("recoil-oss/hooks/Recoil_useGetRecoilValueInfo"),useRecoilRefresher_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilRefresher"),useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:r,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:p,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:m,useRecoilCallback:w,useRecoilTransaction_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilTransaction"),useGotoRecoilSnapshot:t,useRecoilSnapshot:u,useRecoilTransactionObserver_UNSTABLE:v,snapshot_UNSTABLE:k,useRetain:b("recoil-oss/hooks/Recoil_useRetain"),retentionZone:j}}),null);
__d("Recoil",["recoil-oss"],(function(a,b,c,d,e,f,g){"use strict";g.DefaultValue=(a=d("recoil-oss")).DefaultValue;g.RecoilEnv=a.RecoilEnv;g.RecoilLoadable=a.RecoilLoadable;g.RecoilRoot=a.RecoilRoot;g.atom=a.atom;g.atomFamily=a.atomFamily;g.constSelector=a.constSelector;g.errorSelector=a.errorSelector;g.isRecoilValue=a.isRecoilValue;g.noWait=a.noWait;g.readOnlySelector=a.readOnlySelector;g.retentionZone=a.retentionZone;g.selector=a.selector;g.selectorFamily=a.selectorFamily;g.snapshot_UNSTABLE=a.snapshot_UNSTABLE;g.useGetRecoilValueInfo_UNSTABLE=a.useGetRecoilValueInfo_UNSTABLE;g.useGotoRecoilSnapshot=a.useGotoRecoilSnapshot;g.useRecoilBridgeAcrossReactRoots_UNSTABLE=a.useRecoilBridgeAcrossReactRoots_UNSTABLE;g.useRecoilCallback=a.useRecoilCallback;g.useRecoilRefresher_UNSTABLE=a.useRecoilRefresher_UNSTABLE;g.useRecoilSnapshot=a.useRecoilSnapshot;g.useRecoilState=a.useRecoilState;g.useRecoilState_TRANSITION_SUPPORT_UNSTABLE=a.useRecoilState_TRANSITION_SUPPORT_UNSTABLE;g.useRecoilStateLoadable=a.useRecoilStateLoadable;g.useRecoilStoreID=a.useRecoilStoreID;g.useRecoilTransaction_UNSTABLE=a.useRecoilTransaction_UNSTABLE;g.useRecoilTransactionObserver_UNSTABLE=a.useRecoilTransactionObserver_UNSTABLE;g.useRecoilValue=a.useRecoilValue;g.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE=a.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE;g.useRecoilValueLoadable=a.useRecoilValueLoadable;g.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE=a.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE;g.useResetRecoilState=a.useResetRecoilState;g.useRetain=a.useRetain;g.useSetRecoilState=a.useSetRecoilState;g.waitForAll=a.waitForAll;g.waitForAllSettled=a.waitForAllSettled;g.waitForAny=a.waitForAny;g.waitForNone=a.waitForNone}),98);
__d("ZenonPluginErrorState",["EventEmitter","Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({dangerouslyAllowMutability:!0,get:function(){return new(c("EventEmitter"))()},key:"ZenonPluginErrorState_events"});b=d("Recoil").atomFamily({"default":!1,key:"ZenonPluginErrorState_statuses"});g.events=a;g.statuses=b}),98);
__d("ZenonIdentityStoreInterface",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({RANDOM:0,USE_PERSISTENT_IDENTITY_KEYS:1,USE_PERSISTENT_IDENTITY_KEYS_AND_VALIDATE:2});f.ZenonIdentityKeyMode=a}),66);
__d("ZenonAlwaysTrustIdentityStore",["Promise","WASignalKeys","ZenonIdentityStoreInterface"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){function a(a){this.$1=a,this.$2=d("WASignalKeys").makeSerializedKeyPair()}var c=a.prototype;c.getLocalUserId=function(){return this.$1};c.getLocalPublicPrivateIdentityKey=function(){return(h||(h=b("Promise"))).resolve(this.$2)};c.getShortDescription=function(){return"Always trust"};c.getRemotePublicIdentityKey=function(a,c){return(h||(h=b("Promise"))).resolve(d("WASignalKeys").serializeIdentity(new Uint8Array(32)))};c.saveRemotePublicIdentityKey=function(a,c,d){return(h||(h=b("Promise"))).resolve(0)};c.getLocalDeviceId=function(){return(h||(h=b("Promise"))).resolve(0)};c.getLocalIdentityKeyMode=function(){return d("ZenonIdentityStoreInterface").ZenonIdentityKeyMode.RANDOM};return a}();function a(a){return(h||(h=b("Promise"))).resolve(new i(a))}g.createNewAlwaysTrustIdentityStore=a}),98);
__d("ZenonDtlsAuthenticationManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=this.$1.createDtlsAuthenticationManager()}var b=a.prototype;b.generateDtlsAuthenticationInfo=function(a){a=a.getUniqueDtlsFingerprints();if(a==null||a.length===0){this.$3=24;return}else if(a.length>1){this.$3=21;return}this.$3=null;return this.$1.generateDtlsAuthenticationInfo(this.$2,a[0])};b.verifyDtlsAuthenticationInfo=function(a,b){var c=a.getUniqueDtlsFingerprints();a=a.getDtlsAuthenticationInfo();if(c==null||c.length===0){this.$4=24;return!1}else if(c.length>1){this.$4=21;return!1}else if(a==null){this.$4=23;return!1}this.$4=null;return this.$1.verifyDtlsAuthenticationInfo(this.$2,c[0],(c=b)!=null?c:"",a)};b.getP2pE2eeMetrics=function(){var a=this.$1.getP2pE2eeMetrics(this.$2);this.$3!=null&&(a.gen_dtls_auth_info_status=this.$3.toString());this.$4!=null&&(a.verify_dtls_auth_info_status=this.$4.toString());return a};b.freeWasmMemory=function(){this.$1.freeDtlsAuthenticationManager(this.$2)};return a}();f["default"]=a}),66);
__d("ZenonE2EEQPLLogProcessor",["Promise","QuickPerformanceLogger","SecureFrameErrors","ZenonArmadilloLoggingChecks","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a){var b=a.data;a=a.isE2eeMandated;this.$1=b.localCallID;this.$2=b.serverInfoData;this.$3=b.signalingID;this.$4=a}var d=a.prototype;d.processEvent=function(a){this.$5(a);this.$6(a);return(i||(i=b("Promise"))).resolve()};d.$5=function(a){var b=c("qpl")._(398984447,"2003");switch(a.name){case"e2eeInitWasmStart":(h||(h=c("QuickPerformanceLogger"))).markerStart(b,+this.$3);(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},{instanceKey:+this.$3});break;case"e2eeInitWasmFetchStart":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"fetch_start",{instanceKey:+this.$3});break;case"e2eeInitWasmFetchEnd":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"fetch_end",{instanceKey:+this.$3});break;case"e2eeInitWasmEnd":a.error==null?(h||(h=c("QuickPerformanceLogger"))).markerEnd(b,2,+this.$3):((h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{string:{error:a.error}},{instanceKey:+this.$3}),h.markerEnd(b,3,+this.$3));break}};d.$6=function(a){var b=c("qpl")._(398995489,"2004");switch(a.name){case"e2eeNegotiationComplete":(h||(h=c("QuickPerformanceLogger"))).markerStart(b,+this.$3);(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},{instanceKey:+this.$3});break;case"e2eeInitWasmStart":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"init_wasm_start",{instanceKey:+this.$3});break;case"e2eeInitWasmEnd":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"init_wasm_end",{instanceKey:+this.$3});break;case"mediaConnected":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"media_connected",{instanceKey:+this.$3});break;case"atLeastOneParticipantAnswered":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"at_least_one_participant_answered",{instanceKey:+this.$3});break;case"e2eeFirstFrameDecryptStart":(h||(h=c("QuickPerformanceLogger"))).markerPoint(b,"decrypt_start",{instanceKey:+this.$3});break;case"e2eeFirstFrameDecryptEnd":if(a.errorCode===0)(h||(h=c("QuickPerformanceLogger"))).markerEnd(b,2,+this.$3);else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{string:{error:(a=c("SecureFrameErrors").get(a.errorCode))!=null?a:"Undefined"}},{instanceKey:+this.$3});h.markerEnd(b,3,+this.$3)}}};return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloQPLLoggingEnabled()}};g.ZenonE2EEQPLLogProcessor=a;g.ZenonE2EEQPLLogProcessorConfig=e}),98);
__d("ZenonE2eeStatsPoller",["E2eeMetricsSerializers","WebAssemblyMemorySingleton","asyncToGeneratorRuntime","clearInterval","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;a=function(){function a(a,b,c){this.$1={group_e2ee_metrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),p2p_e2ee_metrics:d("E2eeMetricsSerializers").P2pE2eeMetrics$DefaultConstructor(),track_specific_e2ee_stats:new Map(),wasm_metrics:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},this.$2=null,this.$4=a,this.$5=b,this.$3=c}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;this.$1.wasm_metrics=d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics();a=(a=this.$5)==null?void 0:a.getP2pE2eeMetrics();a!=null&&(this.$1.p2p_e2ee_metrics=a);a=(yield (a=this.$4)==null?void 0:a.logStats());a!=null&&(this.$1.group_e2ee_metrics=a.group_e2ee_metrics,this.$1.track_specific_e2ee_stats=a.track_specific_e2ee_stats);this.$3(this.$1)});function c(){return a.apply(this,arguments)}return c}();e.startStatsPoll=function(){var a=this;if(this.$2!=null)return;this.$2=c("setInterval")(function(){return a.$6()},h)};e.$7=function(){c("clearInterval")(this.$2),this.$2=null};e.freeWasmMemory=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$7(),yield this.$6()});function c(){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("ZenonEncryptionKeysManager",["WebAssemblyMemorySingleton","ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonDataUtils","ZenonEncryptionKeysManagerState","ZenonInfraActionsLogger","ZenonSDP","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b.prototype;a.logStats=function(){this.$8.e2eeStats.group_e2ee_metrics=this.$3.getGroupE2eeMetrics(this.$4);this.$8.e2eeStats.track_specific_e2ee_stats=this.$2.getTrackStats();this.$8.e2eeStats.wasm_metrics=d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics();return this.$8.e2eeStats};function b(b,a,c,e,g,h){this.$7=[],this.$8=d("ZenonEncryptionKeysManagerState").ZenonEncryptionKeysManagerState$DefaultConstructor(),this.$1=b,this.$3=a,this.$4=c,this.$5=e,this.$6=g,this.$2=h}a.getFrameEncryptionWasmModule=function(){return this.$3};a.onLocalSdpSet=function(a){try{var b;a=this.$10(a);(b=this.$3)==null?void 0:b.setLocalE2eeId(this.$4,a)}catch(a){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to set local sdp: "+a,errorDomain:"ZenonEncryptionKeysManager_onLocalSdpSet"}),this.$6("Fail to get cname from local sdp")}};a.getSerializedE2eeClientState=function(){var a=this.$3.getSerializedE2eeClientState(this.$4);if(a.errorCode!==0)throw c("err")("Failed to get client state!");return a.dataBuffer};a.freeWasmMemory=function(){this.$11(),this.$3.freeEncryptionKeysManager(this.$4)};a.processE2eeMessage=function(a){a=this.$3.processE2eeMessage(this.$4,d("ZenonDataUtils").stringToUint8Array(a.message));c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] processed e2eeMessage with status code: "+a.statusCode})};a.processE2eeServerState=function(a){var b=this,d=null;try{d=this.$3.processE2eeServerUpdate(this.$4,a)}catch(a){if(this.$1){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] Error thrown during e2ee negotiation",error:a.message,errorDomain:"ZenonEncryptionKeysManager"});this.$6("Error processing server update, E2EE cannot be turned off in E2EE-Mandated Mode.");return}}if(d==null)throw c("unrecoverableViolation")("Unable to parse e2ee server update.","rtc_www");this.$8.e2eeNegotiationState=d.errorCode;a=((a=d)==null?void 0:a.errorCode)===0?"ON":"OFF";c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] processed server update with status code: "+d.errorCode+", E2EE is negotiated "+a+"."});if(d.errorCode===0){this.$2.setEncryptionDisabled(!1);this.$2.setDecryptionDisabled(!1);window.clearTimeout(this.$9);this.$12(d.keyIndex,d.keyUpdateDelayInMS);return}if(this.$1){this.$6("Error processing server update, E2EE cannot be turned off in E2EE-Mandated Mode.");return}this.$2.setEncryptionDisabled(!0);this.$2.allowUnencryptedFramesOnDecryptors();this.$9!=null&&window.clearTimeout(this.$9);this.$9=window.setTimeout(function(){b.$2.setDecryptionDisabled(!0)},d.removeFrameDecryptorDelayMs);this.$11()};a.onMediaDataChannelReady=function(){this.$3.onMediaDataChannelReady(this.$4)};a.getState=function(){this.$8.identityStoreDescription=this.$5.getShortDescription();this.$8.e2eeStats.track_specific_e2ee_stats=this.$2.getTrackStats();return this.$8};a.terminateCallIfE2EEMandated=function(a){this.$1&&this.$6(a)};a.$10=function(a){a=a.toDesc();var b=a.sdp;a=a.type;b=new(d("ZenonSDP").ZenonLocalSDP)({sdp:b,type:a}).getMediaCname();if(b.length===0)throw c("err")("Failed to get cname from local SDP!");return d("ZenonActorHooks").ZenonActor.getID()+":"+b};a.$12=function(a,b){var c=this;if(a==="0"||b<0)return;b=window.setTimeout(function(){c.$3.updateSenderKeyIndex(c.$4,a)},b);this.$7.push(b)};a.$11=function(){this.$7.forEach(function(a){window.clearTimeout(a)}),this.$7=[]};return b}();g["default"]=a}),98);
__d("ZenonEncryptionKeysWorkerManager",["WebAssemblyMemorySingleton","ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonDataUtils","ZenonE2eeWasmWorkerClient","ZenonEncryptionKeysManagerState","ZenonInfraActionsLogger","ZenonSDP","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=e.prototype;a.logStats=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$4.e2eeStats.group_e2ee_metrics=(yield c("ZenonE2eeWasmWorkerClient").getGroupE2eeMetrics());this.$4.e2eeStats.track_specific_e2ee_stats=(yield c("ZenonE2eeWasmWorkerClient").getTrackStats());this.$4.identityStoreDescription=(yield c("ZenonE2eeWasmWorkerClient").getIdentityStoreShortDescription());this.$4.e2eeStats.wasm_metrics=d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics();return this.$4.e2eeStats});function e(){return a.apply(this,arguments)}return e}();function e(a,b){this.$3=[],this.$4=d("ZenonEncryptionKeysManagerState").ZenonEncryptionKeysManagerState$DefaultConstructor(),this.$1=a,this.$2=b}a.onLocalSdpSet=function(a){try{a=this.$6(a);void c("ZenonE2eeWasmWorkerClient").setLocalE2eeId(a)}catch(a){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to set local sdp: "+a,errorDomain:"ZenonEncryptionKeysManager_onLocalSdpSet"}),this.$2("Fail to get caname from local sdp")}};a.getSerializedE2eeClientState=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonE2eeWasmWorkerClient").getSerializedE2eeClientState());if(a.errorCode!==0)throw c("err")("Failed to get client state!");return a.dataBuffer});function d(){return a.apply(this,arguments)}return d}();a.freeWasmMemory=function(){this.$7(),void c("ZenonE2eeWasmWorkerClient").freeEncryptionKeysManager()};a.processE2eeMessage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield c("ZenonE2eeWasmWorkerClient").processE2eeMessage(d("ZenonDataUtils").stringToUint8Array(a.message)));c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] processed e2eeMessage with status code: "+a.statusCode})});function e(b){return a.apply(this,arguments)}return e}();a.processE2eeServerState=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield c("ZenonE2eeWasmWorkerClient").processE2eeServerUpdate(a));this.$4.e2eeNegotiationState=a.errorCode;var b=a.errorCode===0?"ON":"OFF";c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] processed server update with status code: "+a.errorCode+", E2EE is negotiated "+b+"."});if(a.errorCode===0){yield c("ZenonE2eeWasmWorkerClient").setEncryptionDisabled(!1);yield c("ZenonE2eeWasmWorkerClient").setDecryptionDisabled(!1);window.clearTimeout(this.$5);this.$8(a.keyIndex,a.keyUpdateDelayInMS);return}if(this.$1){this.$2("Error processing server update, E2EE cannot be turned off in E2EE-Mandated Mode.");return}yield c("ZenonE2eeWasmWorkerClient").setEncryptionDisabled(!0);yield c("ZenonE2eeWasmWorkerClient").allowUnencryptedFramesOnDecryptors();this.$5!=null&&window.clearTimeout(this.$5);this.$5=window.setTimeout(function(){return c("ZenonE2eeWasmWorkerClient").setDecryptionDisabled(!0)},a.removeFrameDecryptorDelayMs);this.$7()});function d(b){return a.apply(this,arguments)}return d}();a.onMediaDataChannelReady=function(){void c("ZenonE2eeWasmWorkerClient").onMediaDataChannelReady()};a.getState=function(){return this.$4};a.terminateCallIfE2EEMandated=function(a){this.$1&&this.$2(a)};a.$6=function(a){a=a.toDesc();var b=a.sdp;a=a.type;b=new(d("ZenonSDP").ZenonLocalSDP)({sdp:b,type:a}).getMediaCname();if(b.length===0)throw c("err")("Failed to get cname from local SDP!");return d("ZenonActorHooks").ZenonActor.getID()+":"+b};a.$8=function(a,d){if(a==="0"||d<0)return;d=window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c("ZenonE2eeWasmWorkerClient").updateSenderKeyIndex(a)}),d);this.$3.push(d)};a.$7=function(){this.$3.forEach(function(a){window.clearTimeout(a)}),this.$3=[]};return e}();g["default"]=a}),98);
__d("ZenonMAWIdentityStore",["FBLogger","MAWGetLocalDeviceIdApi","MAWGetLocalPublicPrivateIdentityKeyApi","MAWGetRemotePublicIdentityKeyApi","MAWRemotePresenceTypes","Promise","WAGlobals","WAJids","WAResultOrError","ZenonIdentityStoreInterface","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){function a(a){this.$1=a}var e=a.prototype;e.getLocalUserId=function(){return this.$1};e.getShortDescription=function(){return"MAW"};e.getLocalPublicPrivateIdentityKey=function(){this.$2==null&&(this.$2=d("MAWGetLocalPublicPrivateIdentityKeyApi").getLocalPublicPrivateIdentityKey());return this.$2};e.getRemotePublicIdentityKey=function(a,b){b=d("WAJids").unsafeCoerceToDeviceId(b);return d("MAWGetRemotePublicIdentityKeyApi").getRemotePublicIdentityKey(b,a)};e.saveRemotePublicIdentityKey=function(a,e,f){try{return d("WAGlobals").getInMemorySignal().runInTransaction(function(b){b=b.saveIdentity;return b(d("WAJids").toDeviceJid(d("WAJids").toMsgrUserJid(a),e),f).then(function(){return d("WAResultOrError").makeResult()})}).then(function(a){return a.success?d("MAWRemotePresenceTypes").STATUS_CODES.OK:d("MAWRemotePresenceTypes").STATUS_CODES.BAD_REQUEST})}catch(a){c("FBLogger")("rtc_www").catching(c("getErrorSafe")(a)).mustfix("[Zenon] Fatal calling saveRemotePublicIdentityKey.");return(h||(h=b("Promise"))).resolve(d("MAWRemotePresenceTypes").STATUS_CODES.OK)}};e.getLocalDeviceId=function(){this.$3==null&&(this.$3=d("MAWGetLocalDeviceIdApi").getLocalDeviceId());return this.$3};e.getLocalIdentityKeyMode=function(){return d("ZenonIdentityStoreInterface").ZenonIdentityKeyMode.USE_PERSISTENT_IDENTITY_KEYS_AND_VALIDATE};return a}();function a(a){return(h||(h=b("Promise"))).resolve(new i(a))}g.createNewMAWIdentityStore=a}),98);
__d("ZenonIdentityStoreFactory",["ZenonAlwaysTrustIdentityStore","ZenonMAWIdentityStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return!a?d("ZenonAlwaysTrustIdentityStore").createNewAlwaysTrustIdentityStore(b):d("ZenonMAWIdentityStore").createNewMAWIdentityStore(b)}b={create:a};g.ZenonIdentityStoreFactory=b}),98);
__d("ZenonIdentityStoreInMemoryCache",["MAWJids","Promise","WAJids","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return d("WAJids").toDeviceJid(d("MAWJids").jidUtils.toUserJid(b),a)}var j=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=this.$1.getLocalUserId(),this.$4=c,this.$5=new Map()}var d=a.prototype;d.getLocalUserId=function(){return this.$3};d.getLocalPublicPrivateIdentityKey=function(){return this.$2};d.getLocalDeviceId=function(){return this.$4};d.cacheIdentityKeys=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=this,d=[],e=function(a){var b=a.deviceId,e=a.userId;if(c.getRemotePublicIdentityKey(e,b)!=null)return"continue";d.push(c.$1.getRemotePublicIdentityKey(e,b).then(function(a){c.$5.set(i(b,e),a)}))};for(a of a){var f=e(a);if(f==="continue")continue}yield (h||(h=b("Promise"))).all(d)});function c(b){return a.apply(this,arguments)}return c}();d.getRemotePublicIdentityKey=function(a,b){return this.$5.get(i(b,a))};d.saveRemotePublicIdentityKey=function(a,b,d){if(this.getRemotePublicIdentityKey(a,b)===d)return;c("promiseDone")(this.$1.saveRemotePublicIdentityKey(a,b,d));this.$5.set(i(b,a),d)};d.getShortDescription=function(){return this.$1.getShortDescription()};d.getLocalIdentityKeyMode=function(){return this.$1.getLocalIdentityKeyMode()};return a}();function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(b=b)!=null?b:yield a.getLocalPublicPrivateIdentityKey();c=(c=c)!=null?c:yield a.getLocalDeviceId();return new j(a,b,c)});return k.apply(this,arguments)}g.ZenonIdentityStoreInMemoryCache=j;g.createNewZenonIdentityStoreInMemoryCache=a}),98);
__d("ZenonSecureSctpManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c=this;this.$1=a;this.$3=new Map();this.$2=function(a){return c.$1.createSecureSctpManager(b,a)}}var b=a.prototype;b.registerSctpTopic=function(a,b,c){this.deregisterSctpTopic(a);var d=this.$2(c);this.$3.set(a,{forwardingCallback:c,shouldBeEncrypted:b,wasmPtr:d})};b.deregisterSctpTopic=function(a){var b=this.$3.get(a);b!=null&&(this.$1.freeSecureSctpManager(b.wasmPtr),this.$3["delete"](a))};b.encryptSctpMessage=function(a,b){a=this.$3.get(a);if(a==null)return null;return!a.shouldBeEncrypted?b:this.$1.encryptSctpMessage(a.wasmPtr,b)};b.onSctpMessage=function(a,b,c){a=this.$3.get(a);if(a==null)return;if(a.shouldBeEncrypted){this.$1.decryptSctpMessage(a.wasmPtr,b,c);return}a.forwardingCallback(b,c)};return a}();f["default"]=a}),66);
__d("ZenonSecureDataMessageManager",["ZenonDataUtils","ZenonSecureSctpManager","ZenonSignalingConstants","ZenonSignalingMessage","ZenonSignalingProtocol","ZenonStateSyncPayloadSerializer"],(function(a,b,c,d,e,f,g){"use strict";var h="e2ee_v2_msg",i=new Set(["E2eeState","E2eeKey",(a=d("ZenonSignalingConstants")).E2EE_DATA_MESSAGE_MEDIA_CHANNEL_TOPIC,"config_engine",a.SCTP_FAILOVER_TOPIC,a.SIMULCAST_TOPIC,"coplay",a.SCTP_SIGNALING_TOPIC,a.SCTP_MEDIA_SUBSCRIPTIONS]);b=function(){function a(b,a,d,e,g){this.$1=b,this.$2=a,this.$4=g,this.$5=new(c("ZenonSecureSctpManager"))(this.$2,d),this.$3=this.$6(d,e)}var b=a.prototype;b.topicShouldBeEncrypted=function(a){return this.$1&&!i.has(a)};b.$6=function(a,b){var e=this,f=function(){window.setTimeout(b,0)},g=function(a,b,f,g){window.setTimeout(function(){var h={data:d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(btoa(f)),eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:b,version:g};e.$4(h,a,c("ZenonSignalingProtocol").MWPP)},0)};return this.$2.createSecureDataMessageManager(a,g,f)};b.isSignalingDataRequest=function(a){return a==="stateSyncUpdateRequest"||a==="genericDataMessageRequest"};b.needsEncryption=function(a){return this.isSignalingDataRequest(a.eventName)&&this.topicShouldBeEncrypted((a=a.topic)!=null?a:"")};b.createEncryptedStateSyncUpdateRequest=function(a,b){return{data:d("ZenonDataUtils").stringToUint8Array(a.encryptedData),eventName:"stateSyncUpdateRequest",topic:a.encryptedTopic,version:b}};b.encryptStateSyncRequest=function(a){var b=a.data?d("ZenonDataUtils").uint8ArrayToString(a.data):"";if(a.topic===h)return this.$2.encryptStateSyncSnapshot(this.$3,a.topic,b);else return this.$2.encryptStateSyncUpdate(this.$3,a.topic,b)};b.processSignalingMessage=function(a){var b=this,d=a.getEvents(),e=[];d.forEach(function(a){if(!b.needsEncryption(a))e.push(a);else if(a.eventName==="stateSyncUpdateRequest"){var c=b.encryptStateSyncRequest(a);if(!c.encryptionSuccess)return;c=b.createEncryptedStateSyncUpdateRequest(c,a.version);e.push(c)}});return new(c("ZenonSignalingMessage"))(a.getHeader(),e)};b.receive=function(a){var b=this,c=a.getHeader(),d=c.messageID,e=c.protocol;c=a.getEvents();c.forEach(function(a){a.eventName==="stateSyncNotifyRequest"&&a.topic===h?b.$2.decryptStateSyncUpdate(b.$3,a,d):b.$4(a,d,e)})};b.registerSctpTopic=function(a,b){this.$5.registerSctpTopic(a,this.topicShouldBeEncrypted(a),b)};b.deregisterSctpTopic=function(a){this.$5.deregisterSctpTopic(a)};b.encryptSctpMessage=function(a,b){return this.$5.encryptSctpMessage(a,b)};b.onSctpMessage=function(a,b,c){this.$5.onSctpMessage(a,b,c)};return a}();g["default"]=b}),98);
__d("ZenonSecureSctpWorkerManager",["ZenonE2eeWasmWorkerClient","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$2=new Map(),this.$1=function(a){return c("ZenonE2eeWasmWorkerClient").createSecureSctpManager(a)}}var d=a.prototype;d.registerSctpTopic=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){this.deregisterSctpTopic(a);if(!this.$1)return;var d=(yield this.$1(c));this.$2.set(a,{forwardingCallback:c,shouldBeEncrypted:b,wasmPtr:d})});function c(b,c,d){return a.apply(this,arguments)}return c}();d.deregisterSctpTopic=function(a){var b=this.$2.get(a);b!=null&&(void c("ZenonE2eeWasmWorkerClient").freeSecureSctpManager(b.wasmPtr),this.$2["delete"](a))};d.encryptSctpMessage=function(a,b){a=this.$2.get(a);if(a==null)return null;return!a.shouldBeEncrypted?b:b};d.onSctpMessage=function(a,b,d){a=this.$2.get(a);if(a==null)return;if(a.shouldBeEncrypted){void c("ZenonE2eeWasmWorkerClient").decryptSctpMessage(a.wasmPtr,b,d);return}a.forwardingCallback(b,d)};return a}();g["default"]=a}),98);
__d("ZenonSecureDataMessageWorkerManager",["ZenonDataUtils","ZenonE2eeWasmWorkerClient","ZenonSecureSctpWorkerManager","ZenonSignalingConstants","ZenonSignalingMessage","ZenonSignalingProtocol","ZenonStateSyncPayloadSerializer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="e2ee_v2_msg",i=new Set(["E2eeState","E2eeKey",d("ZenonSignalingConstants").E2EE_DATA_MESSAGE_MEDIA_CHANNEL_TOPIC,"config_engine",d("ZenonSignalingConstants").SCTP_FAILOVER_TOPIC,d("ZenonSignalingConstants").SIMULCAST_TOPIC,"coplay"]);a=function(){function a(a,b){this.$1=a,this.$3=b,this.$4=new(c("ZenonSecureSctpWorkerManager"))()}var e=a.prototype;e.topicShouldBeEncrypted=function(a){return this.$1&&!i.has(a)};e.initializeStateSyncManager=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,e=function(){window.setTimeout(a,0)},f=function(a,e,f,g){window.setTimeout(function(){var h={data:d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(btoa(f)),eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:e,version:g};b.$3(h,a,c("ZenonSignalingProtocol").MWPP)},0)};this.$2=(yield c("ZenonE2eeWasmWorkerClient").createSecureDataMessageManager(f,e))});function e(b){return a.apply(this,arguments)}return e}();e.isSignalingDataRequest=function(a){return a==="stateSyncUpdateRequest"||a==="genericDataMessageRequest"};e.needsEncryption=function(a){return this.isSignalingDataRequest(a.eventName)&&this.topicShouldBeEncrypted((a=a.topic)!=null?a:"")};e.createEncryptedStateSyncUpdateRequest=function(a,b){return{data:d("ZenonDataUtils").stringToUint8Array(a.encryptedData),eventName:"stateSyncUpdateRequest",topic:a.encryptedTopic,version:b}};e.encryptStateSyncRequest=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data?d("ZenonDataUtils").uint8ArrayToString(a.data):"",e=null;this.$2&&(a.topic===h?e=(yield c("ZenonE2eeWasmWorkerClient").encryptStateSyncSnapshot(this.$2,a.topic,b)):e=(yield c("ZenonE2eeWasmWorkerClient").encryptStateSyncUpdate(this.$2,a.topic,b)));return e});function e(b){return a.apply(this,arguments)}return e}();e.processSignalingMessage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.getEvents(),d=[];for(b of b)if(!this.needsEncryption(b))d.push(b);else if(b.eventName==="stateSyncUpdateRequest"){var e=(yield this.encryptStateSyncRequest(b));if(!e||!e.encryptionSuccess)continue;e=this.createEncryptedStateSyncUpdateRequest(e,b.version);d.push(e)}return new(c("ZenonSignalingMessage"))(a.getHeader(),d)});function d(b){return a.apply(this,arguments)}return d}();e.receive=function(a){var b=this,d=a.getHeader(),e=d.messageID,f=d.protocol;d=a.getEvents();d.forEach(function(a){a.eventName==="stateSyncNotifyRequest"&&a.topic===h?b.$2&&void c("ZenonE2eeWasmWorkerClient").decryptStateSyncUpdate(b.$2,a,e):b.$3(a,e,f)})};e.registerSctpTopic=function(a,b){void this.$4.registerSctpTopic(a,this.topicShouldBeEncrypted(a),b)};e.deregisterSctpTopic=function(a){this.$4.deregisterSctpTopic(a)};e.encryptSctpMessage=function(a,b){return this.$4.encryptSctpMessage(a,b)};e.onSctpMessage=function(a,b,c){this.$4.onSctpMessage(a,b,c)};return a}();g["default"]=a}),98);
__d("FrameDataHandlerTypeTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Generic:0,H265:2,H264:3});e.exports={FrameDataHandlerType:a}}),null);
__d("ZenonSecureFrameManager",["FrameDataHandlerTypeTypes","SecureFrameErrors","ZenonEncryptionKeysManagerState","err","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h;a={error_count_decrypted:0,error_count_encrypted:0,frames_decrypted:0,frames_encrypted:0};b=256;var i={debug_only_stats:a,decrypt_frames_dropped:0,encrypt_frames_dropped:0,total_decrypt_time:0,total_encrypt_time:0};e=function(){function a(b){var c=b.encryptionKeysManager,e=b.isE2eeMandated,g=b.logCallBack,a=b.module,h=b.onZenonLogEvent;b=b.terminateCallFn;this.$5=new Map();this.$6=new Map();this.$7=!1;this.$8=!1;this.$10=d("ZenonEncryptionKeysManagerState").ZenonEncryptionKeysManagerState$DefaultConstructor();this.$11=new Map();this.$12=!1;this.$13=!1;this.$1=e;this.$2=a;this.$3=c;this.$14=h;this.$4=b;this.$9=g}var b=a.prototype;b.setFrameDataHandlerTypesOnDecryptor=function(a,b){var c=this;a=this.$15(a);if(!a)return;if(a.mediaType.includes("audio"))return;var d=[];b.forEach(function(a){d.push(c.$16(a))});this.$17(a.decryptor,d)};b.setFrameDataHandlerOnEncryptor=function(a,b){a=this.getEncryptorForId(a);a!=null&&!a.mediaType.includes("audio")&&(a.frameDataHandlerType=this.$16(b))};b.$16=function(a){return a.includes("H264")?d("FrameDataHandlerTypeTypes").FrameDataHandlerType.H264:d("FrameDataHandlerTypeTypes").FrameDataHandlerType.Generic};b.encrypt=function(a,b){var d;if(b.data.byteLength===0)return b.data;if(!this.$1&&this.$7)return b.data;var e=this.getEncryptorForId(a);if(e==null){this.$9("wasm_encrypt_encryptor_not_found");return this.$1?new ArrayBuffer(0):b.data}d=(d=this.$11.get(a))!=null?d:a;a=this.$10.e2eeStats.track_specific_e2ee_stats.get(d);if(a==null)throw c("err")("Encrypt: e2eeStats not found for the given id");d=e.frameDataHandlerType;if(d==null){a.encrypt_frames_dropped++;return new ArrayBuffer(0)}var f=(h||(h=c("performanceNow")))();e=this.$2.encrypt(b,e.encryptor,d);d=h()-f;a.total_encrypt_time+=d;if(e.errorCode!==0){d=(f=c("SecureFrameErrors").get(e.errorCode))!=null?f:"Undefined";this.$9("wasm_encryption_"+d.toLowerCase());a.debug_only_stats.error_count_encrypted++;if(this.$1){a.encrypt_frames_dropped++;return new ArrayBuffer(0)}else return b.data}else{a.debug_only_stats.frames_encrypted++;return e.outputBuffer}};b.decrypt=function(a,b){this.$12||(this.$14({name:"e2eeFirstFrameDecryptStart"}),this.$12=!0);if(b.data.byteLength===0)return{data:b.data,hasError:!1};if(this.$8)return{data:b.data,hasError:!1};var d=this.$15(a);if(d==null){this.$9("wasm_decrypt_decryptor_not_found");return{data:b.data,hasError:!1}}a=this.$10.e2eeStats.track_specific_e2ee_stats.get(a);if(a==null)throw c("err")("Decrypt: e2eeStats not found for the given id");var e=(h||(h=c("performanceNow")))();b=this.$2.decrypt(b,d.decryptor);d=h()-e;a.total_decrypt_time+=d;this.$13||(this.$14({errorCode:b.errorCode,name:"e2eeFirstFrameDecryptEnd"}),this.$13=!0);if(b.errorCode!==0){d=(e=c("SecureFrameErrors").get(b.errorCode))!=null?e:"Undefined";this.$9("wasm_decryption_"+d.toLowerCase());a.debug_only_stats.error_count_decrypted++;a.decrypt_frames_dropped++;return{data:new ArrayBuffer(0),hasError:!0}}else{a.debug_only_stats.frames_decrypted++;return{data:b.outputBuffer,hasError:!1}}};b.createEncryptorWithId=function(a,b){if(this.$18(a))return;var c=this.$2.createFrameEncryptor(this.$3);c={encryptor:c,mediaType:b,trackId:a};b.includes("audio")&&(c.frameDataHandlerType=d("FrameDataHandlerTypeTypes").FrameDataHandlerType.Generic);this.$5.set(a,c);this.$10.e2eeStats.track_specific_e2ee_stats.has(a)||this.$10.e2eeStats.track_specific_e2ee_stats.set(a,i)};b.createDecryptorWithId=function(a,b,c){if(this.$19(a,b)!=null)return;var d=this.$15(a),e=this.$2.createFrameDecryptor(this.$3,b);this.$20(e,c);this.$7&&this.$2.allowUnencryptedFrames(e);this.$6.set(a,{decryptor:e,e2eeId:b,mediaType:c,trackId:a});d!=null&&this.$21(d.decryptor);this.$10.e2eeStats.track_specific_e2ee_stats.has(a)||this.$10.e2eeStats.track_specific_e2ee_stats.set(a,i)};b.$18=function(a){return this.$5.has(a)};b.getEncryptorForId=function(a){return this.$5.get(a)};b.$15=function(a){return this.$6.get(a)};b.$19=function(a,b){a=this.$15(a);if(a!=null&&a.e2eeId===b)return a};b.freeAllEncryptorsAndDecryptors=function(){var a=this;this.$5.forEach(function(b){a.$22(b.encryptor)});this.$5.clear();this.$6.forEach(function(b){a.$21(b.decryptor)});this.$6.clear()};b.freeEncryptorAndDecryptorForId=function(a){var b=this.getEncryptorForId(a),c=this.$15(a);b!=null&&(this.$22(b.encryptor),this.$5["delete"](a));c!=null&&(this.$21(c.decryptor),this.$6["delete"](a))};b.terminateCallIfE2EEMandated=function(a){this.$1&&this.$4(a)};b.getTrackStats=function(){return this.$10.e2eeStats.track_specific_e2ee_stats};b.updateLocalTrackIdForStats=function(a,b){var c,d=this.$10.e2eeStats.track_specific_e2ee_stats;c=(c=this.$11.get(a))!=null?c:a;this.$11.set(a,b);a=d.get(c);a&&(d.set(b,a),d["delete"](c))};b.allowUnencryptedFramesOnDecryptors=function(){var a=this;this.$6.forEach(function(b){a.$2.allowUnencryptedFrames(b.decryptor)})};b.setDecryptionDisabled=function(a){this.$8=a};b.setEncryptionDisabled=function(a){this.$7=a};b.$21=function(a){this.$2.freeDecryptor(a)};b.$22=function(a){this.$2.freeEncryptor(a)};b.$17=function(a,b){this.$2.setSupportedFrameDataHandlerTypes(a,b)};b.$20=function(a,b){b=b.includes("audio")?[d("FrameDataHandlerTypeTypes").FrameDataHandlerType.Generic]:[d("FrameDataHandlerTypeTypes").FrameDataHandlerType.Generic,d("FrameDataHandlerTypeTypes").FrameDataHandlerType.H264];this.$17(a,b)};return a}();g.MAX_ALLOWED_BYTES_FOR_WASM_LOG=b;g.EMPTY_E2EE_STATS_PER_TRACK=i;g.ZenonSecureFrameManager=e}),98);
__d("ZenonE2eeCore",["CompactSerializer","E2eeStateSerializers","FrameEncryptionWasm","MAWRemotePresenceSetup","ODS","Promise","ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonDataUtils","ZenonDtlsAuthenticationManager","ZenonE2EEQPLLogProcessor","ZenonE2eeStatsPoller","ZenonE2eeWasmWorkerClient","ZenonEncryptionKeysManager","ZenonEncryptionKeysWorkerManager","ZenonIdentityStoreFactory","ZenonIdentityStoreInMemoryCache","ZenonInfraActionsLogger","ZenonSecureDataMessageManager","ZenonSecureDataMessageWorkerManager","ZenonSecureFrameManager","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="E2eeKey",k=256,l,m,n,o,p,q,r=!1,s=null,t=function(){},u;function v(a){var b=new RegExp("^[0-9]+$");a=a.split(":")[0];return b.test(a)?a:null}function w(a){a=d("CompactSerializer").deserialize(a,d("E2eeStateSerializers").deserializeE2eeServerState);var b=[];for(var c in a.endpointInfos){var e=a.endpointInfos[c].deviceId,f=v(c);if(f==null)continue;b.push({deviceId:e,userId:f})}return b}function x(){m=null,p=null,q=null,o=null,n=null,t=function(){},u=function(a){return(i||(i=b("Promise"))).resolve()}}var y=function(){function a(){}var e=a.prototype;e.createE2eeComponents=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,s){s===void 0&&(s=!1);x();b.addLogProcessor(d("ZenonE2EEQPLLogProcessor").ZenonE2EEQPLLogProcessorConfig);var v=function(a){b.log({e2eeStats:a,name:"updateE2EEStats"})},w=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZSFM][E2EE] sending e2ee message containing "+b.length+" bytes to "+a}),void e.sendGenericDataMessage(j,d("ZenonDataUtils").uint8ArrayToString(b),[a],[])},y=function(a,b,c){e.processReceiveEvent(a,b,c)},z=function(){a&&void e.sendStateSyncUpdate("e2ee_v2_msg",null)},A=function(a,b){a=a.substring(0,k);b==="ERROR"?c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:a,errorDomain:"FrameEncryptionWasm"}):c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__WASM,checkpoint:"[FrameEncryptionWasm] [E2EE] ["+b+"] "+a})};c("ZenonInfraActionsLogger").startTimer("[E2ee] Create Identity Store");var B;try{B=(yield d("ZenonIdentityStoreFactory").ZenonIdentityStoreFactory.create(a,d("ZenonActorHooks").ZenonActor.getID())),c("ZenonInfraActionsLogger").stopTimer("[E2ee] Create Identity Store")}catch(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee","identity_store_initialization_error"),c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] Error initializing identity store: "+a})}if(a)try{yield d("MAWRemotePresenceSetup").setupArmadilloWebForRP()}catch(a){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] Error setting up Armadillo: "+a})}if(s){if(!B)return;s=(yield B.getLocalDeviceId());var C=(yield B.getLocalPublicPrivateIdentityKey());try{yield c("ZenonE2eeWasmWorkerClient").initializeE2ee(!1,d("ZenonActorHooks").ZenonActor.getID(),g,f,w,C,s,A)}catch(a){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] Error initializing E2EE worker: "+a});return}u=function(a){return c("ZenonE2eeWasmWorkerClient").cacheIdentityKeys(a)};m=new(c("ZenonEncryptionKeysWorkerManager"))(!1,g);n=new(c("ZenonSecureDataMessageWorkerManager"))(!1,y);yield n.initializeStateSyncManager(z);t=function(){void c("ZenonE2eeWasmWorkerClient").freePrivatelyHeldCallScopedResources()}}else{if(!B)return;var D=(yield d("ZenonIdentityStoreInMemoryCache").createNewZenonIdentityStoreInMemoryCache(B));l==null&&(l=c("FrameEncryptionWasm")({identityStoreInMemoryCache:D,isE2eeMandated:a,logCallbackFn:A,onE2eeModelUpdate:f,onZenonLogEvent:function(a){b.log(a)},terminateCallFn:g}));C=(yield l);s=C.createEncryptionKeysManager(d("ZenonActorHooks").ZenonActor.getID(),w,i);o=new(d("ZenonSecureFrameManager").ZenonSecureFrameManager)({encryptionKeysManager:s,isE2eeMandated:a,logCallBack:function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a)},module:C,onZenonLogEvent:function(a){b.log(a)},terminateCallFn:g});m=new(c("ZenonEncryptionKeysManager"))(a,C,s,D,g,o);n=new(c("ZenonSecureDataMessageManager"))(a,C,s,z,y);p=new(c("ZenonDtlsAuthenticationManager"))(C);t=C.freePrivatelyHeldCallScopedResources;u=function(a){return D.cacheIdentityKeys(a)}}q=new(c("ZenonE2eeStatsPoller"))(m,p,v);q.startStatsPoll();e.setSecureDataMessageManager(n);r=!0});function e(b,c,d,e,f,g,h){return a.apply(this,arguments)}return e}();e.getSecureFrameManager=function(){return o};e.getEncryptionKeysManager=function(){return m};e.getSecureDataMessageManager=function(){return n};e.isE2eeStackReady=function(){return r};e.getDtlsAuthenticationManager=function(){return p};e.freeCallScopedResources=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;r=!1;yield (a=q)==null?void 0:a.freeWasmMemory();yield (a=m)==null?void 0:a.freeWasmMemory();(a=p)==null?void 0:a.freeWasmMemory();t();x()});function c(){return a.apply(this,arguments)}return c}();e.cacheIdentityKeys=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield u(w(a))});function c(b){return a.apply(this,arguments)}return c}();return a}();function a(){s==null&&(s=new y());return s}e=a();g["default"]=e}),98);
__d("ZenonAppContextImpl",["Recoil","ZenonAppContextImplQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("ZenonAppContextImplQuery.graphql");a=d("Recoil").atom({"default":{joining_context:{},is_e2ee_mandated:!1},key:"ZenonAppContextImpl"});g["default"]=a}),98);
__d("ZenonAppIntegrationBoundaryName.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ARMADILLO_STATS_OVERLAY","AUDIENCE_EXPANSION","AUDIO_INDICATORS","AUDIO_STALL_RECOVERY","AUTO_MUTE_VIDEO_IF_DISABLED","AUTO_REJOIN","AV_ESCALATION_BANNER","BACKGROUND_BLUR","BREAKOUT_ROOMS","BUG_NUB","CALL_TRANSFER","CAN_YOU_SEE_MY_SCREEN","CLOSED_CAPTIONS","CLOSED_CAPTIONS_MENUITEM","COEXPERIENCE_ACTION_ITEMS","COLLABORATION_SPACE","COMPANION","COMPANION_VIEW","COPLAY","COUNTDOWN_TIMER","COVIEW","COWATCH","COWORKING_CONVERSATION_CONTEXT","DUAL_STREAM_SWAP","E2EE_NEW_DEVICE_NOTIFICATIONS","E2E_ENCRYPTION_MENUITEM","EMOJI_REACTIONS","END_CALL_QUICK_PROMOTION","END_CALL_UPSELL","END_CALL_VIEW","END_ROOM_ACTION","EXCEPTIONS_CRASH_THE_ENTIRE_APP","FRX_REPORT_TO_FACEBOOK_OR_GROUPADMIN_MENUITEM","GROUP_ESCALATION_BANNER","GROUP_EXPANSION","HALO_CALL_ADMINS","HALO_SCREEN_SHARING","HOTKEYS","HUDDLE_SPEAKER_EXPERIENCE","INCALL_CHAT","INCALL_FILES_AND_ASSETS","INCALL_HEADER","INCALL_LOBBY","INCALL_MORE_OPTIONS_POPOVER","INCALL_PARTICIPANT_NOTIFICATIONS","INCALL_PLACEHOLDER","INCALL_ROOM_NAME_VIEW","INCALL_ROUTER_TRANSITION","INTERN_ONE_ONE","JOIN_LEAVE_SOUND","JOIN_PERMISSION_NOTIFICATIONS","JOIN_REQUESTS","LOCK_ROOM_ACTION","LOCK_ROOM_NOTIFICATIONS","MEDIA_DEVICE_CHANGE","MEDIA_DEVICE_CHANGE_NOTIFICATIONS","MEDIA_LIBRARY","MEETING_ASSISTANT","MESSAGE_PARTICIPANT","MODERATOR_CONTROLS","MPL_FORCE_ENCODING","MPL_LAYOUT_SWITCH_MENUITEM","MPL_SIDE_PANEL","MUTE_CONTROL","MUTE_DETECTION","MUTE_STATUS_INDICATOR","MW_AV_ESCALATION","NOTIFICATION_LIST","NOTIFY_HOST","NO_MEDIA_DETECTOR","NUX","OPEN_FOR_EVERYONE","OPEN_IN_NEW_WINDOW","PARTICIPANT_ITEM","PICTURE_IN_PICTURE","POLLS","POOR_CONNECTION","POOR_NETWORK_INDICATOR","PRECALL_LOBBY","PRIVACY_DISCLAIMER","PRONUNCIATION","QNA","QUIZZES","RAISED_HAND_DETECTION","RAISE_HANDS","REMOTE_VIDEO_GRID_ITEM","REMOVE_PARTICIPANT","REPORT_MISSING_MEDIA","RINGBACK_TONE","ROBOTICS","ROOMS2LIVE","ROOMS_CHAT","ROOMS_NOTES","ROOM_CONNECT_EVENT_LOGGING","SCREENSHARING_MODERATION","SCREENSHARING_NOTIFICATIONS","SCREEN_SHARE_FLOOR_CONTROL","SELF_ACCESSIBILITY_HEADER","SELF_MUTE_INDICATOR","SELF_VIEW","SESSION_LIFECYCLE_LOGGING","SETTINGS_LAYOUT","SETTINGS_REPORTING","SEV_NOTIFICATION","SHAMAN_WARDEN","SHARED_CONTENT","SHARE_LINK_DIALOG_ACTION","SIDE_GARDEN","SINGLE_STEP_LOBBY","SNIPPETS","SPARK_AR","STAGES_ATTENDEE_LOGGING","START_CALL_VIEW","STATE_SYNC_RECOVERY","STATS_OVERLAY","TOGGLE_FULLSCREEN_MENUITEM","TOGGLE_LAYOUT_OVERLAY","TOGGLE_VIDEO_ONLY_MENUITEM","UNKNOWN","VIDEO_LAYOUT_SWITCH_MENUITEM","VIDEO_STALL_RECOVERY","VIEW_PARTICIPANT_PROFILE","VIRTUAL_BACKGROUNDS","WAKE_LOCK","WHITEBOARD","WHITEBOARD_MESSENGER","WORKROOMS_CANVAS","WORKROOMS_CLOSED_CAPTIONS","WORKROOMS_CLOSED_CAPTIONS_NOTIFICATION","WORKROOMS_IN_CALL_CALENDAR_STATE","WORKROOMS_PRISM_FLOAT_SELF_VIEW","WORKROOMS_PRISM_GRID_CONTROL","WORKROOMS_PRISM_MINI_VIEW","WORKROOMS_PRISM_OPEN_FOR_EVERYONE","WORKROOMS_PRISM_PARTICIPANTS_LIST","WORKROOMS_PRISM_PARTICIPANT_CHICLET_OVERLAY","WORKROOMS_PRISM_PARTICIPANT_OVERLAY","WORKROOMS_PRISM_PRIMARY_SPEAKER_DUAL_STREAM_TOGGLE_HANDLER","WORKROOMS_PRISM_RAISE_HAND_QUEUE","WORKROOMS_PRISM_RELIABILITY_CHECKS","WORKROOMS_PRISM_SHOW_HIDE_SELF_VIEW","WORKROOMS_REPORT_COPRESENCE","WORKROOMS_VR_ROOM_RENDER_PINNING","WORKROOMS_ZOOM","WORK_CHAT","WORK_MEETUP_CALENDAR","ZERO_MEDIA_JOINER"]);c=a;f["default"]=c}),66);
__d("ZenonLogLongSuspension.react",["ODS","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=a.name;j(function(){return l(b,5)},[b]);j(function(){return l(b,15)},[b]);j(function(){return l(b,60)},[b]);j(function(){return l(b,300)},[b]);return null}var k=/\W/g;function l(a,b){var e=c("setTimeout")(function(){(i||(i=d("ODS"))).bumpEntityKey(4272,"zenon_product","zenon_integration_boundary."+a.replace(k,"_")+".suspended_"+b.toString(10)+"_sec")},b*1e3);return function(){c("clearTimeout")(e)}}g["default"]=a}),98);
__d("ZenonIntegrationBoundary.react",["ErrorBoundary.react","FBLogger","Recoil","ZenonDefaultErrorBoundaryProject","ZenonLogLongSuspension.react","ZenonPluginErrorState","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.children,e=a.errorBoundaryProject,f=a.forceResetErrorCount;f=f===void 0?void 0:f;var g=a.localErrorFallback;g=g===void 0?c("emptyFunction").thatReturns(null):g;var h=a.name,k=a.onError,l=k===void 0?c("emptyFunction"):k;k=a.projectErrorFallback;k=k===void 0?null:k;a=a.suspenseFallback;a=a===void 0?null:a;var m=j(!1),n=m[0],o=m[1],p=d("Recoil").useRecoilValue(d("ZenonPluginErrorState").events);m=d("Recoil").useRecoilState(d("ZenonPluginErrorState").statuses(e));var q=m[0],r=m[1];return q&&!n?k:i.jsx(c("ErrorBoundary.react"),{fallback:g,forceResetErrorCount:f,onError:function(a,b){if(l(a,b)===!1)c("FBLogger")("rtc_www","error_propagation_stopped").catching(a).info('ZenonIntegrationBoundary caught an error from "%s" in module "%s" and the caller stopped propagation');else if(e===c("ZenonDefaultErrorBoundaryProject")||e==="EXCEPTIONS_CRASH_THE_ENTIRE_APP"){c("FBLogger")("rtc_www","default_error_boundary_integration_crashed").catching(a).mustfix('ZenonIntegrationBoundary caught an error from "%s" in module "%s" and re-threw it because it is associated with the default error boundary project',h,b);throw a}else c("FBLogger")("rtc_www","error_propagated").catching(a).warn('ZenonIntegrationBoundary caught an error from "%s" of error boundary project "%s" in module "%s"',h,e,b),p.emit(e,h,a),o(!0),r(!0)},children:i.jsx(i.Suspense,{fallback:i.jsxs(i.Fragment,{children:[a,i.jsx(c("ZenonLogLongSuspension.react"),{name:h})]}),children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonIntegrationMatchContainer.react",["CometRelay","ZenonIntegrationBoundary.react","ZenonIntegrationMatchContainer_match.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.match;a=a.props;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("ZenonIntegrationMatchContainer_match.graphql"),e);return j.jsx(c("ZenonIntegrationBoundary.react"),{errorBoundaryProject:f.integration_boundary_name,name:f.__typename,children:j.jsx(d("CometRelay").MatchContainer,{match:e,props:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("KFAssetRegistry",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={audio:[],images:[]}}var b=a.prototype;b.addAudio=function(a){this.$1.audio.push(a)};b.addImageAtIndex=function(a,b){this.$1.images[b]=a};b.getAudio=function(a){return this.$1.audio[a]};b.getImage=function(a){return this.$1.images[a]};b.getImages=function(){return this.$1.images};return a}();f["default"]=a}),66);
__d("KFDimensions",[],(function(a,b,c,d,e,f){"use strict";var g=window.devicePixelRatio,h=function(){function a(a){this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*g)};b.scale=function(a,b){this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new h(a),this.height=new h(b),this.wasUpdated=!1}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0),this.wasUpdated=!0};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio),this.wasUpdated=!0};b.reset=function(){this.height.reset(),this.width.reset()};return a}();f["default"]=a}),66);
__d("KFChildrenComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a=[]),this.children=a}var b=a.prototype;b.getChildren=function(){return this.children};b.addChild=function(a){this.children.push(a)};b.removeChild=function(a,b){a=this.children.indexOf(a);if(a===-1)return;b!=null?this.children.splice(a,1,b):this.children.splice(a,1)};b.toString=function(){return d("KFComponentNames").CHILDREN};return a}();g["default"]=a}),98);
__d("KFCompositingComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.zIndex=a,this.opacity=b,this.isGroup=c,this.isTrackMatte=d,this.trackMatteType=e,this.trackMatteId=f,this.clippingPath=g,this.inheritedOpacity=1}var b=a.prototype;b.toString=function(){return d("KFComponentNames").COMPOSITING};b.update=function(a,b){this.inheritedOpacity=b,this.opacity.update(a),this.clippingPath&&this.clippingPath.update(a)};b.getOpacity=function(){return this.opacity.get()*this.inheritedOpacity};b.getClippingPath=function(){return this.clippingPath&&this.clippingPath.get()};return a}();g["default"]=a}),98);
__d("KFEntity",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(){this.id=g++}var b=a.prototype;b.getID=function(){return this.id};return a}();f["default"]=a}),66);
__d("KFIdentificationComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.toString=function(){return d("KFComponentNames").IDENTIFICATION};b.getID=function(){return this.$1};return a}();g["default"]=a}),98);
__d("KFImageComponent",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.imageId=a};f["default"]=a}),66);
__d("KFRandomSubdocumentAlternateChildrenComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.swappableChildren=[],this.lastSwappedChildIndex=-1}var b=a.prototype;b.addSwappableChild=function(a,b){this.swappableChildren.push(a),b===!0&&(this.lastSwappedChildIndex=this.swappableChildren.length-1)};b.getLastSwappedChild=function(){return this.swappableChildren[this.lastSwappedChildIndex]};b.getSwappableChild=function(a){return this.swappableChildren[a]};b.setLastSwappedIndex=function(a){this.lastSwappedChildIndex=a};b.toString=function(){return d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN};return a}();g["default"]=a}),98);
__d("KFRandomSubdocumentComponent",["KFComponentNames","randomShuffle"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=[]}var b=a.prototype;b.$3=function(){this.$2.length===0&&this.$4()};b.$4=function(){this.$2=c("randomShuffle")(this.$1.slice(0))};b.getNextRandomSubdocumentIndex=function(){this.$3();return this.$2.pop()};b.toString=function(){return d("KFComponentNames").RANDOM_SUBDOCUMENT};return a}();g["default"]=a}),98);
__d("KFSceneComponent",["invariant","KFComponentNames"],(function(a,b,c,d,e,f,g,h){"use strict";var i="update",j="repeat",k="end";a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=-1,this.$6=0,this.$7=0,this.$8=0,this.$9=1,this.$10=0,this.$11={update:[],repeat:[],end:[]}}var b=a.prototype;b.update=function(a,b){a=!0;this.$7+=b/this.$2;if(this.$7>this.$9){this.$6++;this.$7%=this.$9;if(this.$5!==-1&&this.$5<=this.$6){this.$12(k);return this.$7}else a=!1,this.$12(j),this.$7+=this.$8}a&&this.$12(i);return this.$7};b.getProgress=function(){return this.$7};b.addEntity=function(a){this.$1.push(a)};b.setEntities=function(a){this.$1=a};b.removeEntity=function(a){a=this.$1.indexOf(a);a!==-1&&this.$1.splice(a,1)};b.getEntities=function(){return this.$1};b.getSize=function(){return this.$4};b.onUpdate=function(a){this.$11.update.push(a)};b.onRepeat=function(a){this.$11.repeat.push(a)};b.onEnd=function(a){this.$11.end.push(a)};b.$12=function(a){for(var b=0;b<this.$11[a].length;b++)this.$11[a][b](this.$7)};b.getDuration=function(){return this.$2};b.getFrameRate=function(){return this.$3};b.toString=function(){return d("KFComponentNames").SCENE};b.seekToProgress=function(a){a>=0&&a<=1||h(0,749,a),this.$7=a};b.setStartAndEndProgress=function(a,b){this.$8=a,this.$9=b};b.setStartProgress=function(a){this.$8=a};b.setEndProgress=function(a){this.$9=a};b.setPlayCount=function(a){this.$5=a};return a}();b=function(){function a(){}var b=a.prototype;b.toString=function(){return d("KFComponentNames").ROOT};return a}();g.KFSceneComponent=a;g.KFRootComponent=b}),98);
__d("KFAnimationUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b}function b(a,b,c){return(c-b)*a+b}function c(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function d(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}f.hold=a;f.identityFunction=a;f.linearInterpolation=b;f.quadraticInterpolation=c;f.cubicInterpolation=d;f.lerp=b}),66);
__d("KFTrimPath",["KFAnimationUtils","bezier-js"],(function(a,b,c,d,e,f,g){var h=document.createElementNS("http://www.w3.org/2000/svg","path"),i=360,j=function(a,b){a===void 0&&(a="");a=a;switch(b.type){case 0:a+="M"+b.point[0]+", "+b.point[1];break;case 1:a+="L"+b.point[0]+", "+b.point[1];break;case 2:b.c1&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&(a+="Q"+b.c1[0]+" "+b.c1[1]+", "+b.point[0]+", "+b.point[1]);break;case 3:b.c1&&b.c2&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&b.c2[0]!==void 0&&b.c2[1]!==void 0&&(a+="C"+b.c1[0]+" "+b.c1[1]+", "+b.c2[0]+" "+b.c2[1]+", "+b.point[0]+", "+b.point[1]);break}return a},k=function(a,b){return{type:0,point:[0,0],c1:[0,0],c2:[0,0]}},l=function(a,b){var e,f={split:k};switch(b.type){case 0:f.split=function(a,c){return{type:0,point:[b.point[0],b.point[1]],c1:[0,0],c2:[0,0]}};break;case 1:f.split=function(c,e){var f;c=[(f=d("KFAnimationUtils")).lerp(c,a.point[0],b.point[0]),f.lerp(c,a.point[1],b.point[1])];f=[f.lerp(e,a.point[0],b.point[0]),f.lerp(e,a.point[1],b.point[1])];return{type:1,point:[f[0],f[1]],c1:[c[0],c[1]],c2:[f[0],f[1]]}};break;case 2:a.point&&b.point&&b.c1&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&(e=new(c("bezier-js"))(a.point[0],a.point[1],b.c1[0],b.c1[1],b.point[0],b.point[1]),f.split=function(a,b){a=e.split(a,b);a.points||(a.points=[a.left.points[0],a.left.points[0],a.left.points[0],a.left.points[0]]);return{type:2,point:[a.points[2].x,a.points[2].y],c1:[a.points[1].x,a.points[1].y],c2:[0,0]}});break;case 3:a.point&&b.point&&b.c1&&b.c2&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&b.c2[0]!==void 0&&b.c2[1]!==void 0&&(e=new(c("bezier-js"))(a.point[0],a.point[1],b.c1[0],b.c1[1],b.c2[0],b.c2[1],b.point[0],b.point[1]),f.split=function(a,b){a=e.split(a,b);a.points||(a.points=[a.left.points[0],a.left.points[0],a.left.points[0],a.left.points[0]]);return{type:3,point:[a.points[3].x,a.points[3].y],c1:[a.points[1].x,a.points[1].y],c2:[a.points[2].x,a.points[2].y]}});break}return f},m=[],n=function(a,b,c){a===void 0&&(a=0);b===void 0&&(b=100);c===void 0&&(c=0);a=a/100;b=b/100;c=c%i;c=c===-0?0:c;if(a>b){var d=b;b=a;a=d}a===0&&b===1?(m[0]=c%i/i,m[1]=c%i/i):(a+=c%i/i,b+=c%i/i,m[0]=a>1?a%1:a,m[1]=b>1?b%1:b);return m};function o(a){var b=[],c="";for(var d=0;d<a.length;d++){var e=a[d];c=j(c,e);h.setAttributeNS(null,"d",c);b.push(h.getTotalLength())}return b}function a(a,b,c,d){b===void 0&&(b=0);c===void 0&&(c=100);d===void 0&&(d=0);var e=[];b=b;c=c;d=d;if(b===c)return e;if(b===0&&c===100&&d===0)return a;var f=o(a),g=f[f.length-1];d=n(b,c,d);b=d[0];c=d[1];d=h.getPointAtLength(b*g);if(b<c)for(var i=0;i<a.length;i++){if(b*g>f[i])continue;var j=a[i-1],k=a[i];j=l(j,k);k=0;var m=1,p=f[i]-(f[i-1]||0);if(e.length===0){var q={type:0,point:[d.x,d.y],c1:[0,0],c2:[0,0]};e.push(q);k=p===0?1:(g*b-(f[i-1]||0))/p}if(c*g<f[i]){m=(g*c-(f[i-1]||0))/(f[i]-(f[i-1]||0));e.push(j.split(k,m));break}e.push(j.split(k,m))}else{q=!1;p=!1;for(j=0;j<a.length;j++){k=l(a[j-1],a[j]);m=0;i=1;!p&&c*g<f[j]&&(p=!0,i=(g*c-(f[j-1]||0))/(f[j]-(f[j-1]||0)),e.push(k.split(0,i)),e.push({type:0,point:[d.x,d.y],c1:[0,0],c2:[0,0]}));!q&&b*g<f[j]&&(q=!0,m=(g*b-(f[j-1]||0))/(f[j]-(f[j-1]||0)),i=1);(!q&&!p||q&&p)&&e.push(k.split(m,i))}}return e}g.trimPath=a}),98);
__d("KFShapeComponent",["KFTrimPath"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){this.path=a,this.trimStart=b,this.trimEnd=c,this.trimOffset=d,this.fillColor=e,this.gradientFill=f,this.strokeColor=g,this.strokeWidth=h,this.strokeLineCap=i,this.strokeLineJoin=j,this.miterLimit=k,this.vectorCompositeOrder=l}var b=a.prototype;b.update=function(a){this.path&&this.path.update(a),this.trimStart&&this.trimStart.update(a),this.trimEnd&&this.trimEnd.update(a),this.trimOffset&&this.trimOffset.update(a),this.fillColor&&this.fillColor.update(a),this.gradientFill&&this.gradientFill.update(a),this.strokeColor&&this.strokeColor.update(a),this.strokeWidth&&this.strokeWidth.update(a),this.miterLimit&&this.miterLimit.update(a)};b.getPath=function(){return d("KFTrimPath").trimPath(this.path.get(),this.trimStart?this.trimStart.get():void 0,this.trimEnd?this.trimEnd.get():void 0,this.trimOffset?this.trimOffset.get():void 0)};return a}();g["default"]=a}),98);
__d("KFTimeComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$1=a||0;this.$2=b||1;this.$3=c||0;this.$4=(a=d)!=null?a:1;this.$5=0}var b=a.prototype;b.isInBounds=function(a){a=(a=a)!=null?a:this.$5;return a>=this.$1&&a<=this.$2};b.update=function(a){this.$5=a*this.$4;return this.$5};b.getProgress=function(){return this.$5};b.getProgressOffset=function(){return this.$3};b.toString=function(){return d("KFComponentNames").TIME};return a}();g["default"]=a}),98);
__d("KFMat2d",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=window.Float32Array?new Float32Array(6):new Array(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function b(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0],j=c[1],k=c[2],l=c[3],m=c[4];c=c[5];a[0]=d*i+f*j;a[1]=e*i+g*j;a[2]=d*k+f*l;a[3]=e*k+g*l;a[4]=d*m+f*c+h;a[5]=e*m+g*c+b;return a}function d(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*i;a[1]=e*c+g*i;a[2]=d*-i+f*c;a[3]=e*-i+g*c;a[4]=h;a[5]=b;return a}function e(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d*i;a[1]=e*i;a[2]=f*c;a[3]=g*c;a[4]=h;a[5]=b;return a}function g(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=d*i+f*c+h;a[5]=e*i+g*c+b;return a}function h(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0];a[5]=b[1];return a}f.identity=b;f.multiply=c;f.translate=g;f.rotate=d;f.scale=e;f.fromTranslation=h;f.createMat2d=a}),66);
__d("KFTransformComponent",["KFComponentNames","KFMat2d"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e){this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5,this.$6=d("KFMat2d").createMat2d(),this.$7=d("KFMat2d").createMat2d()}var b=a.prototype;b.getLocalTransform=function(a){if(a!==this.$5){var b,c=this.$4.getValueAtProgress(a);this.$5=a;(b=d("KFMat2d")).fromTranslation(this.$6,this.$1.getValueAtProgress(a));b.rotate(this.$6,this.$6,this.$2.getValueAtProgress(a));b.scale(this.$6,this.$6,this.$3.getValueAtProgress(a));b.translate(this.$6,this.$6,[-c[0],-c[1]])}return this.$6};b.getWorldTransform=function(){return this.$7};b.update=function(a,b){this.getLocalTransform(a);d("KFMat2d").multiply(this.$7,b,this.$6);return this.$7};b.toString=function(){return d("KFComponentNames").TRANSFORM};return a}();g["default"]=a}),98);
__d("KFTrimPathComponent",["KFTrimPath","KeyframesTween"],(function(a,b,c,d,e,f,g){var h,i=[0,0],j=function(a){return a.map(function(a){var b,c=i,d=i;((b=a.control1)==null?void 0:b.x)!=null&&((b=a.control1)==null?void 0:b.y)!=null&&(c=[a.control1.x,a.control1.y]);((b=a.control2)==null?void 0:b.x)!=null&&((b=a.control2)==null?void 0:b.y)!=null&&(d=[a.control2.x,a.control2.y]);return{type:a.type,point:[a.point.x,a.point.y],c1:c,c2:d}})};a=function(){function a(a,b,c,e,f,g,i,j,k,l){this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$6=f,this.$7=g,this.strokeLineCap=i,this.strokeLineJoin=j,this.$5=k,this.vectorCompositeOrder=l,this.path=(h||(h=d("KeyframesTween"))).maybeTweenPath(0,this.$1),this.$8(0,!0)}var b=a.prototype;b.$8=function(a,b){b!==!0&&(this.path=(h||(h=d("KeyframesTween"))).maybeTweenPath(a,this.$1)),this.$2!=null&&(this.trimStart=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$2)),this.$3!=null&&(this.trimEnd=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$3)),this.$4!=null&&(this.trimOffset=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$4)),this.$5!=null&&(this.miterLimit=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$5)),this.$6!=null&&(this.strokeColor=(h||(h=d("KeyframesTween"))).maybeTweenColor(a,this.$6)),this.$7!=null&&(this.strokeWidth=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$7))};b.update=function(a){this.$8(a)};b.getPath=function(){var a;return d("KFTrimPath").trimPath(j(this.path),(a=this.trimStart)!=null?a:void 0,(a=this.trimEnd)!=null?a:void 0,(a=this.trimOffset)!=null?a:void 0)};b.getStrokeData=function(){return this.strokeWidth==null||this.strokeColor==null?null:{miterLimit:this.miterLimit,strokeWidth:this.strokeWidth,strokeColor:this.strokeColor,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin}};return a}();g["default"]=a}),98);
__d("KFEntityComponentRegistry",["KFChildrenComponent","KFCompositingComponent","KFEntity","KFIdentificationComponent","KFImageComponent","KFRandomSubdocumentAlternateChildrenComponent","KFRandomSubdocumentComponent","KFSceneComponent","KFShapeComponent","KFTimeComponent","KFTransformComponent","KFTrimPathComponent"],(function(a,b,c,d,e,f,g){"use strict";var h={IMAGE:c("KFImageComponent"),AUDIO:void 0,CHILDREN:c("KFChildrenComponent"),PARENT:void 0,COMPOSITING:c("KFCompositingComponent"),RANDOM_SUBDOCUMENT:c("KFRandomSubdocumentComponent"),RANDOM_SUBDOCUMENT_CHILDREN:c("KFRandomSubdocumentAlternateChildrenComponent"),ROOT:d("KFSceneComponent").KFRootComponent,SCENE:d("KFSceneComponent").KFSceneComponent,SHAPE:c("KFShapeComponent"),TRIM_PATH:c("KFTrimPathComponent"),TIME:c("KFTimeComponent"),IDENTIFICATION:c("KFIdentificationComponent"),TRANSFORM:c("KFTransformComponent"),VIDEO:void 0};a=function(){function a(a){this.$1=babelHelpers["extends"]({},h,a),this.$2={},this.$3={},this.$4={}}var b=a.prototype;b.createEntity=function(){var a=new(c("KFEntity"))();this.$2[a.id]=a;return a};b.getEntity=function(a){return this.$2[a]};b.destroyEntity=function(a){var b=Object.keys(this.$4[a.id]||{});delete this.$4[a.id];for(var c=b.length-1;c>=0;c--){var d=this.$3[b[c]],e=d.indexOf(a);e!==-1&&d.splice(e,1)}};b.createComponent=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return this.$1[a]?babelHelpers.construct(this.$1[a],c):void 0};b.addComponent=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];var f=this.createComponent.apply(this,[b].concat(d));this.registerComponentForEntity(a,f,b);return f};b.removeComponentForEntity=function(a,b){var c=this.$3[b],d=c.indexOf(a);d!==-1&&c.splice(d,1);c=this.$4[a.id];c[b]!=null&&(c[b]=void 0)};b.registerComponentForEntity=function(a,b,c){var d=c||b.toString();if(!this.$4[a.id])this.$4[a.id]={};else if(this.$4[a.id][d])return this.$4[a.id][d];this.$4[a.id][d]=b;this.$3[c]||(this.$3[c]=[]);this.$3[c].push(a)};b.getAllComponentsForEntity=function(a){return this.$4[a.id]||{}};b.getComponent=function(a,b){return this.$4[a.id][b]};b.getEntitiesWithComponent=function(a){return this.$3[a]||[]};b.setComponentType=function(a,b){this.$1[a]=b};return a}();g["default"]=a}),98);
__d("KFAnimationConstants",[],(function(a,b,c,d,e,f){"use strict";a={Bezier:0,Linear:1,Hold:2};b={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3,HorizontalLineTo:4,VerticalLineTo:5,CloseLineTo:6,SmoothQuadTo:7,CloseQuadTo:8,CloseSmoothQuadTo:9,SmoothCubicTo:10,CloseCubicTo:11,CloseSmoothCubicTo:12};f.TweenType=a;f.CommandType=b}),66);
__d("KFAnimatable",["KFAnimationConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b?b.values:void 0,this.$3=b?b.keyframes:void 0,this.$4=b?b.tweens:void 0}var b=a.prototype;b.__interpolate=function(a,b,c){return b};b.setValue=function(a){this.$1=a};b.setValues=function(a){this.$2=a};b.setKeyframes=function(a){this.$3=a};b.setTweens=function(a){this.$4=a};b.getValueAtProgress=function(a){this.update(a);return this.$1};b.get=function(){return this.$1};b.update=function(a){if(!this.$2||a===this.$5)return;else if(this.$2&&this.$3&&this.$4){this.$5=a;var b=this.$2.length;if(a<=this.$3[0])this.$1=this.$2[0];else if(a>=this.$3[b-1])this.$1=this.$2[b-1];else{var c=0;b=b-1;while(c+1<b){var e=Math.floor((b-c)/2+c);this.$3[e]<a?c=e:b=e}e=(a-this.$3[c])/(this.$3[c+1]-this.$3[c]);this.$4[c].type===d("KFAnimationConstants").TweenType.Hold?b=0:this.$4[c].type===d("KFAnimationConstants").TweenType.Linear?b=e:b=this.$4[c].bezier.solve(e);this.$1=this.__interpolate(b,this.$2[c],this.$2[c+1])}}};return a}();g["default"]=a}),98);
__d("KFColor",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$KFColor2=[0,0,0,0];b.$KFColor1=b.$KFColor2;return b}var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFColor1=this.$KFColor1!=null?this.$KFColor1:this.$KFColor2;return h(this.$KFColor1,a,b,c)};return b}(c("KFAnimatable"));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$KFColorArray1=[];return b}var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFColorArray1=this.$KFColorArray1!=null?this.$KFColorArray1:[];return i(this.$KFColorArray1,a,b,c)};return b}(c("KFAnimatable"));function h(a,b,c,d){a===void 0&&(a=[0,0,0,0]);a[0]=(d[0]-c[0])*b+c[0];a[1]=(d[1]-c[1])*b+c[1];a[2]=(d[2]-c[2])*b+c[2];a[3]=(d[3]-c[3])*b+c[3];return a}function i(a,b,c,d){a===void 0&&(a=[]);var e=c.length;for(var f=0;f<e-1;f++)a[f]||(a[f]=[0,0,0,0]),h(a[f],b,c[f],d[f]);return a}g.KFColor=a;g.KFColorArray=b}),98);
__d("KFGradient",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.type=a,this.colors=c,this.positions=b,this.rampStart=d,this.rampEnd=e,this.highlightAngle=f,this.highlightLength=g,this.colorStart=h,this.colorEnd=i}var b=a.prototype;b.update=function(a){var b;(b=this.colors)==null?void 0:b.update(a);(b=this.positions)==null?void 0:b.update(a);(b=this.rampStart)==null?void 0:b.update(a);(b=this.rampEnd)==null?void 0:b.update(a);(b=this.highlightAngle)==null?void 0:b.update(a);(b=this.highlightLength)==null?void 0:b.update(a);(b=this.colorStart)==null?void 0:b.update(a);(b=this.colorEnd)==null?void 0:b.update(a)};return a}();f["default"]=a}),66);
__d("KFManifest",[],(function(a,b,c,d,e,f){"use strict";var g=[{name:"2D Transforms (translation, scale, rotate)"},{name:"Path"},{name:"Solid Fill"},{name:"Solid Stroke"},{name:"Linear Gradient Fill",moduleLoader:function(a){}},{name:"Radial Gradient Fill",moduleLoader:function(a){}},{name:"Bitmap"},{name:"Sublayers"},{name:"Subdocuments"},{name:"Time Offset"},{name:"Masking (clipping path)",moduleLoader:function(a){}},{name:"Alpha Mattes",moduleLoader:function(a){}},{name:"Plugins",isDeprecated:!0},{name:"Sound",moduleLoader:function(a){}},{name:"Random Precomp",moduleLoader:function(a){}},{name:"TrimPath",moduleLoader:function(a){}},{name:"LayerName"},{name:"LayerTags"},{name:"SubdocumentSwap",moduleLoader:function(a){}},{name:"DynamicProperties",moduleLoader:function(a){}},{name:"Vector Composite Order"},{name:"Progress Markers",moduleLoader:function(a){}}];function a(a,b){for(var c=0;c<g.length;c++)a&Math.pow(2,c)&&(g[c].moduleLoader&&g[c].moduleLoader(b))}f["default"]=a}),66);
__d("KFPath2d",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$KFPath2d1=[];return b}var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFPath2d1=this.$KFPath2d1!=null?this.$KFPath2d1:[];for(var d=0;d<b.length;d++){var e={type:b[d].type,point:[0,0],c1:[0,0],c2:[0,0]};e.point[0]=(c[d].point[0]-b[d].point[0])*a+b[d].point[0];e.point[1]=(c[d].point[1]-b[d].point[1])*a+b[d].point[1];b[d].c1&&(e.c1[0]=(c[d].c1[0]-b[d].c1[0])*a+b[d].c1[0],e.c1[1]=(c[d].c1[1]-b[d].c1[1])*a+b[d].c1[1]);b[d].c2&&(e.c2[0]=(c[d].c2[0]-b[d].c2[0])*a+b[d].c2[0],e.c2[1]=(c[d].c2[1]-b[d].c2[1])*a+b[d].c2[1]);this.$KFPath2d1[d]=e}return this.$KFPath2d1};return b}(c("KFAnimatable"));g["default"]=a}),98);
__d("KFPoint",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$KFPoint1=[0,0];return b}var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFPoint1=this.$KFPoint1||[0,0];return h(this.$KFPoint1,a,b,c)};return b}(c("KFAnimatable"));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$KFPointArray1=[];return b}var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFPointArray1=this.$KFPointArray1||[];return i(this.$KFPointArray1,a,b,c)};return b}(c("KFAnimatable"));function h(a,b,c,d){a===void 0&&(a=[0,0]);a[0]=(d[0]-c[0])*b+c[0];a[1]=(d[1]-c[1])*b+c[1];return a}function i(a,b,c,d){a===void 0&&(a=[]);var e=c.length;for(var f=0;f<e-1;f++)h(a[f],b,c[f],d[f]);return a}g.KeyframesVec2=a;g.KFPoint=a;g.KFPointArray=b;g._interpolatePoint=h}),98);
__d("KFPosition",["KFAnimationConstants","KFAnimationUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c,this.$4=[0,0],this.$3&&(this.$3.__interpolate=i)}var b=a.prototype;b.getValueAtProgress=function(a){if(this.$3){var b=this.$3.getValueAtProgress(a);b&&(this.$4[0]=b.point[0],this.$4[1]=b.point[1])}else this.$4[0]=this.$1?this.$1.getValueAtProgress(a):0,this.$4[1]=this.$2.getValueAtProgress(a);return this.$4};return a}();var h={point:[0,0]};function i(a,b,c){var e=a*a,f=1-a,g=f*f;switch(c.type){case d("KFAnimationConstants").CommandType.LineTo:h.point[0]=d("KFAnimationUtils").lerp(a,b.point[0],c.point[0]);h.point[1]=d("KFAnimationUtils").lerp(a,b.point[1],c.point[1]);break;case d("KFAnimationConstants").CommandType.QuadTo:h.point[0]=d("KFAnimationUtils").quadraticInterpolation(a,e,f,g,b.point[0],c.c1[0],c.point[0]);h.point[1]=d("KFAnimationUtils").quadraticInterpolation(a,e,f,g,b.point[1],c.c1[1],c.point[1]);break;case d("KFAnimationConstants").CommandType.CubicTo:h.point[0]=d("KFAnimationUtils").cubicInterpolation(a,e,f,g,b.point[0],c.c1[0],c.c2[0],c.point[0]);h.point[1]=d("KFAnimationUtils").cubicInterpolation(a,e,f,g,b.point[1],c.c1[1],c.c2[1],c.point[1]);break}return h}g["default"]=a}),98);
__d("KFScalar",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c)||this}var c=b.prototype;c.__interpolate=function(a,b,c){return(c-b)*a+b};return b}(c("KFAnimatable"));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$KFScalarArray1=[];return b}var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFScalarArray1=this.$KFScalarArray1!=null?this.$KFScalarArray1:[];for(var d=0;d<b.length;d++)this.$KFScalarArray1[d]=(c[d]-b[d])*a+b[d];return this.$KFScalarArray1};return b}(c("KFAnimatable"));g.KFScalar=a;g.KFScalarArray=b}),98);
__d("KFSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3,HorizontalLineTo:4,VerticalLineTo:5,CloseLineTo:6,SmoothQuadTo:7,CloseQuadTo:8,CloseSmoothQuadTo:9,SmoothCubicTo:10,CloseCubicTo:11,CloseSmoothCubicTo:12};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo",4:"HorizontalLineTo",5:"VerticalLineTo",6:"CloseLineTo",7:"SmoothQuadTo",8:"CloseQuadTo",9:"CloseSmoothQuadTo",10:"SmoothCubicTo",11:"CloseCubicTo",12:"CloseSmoothCubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.prototype.x=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Point.prototype.y=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Point.createPoint=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.prototype.red=function(){return this.bb.readUint8(this.bb_pos)};g.keyframes.Color.prototype.green=function(){return this.bb.readUint8(this.bb_pos+1)};g.keyframes.Color.prototype.blue=function(){return this.bb.readUint8(this.bb_pos+2)};g.keyframes.Color.prototype.alpha=function(){return this.bb.readUint8(this.bb_pos+3)};g.keyframes.Color.createColor=function(a,b,c,d,e){a.prep(1,4);a.writeInt8(e);a.writeInt8(d);a.writeInt8(c);a.writeInt8(b);return a.offset()};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__vector(this.bb_pos+c)+a*4,this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,1)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readInt8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.prototype.commandsArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Path.prototype.points=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Path.prototype.pointsLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.prototype.pointsArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Path.startPath=function(a){a.startObject(2)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Path.addPoints=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Path.createPointsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.Path.startPointsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b,c){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);g.keyframes.Path.addPoints(a,c);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldStruct(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldStruct(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(3)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValues(a,b);g.keyframes.ScalarAnimation.addKeyframes(a,c);g.keyframes.ScalarAnimation.addTweens(a,d);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(3)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValues(a,b);g.keyframes.ScalarArrayAnimation.addKeyframes(a,c);g.keyframes.ScalarArrayAnimation.addTweens(a,d);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Point()).__init(this.bb.__vector(this.bb_pos+c)+a*8,this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(3)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(8,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValues(a,b);g.keyframes.PointAnimation.addKeyframes(a,c);g.keyframes.PointAnimation.addTweens(a,d);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__vector(this.bb_pos+c)+a*4,this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(3)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,1)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValues(a,b);g.keyframes.ColorAnimation.addKeyframes(a,c);g.keyframes.ColorAnimation.addTweens(a,d);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(3)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValues(a,b);g.keyframes.ColorArrayAnimation.addKeyframes(a,c);g.keyframes.ColorArrayAnimation.addTweens(a,d);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(3)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValues(a,b);g.keyframes.PathAnimation.addKeyframes(a,c);g.keyframes.PathAnimation.addTweens(a,d);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Gradient.prototype.rampStartAnimation=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Gradient.prototype.rampEndAnimation=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Color()).__init(this.bb.__vector(this.bb_pos+c)+a*4,this.bb):null};g.keyframes.Gradient.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Gradient.prototype.colorsAnimation=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Gradient.prototype.positionsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Gradient.prototype.positionsArray=function(){var a=this.bb.__offset(this.bb_pos,18);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Gradient.prototype.positionsAnimation=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Gradient.prototype.highlightLengthAnimation=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Gradient.prototype.highlightAngleAnimation=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(13)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldStruct(1,b,0)};g.keyframes.Gradient.addRampStartAnimation=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldStruct(3,b,0)};g.keyframes.Gradient.addRampEndAnimation=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.startColorsVector=function(a,b){a.startVector(4,b,1)};g.keyframes.Gradient.addColorsAnimation=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.createPositionsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.Gradient.startPositionsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Gradient.addPositionsAnimation=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldFloat32(9,b,0)};g.keyframes.Gradient.addHighlightLengthAnimation=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldFloat32(11,b,0)};g.keyframes.Gradient.addHighlightAngleAnimation=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addType(a,b);g.keyframes.Gradient.addRampStart(a,c);g.keyframes.Gradient.addRampStartAnimation(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addRampEndAnimation(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addColorsAnimation(a,i);g.keyframes.Gradient.addPositions(a,j);g.keyframes.Gradient.addPositionsAnimation(a,k);g.keyframes.Gradient.addHighlightLength(a,l);g.keyframes.Gradient.addHighlightLengthAnimation(a,m);g.keyframes.Gradient.addHighlightAngle(a,n);g.keyframes.Gradient.addHighlightAngleAnimation(a,o);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Audio=function(){this.bb=null,this.bb_pos=0};g.keyframes.Audio.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Audio.getRootAsAudio=function(a,b){return(b||new g.keyframes.Audio()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Audio.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Audio.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Audio.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Audio.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Audio.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Audio.startAudio=function(a){a.startObject(3)};g.keyframes.Audio.addLength=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Audio.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Audio.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Audio.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Audio.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Audio.endAudio=function(a){a=a.endObject();return a};g.keyframes.Audio.createAudio=function(a,b,c,d){g.keyframes.Audio.startAudio(a);g.keyframes.Audio.addLength(a,b);g.keyframes.Audio.addContent(a,c);g.keyframes.Audio.addName(a,d);return g.keyframes.Audio.endAudio(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Font=function(){this.bb=null,this.bb_pos=0};g.keyframes.Font.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Font.getRootAsFont=function(a,b){return(b||new g.keyframes.Font()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Font.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Font.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Font.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Font.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Font.startFont=function(a){a.startObject(2)};g.keyframes.Font.addContent=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Font.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Font.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Font.addName=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Font.endFont=function(a){a=a.endObject();return a};g.keyframes.Font.createFont=function(a,b,c){g.keyframes.Font.startFont(a);g.keyframes.Font.addContent(a,b);g.keyframes.Font.addName(a,c);return g.keyframes.Font.endFont(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.tags=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Layer.prototype.tagsLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.subLayer=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.subLayers=function(a,b){var c=this.bb.__offset(this.bb_pos,12);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.subLayersLength=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.subScene=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.subScenes=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?this.bb.readInt32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Layer.prototype.subScenesLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.subScenesArray=function(){var a=this.bb.__offset(this.bb_pos,16);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Layer.prototype.zIndex=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.isGroup=function(){var a=this.bb.__offset(this.bb_pos,20);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.anchorPointAnimation=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.xPositionAnimation=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.yPositionAnimation=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,40);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.rotationAnimation=function(a){var b=this.bb.__offset(this.bb_pos,44);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,46);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.scaleAnimation=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(){var a=this.bb.__offset(this.bb_pos,50);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.opacityAnimation=function(a){var b=this.bb.__offset(this.bb_pos,52);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,54);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.pathAnimation=function(a){var b=this.bb.__offset(this.bb_pos,56);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.trimStart=function(){var a=this.bb.__offset(this.bb_pos,58);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.trimStartAnimation=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.trimEnd=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.trimEndAnimation=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.trimOffset=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.trimOffsetAnimation=function(a){var b=this.bb.__offset(this.bb_pos,68);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,70);return b?(a||new g.keyframes.Color()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.fillColorAnimation=function(a){var b=this.bb.__offset(this.bb_pos,72);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.gradientFill=function(a){var b=this.bb.__offset(this.bb_pos,74);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,76);return b?(a||new g.keyframes.Color()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.strokeColorAnimation=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.strokeWidthAnimation=function(a){var b=this.bb.__offset(this.bb_pos,82);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,84);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,86);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.miterLimit=function(){var a=this.bb.__offset(this.bb_pos,88);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.miterLimitAnimation=function(a){var b=this.bb.__offset(this.bb_pos,90);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,92);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,94);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.clippingPathAnimation=function(a){var b=this.bb.__offset(this.bb_pos,96);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,98);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,100);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.trackMatteId=function(){var a=this.bb.__offset(this.bb_pos,102);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,104);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.audioLevel=function(a){var b=this.bb.__offset(this.bb_pos,106);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Layer.prototype.audioLevelLength=function(){var a=this.bb.__offset(this.bb_pos,106);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.audioLevelArray=function(){var a=this.bb.__offset(this.bb_pos,106);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Layer.prototype.audioLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,108);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.audioLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,108);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.audioIndex=function(){var a=this.bb.__offset(this.bb_pos,110);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,112);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,112);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,114);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.fontIndex=function(){var a=this.bb.__offset(this.bb_pos,116);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,118);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,120);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,122);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,124);return b?(a||new g.keyframes.Color()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,126);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textValign=function(){var a=this.bb.__offset(this.bb_pos,128);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,130);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,132);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,134);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,136);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.textTextboxSize=function(a){var b=this.bb.__offset(this.bb_pos,138);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.startLayer=function(a){a.startObject(68)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addName=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.addTags=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Layer.createTagsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startTagsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addSubLayer=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Layer.addSubLayers=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.createSubLayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSubLayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addSubScene=function(a,b){a.addFieldInt32(5,b,0)};g.keyframes.Layer.addSubScenes=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.createSubScenesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addInt32(b[c]);return a.endVector()};g.keyframes.Layer.startSubScenesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addZIndex=function(a,b){a.addFieldInt32(7,b,0)};g.keyframes.Layer.addIsGroup=function(a,b){a.addFieldInt8(8,+b,0)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(9,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(10,b,1)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(11,b,0)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldStruct(12,b,0)};g.keyframes.Layer.addAnchorPointAnimation=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldFloat32(14,b,0)};g.keyframes.Layer.addXPositionAnimation=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldFloat32(16,b,0)};g.keyframes.Layer.addYPositionAnimation=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(18,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldFloat32(19,b,0)};g.keyframes.Layer.addRotationAnimation=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldStruct(21,b,0)};g.keyframes.Layer.addScaleAnimation=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldFloat32(23,b,1)};g.keyframes.Layer.addOpacityAnimation=function(a,b){a.addFieldOffset(24,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(25,b,0)};g.keyframes.Layer.addPathAnimation=function(a,b){a.addFieldOffset(26,b,0)};g.keyframes.Layer.addTrimStart=function(a,b){a.addFieldFloat32(27,b,0)};g.keyframes.Layer.addTrimStartAnimation=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTrimEnd=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTrimEndAnimation=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTrimOffset=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTrimOffsetAnimation=function(a,b){a.addFieldOffset(32,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldStruct(33,b,0)};g.keyframes.Layer.addFillColorAnimation=function(a,b){a.addFieldOffset(34,b,0)};g.keyframes.Layer.addGradientFill=function(a,b){a.addFieldOffset(35,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldStruct(36,b,0)};g.keyframes.Layer.addStrokeColorAnimation=function(a,b){a.addFieldOffset(37,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldFloat32(38,b,0)};g.keyframes.Layer.addStrokeWidthAnimation=function(a,b){a.addFieldOffset(39,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(40,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(41,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldFloat32(42,b,0)};g.keyframes.Layer.addMiterLimitAnimation=function(a,b){a.addFieldOffset(43,b,0)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(44,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(45,b,0)};g.keyframes.Layer.addClippingPathAnimation=function(a,b){a.addFieldOffset(46,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(47,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(48,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addTrackMatteId=function(a,b){a.addFieldInt32(49,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(50,b,-1)};g.keyframes.Layer.addAudioLevel=function(a,b){a.addFieldOffset(51,b,0)};g.keyframes.Layer.createAudioLevelVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.Layer.startAudioLevelVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addAudioLevels=function(a,b){a.addFieldOffset(52,b,0)};g.keyframes.Layer.createAudioLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startAudioLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addAudioIndex=function(a,b){a.addFieldInt32(53,b,-1)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(54,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(55,b,-1)};g.keyframes.Layer.addFontIndex=function(a,b){a.addFieldInt32(56,b,-1)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(57,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(58,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(59,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldStruct(60,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(61,b,0)};g.keyframes.Layer.addTextValign=function(a,b){a.addFieldFloat32(62,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(63,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(64,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(65,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(66,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextTextboxSize=function(a,b){a.addFieldStruct(67,b,0)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addName(a,c);g.keyframes.Layer.addTags(a,d);g.keyframes.Layer.addSubLayer(a,e);g.keyframes.Layer.addSubLayers(a,f);g.keyframes.Layer.addSubScene(a,h);g.keyframes.Layer.addSubScenes(a,i);g.keyframes.Layer.addZIndex(a,j);g.keyframes.Layer.addIsGroup(a,k);g.keyframes.Layer.addFromProgress(a,l);g.keyframes.Layer.addToProgress(a,m);g.keyframes.Layer.addProgressOffset(a,n);g.keyframes.Layer.addAnchorPoint(a,o);g.keyframes.Layer.addAnchorPointAnimation(a,p);g.keyframes.Layer.addXPosition(a,q);g.keyframes.Layer.addXPositionAnimation(a,r);g.keyframes.Layer.addYPosition(a,s);g.keyframes.Layer.addYPositionAnimation(a,t);g.keyframes.Layer.addPosition(a,u);g.keyframes.Layer.addRotation(a,v);g.keyframes.Layer.addRotationAnimation(a,w);g.keyframes.Layer.addScale(a,x);g.keyframes.Layer.addScaleAnimation(a,y);g.keyframes.Layer.addOpacity(a,z);g.keyframes.Layer.addOpacityAnimation(a,A);g.keyframes.Layer.addPath(a,B);g.keyframes.Layer.addPathAnimation(a,C);g.keyframes.Layer.addTrimStart(a,D);g.keyframes.Layer.addTrimStartAnimation(a,E);g.keyframes.Layer.addTrimEnd(a,F);g.keyframes.Layer.addTrimEndAnimation(a,G);g.keyframes.Layer.addTrimOffset(a,H);g.keyframes.Layer.addTrimOffsetAnimation(a,I);g.keyframes.Layer.addFillColor(a,J);g.keyframes.Layer.addFillColorAnimation(a,K);g.keyframes.Layer.addGradientFill(a,L);g.keyframes.Layer.addStrokeColor(a,M);g.keyframes.Layer.addStrokeColorAnimation(a,N);g.keyframes.Layer.addStrokeWidth(a,O);g.keyframes.Layer.addStrokeWidthAnimation(a,P);g.keyframes.Layer.addStrokeLineCap(a,Q);g.keyframes.Layer.addStrokeLineJoin(a,R);g.keyframes.Layer.addMiterLimit(a,S);g.keyframes.Layer.addMiterLimitAnimation(a,T);g.keyframes.Layer.addVectorCompositeOrder(a,U);g.keyframes.Layer.addClippingPath(a,V);g.keyframes.Layer.addClippingPathAnimation(a,W);g.keyframes.Layer.addIsTrackMatte(a,X);g.keyframes.Layer.addTrackMatteType(a,Y);g.keyframes.Layer.addTrackMatteId(a,Z);g.keyframes.Layer.addBitmapIndex(a,$);g.keyframes.Layer.addAudioLevel(a,aa);g.keyframes.Layer.addAudioLevels(a,ba);g.keyframes.Layer.addAudioIndex(a,ca);g.keyframes.Layer.addVideoLevels(a,da);g.keyframes.Layer.addVideoIndex(a,ea);g.keyframes.Layer.addFontIndex(a,fa);g.keyframes.Layer.addText(a,ga);g.keyframes.Layer.addTextTypeface(a,ha);g.keyframes.Layer.addTextSize(a,ia);g.keyframes.Layer.addTextColor(a,ja);g.keyframes.Layer.addTextAlign(a,ka);g.keyframes.Layer.addTextValign(a,la);g.keyframes.Layer.addTextTracking(a,ma);g.keyframes.Layer.addTextLeading(a,na);g.keyframes.Layer.addTextItalic(a,oa);g.keyframes.Layer.addTextWeight(a,pa);g.keyframes.Layer.addTextTextboxSize(a,qa);return g.keyframes.Layer.endLayer(a)};g.keyframes.Scene=function(){this.bb=null,this.bb_pos=0};g.keyframes.Scene.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Scene.getRootAsScene=function(a,b){return(b||new g.keyframes.Scene()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Scene.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Scene.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Scene.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Scene.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Scene.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Scene.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Scene.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Scene.startScene=function(a){a.startObject(6)};g.keyframes.Scene.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Scene.addSize=function(a,b){a.addFieldStruct(1,b,0)};g.keyframes.Scene.addFrameRate=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Scene.addDuration=function(a,b){a.addFieldFloat32(3,b,0)};g.keyframes.Scene.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Scene.addProgressMarkers=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Scene.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Scene.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Scene.endScene=function(a){a=a.endObject();return a};g.keyframes.Scene.createScene=function(a,b,c,d,e,f,h){g.keyframes.Scene.startScene(a);g.keyframes.Scene.addId(a,b);g.keyframes.Scene.addSize(a,c);g.keyframes.Scene.addFrameRate(a,d);g.keyframes.Scene.addDuration(a,e);g.keyframes.Scene.addRootLayer(a,f);g.keyframes.Scene.addProgressMarkers(a,h);return g.keyframes.Scene.endScene(a)};g.keyframes.Assets=function(){this.bb=null,this.bb_pos=0};g.keyframes.Assets.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Assets.getRootAsAssets=function(a,b){return(b||new g.keyframes.Assets()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Assets.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.prototype.audio=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Audio()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.audioLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.prototype.video=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.videoLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.prototype.fonts=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Font()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.fontsLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.startAssets=function(a){a.startObject(4)};g.keyframes.Assets.addBitmaps=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Assets.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.addAudio=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Assets.createAudioVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startAudioVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.addVideo=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Assets.createVideoVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startVideoVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.addFonts=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Assets.createFontsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startFontsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.endAssets=function(a){a=a.endObject();return a};g.keyframes.Assets.createAssets=function(a,b,c,d,e){g.keyframes.Assets.startAssets(a);g.keyframes.Assets.addBitmaps(a,b);g.keyframes.Assets.addAudio(a,c);g.keyframes.Assets.addVideo(a,d);g.keyframes.Assets.addFonts(a,e);return g.keyframes.Assets.endAssets(a)};g.keyframes.Variable=function(){this.bb=null,this.bb_pos=0};g.keyframes.Variable.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Variable.getRootAsVariable=function(a,b){return(b||new g.keyframes.Variable()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Variable.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Variable.prototype.layerIds=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readInt32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Variable.prototype.layerIdsLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Variable.prototype.layerIdsArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Variable.prototype.fields=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Variable.prototype.fieldsLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Variable.prototype.fieldsArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Variable.startVariable=function(a){a.startObject(3)};g.keyframes.Variable.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Variable.addLayerIds=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Variable.createLayerIdsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addInt32(b[c]);return a.endVector()};g.keyframes.Variable.startLayerIdsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Variable.addFields=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Variable.createFieldsVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Variable.startFieldsVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Variable.endVariable=function(a){a=a.endObject();return a};g.keyframes.Variable.createVariable=function(a,b,c,d){g.keyframes.Variable.startVariable(a);g.keyframes.Variable.addName(a,b);g.keyframes.Variable.addLayerIds(a,c);g.keyframes.Variable.addFields(a,d);return g.keyframes.Variable.endVariable(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KYF3")};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.assets=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Assets()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.scenes=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Scene()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.scenesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.defaultScene=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.variables=function(a,b){var c=this.bb.__offset(this.bb_pos,12);return c?(b||new g.keyframes.Variable()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.variablesLength=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(5)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addAssets=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Document.addScenes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Document.createScenesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startScenesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addDefaultScene=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addVariables=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.createVariablesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVariablesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KYF3")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f){g.keyframes.Document.startDocument(a);g.keyframes.Document.addManifest(a,b);g.keyframes.Document.addAssets(a,c);g.keyframes.Document.addScenes(a,d);g.keyframes.Document.addDefaultScene(a,e);g.keyframes.Document.addVariables(a,f);return g.keyframes.Document.endDocument(a)};a=g.keyframes;f["default"]=a}),66);
__d("KFLoader",["BlobFactory","CubicBezier","KFColor","KFComponentNames","KFGradient","KFLoaderUtils","KFManifest","KFPath2d","KFPoint","KFPosition","KFScalar","KFSchema","Promise","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=a.URL||a.webkitURL||{},j=new Map(),k;function e(a,b,e){k=!1;j.clear();a=new(d("flatbuffers").ByteBuffer)(a);a=c("KFSchema").Document.bufferHasIdentifier(a)?c("KFSchema").Document.getRootAsDocument(a):null;m(a);Q(a,e);n(a,null,!0,b,e);l(b)}function l(a){k?c("KFLoaderUtils").maybeGenerateTrackMatteIDs(a):c("KFLoaderUtils").traverseEntitiesAndApply(a,function(b){b=a.getComponent(b,d("KFComponentNames").COMPOSITING);var c=b==null?void 0:b.trackMatteId;if(b==null||c==null||c===0)return;var e=j.get(c);b.trackMatteId=(b=e==null?void 0:e.getID())!=null?b:c})}function m(a,b){var d=[],e=a.manifestLength();for(var f=0;f<e;f++)d.push(a.manifest(f));c("KFManifest")(d,b)}function n(a,b,c,e,f){b=b||a.defaultScene();b=a.scenes(b);var g=e.createEntity();c&&e.addComponent(g,d("KFComponentNames").ROOT);c=e.addComponent(g,d("KFComponentNames").SCENE,[],b.duration()*1e3,b.frameRate(),K(b.size()));p(a,g,e,b.rootLayer(),c,f);c.setEntities(c.getEntities().sort(function(a,b){return o(e,a)<o(e,b)?-1:1}));return g}function o(a,b){a=a.getComponent(b,d("KFComponentNames").COMPOSITING);return a?a.zIndex:-Infinity}function p(a,b,c,d,e,f,g){b=b||c.createEntity();g||e.addEntity(b);r(b,c,d);z(b,c,d);t(b,c,d);E(b,c,d);P(b,c,d,f);var h=y(b,c,d);q(a,b,c,d,e,f,h||g);return b}function q(a,b,c,e,f,g,h){var i,j=e.subLayer(),k=e.subLayersLength();if(j)i=c.addComponent(b,d("KFComponentNames").CHILDREN),i.addChild(p(a,void 0,c,e.subLayer(),f,g,h));else if(k){i=c.addComponent(b,d("KFComponentNames").CHILDREN);for(j=0;j<k;j++)i.addChild(p(a,void 0,c,e.subLayers(j),f,g,h))}j=e.subScene();j!==0&&(i=i||c.addComponent(b,d("KFComponentNames").CHILDREN),i.addChild(n(a,j,!1,c,g)))}function r(a,b,c){var e=c.tagsLength(),f;if(e){f=[];for(var g=0;g<e;g++)f.push(c.tags(g))}g=c.id();j.set(g,a);b.addComponent(a,d("KFComponentNames").IDENTIFICATION,g,c.name(),f)}function s(a){if(!a)return;var b=a.keyframesLength(),c=G(a.values(0)),d=[],e=[];for(var f=0;f<b;f++)d.push(a.keyframes(f)),f<b-1&&e.push(x(a.tweens(f)));return{values:c,keyframes:d,tweens:e}}function t(a,b,e){var f=new(c("KFPosition"))(new(d("KFScalar").KFScalar)(e.xPosition()||0,A(e.xPositionAnimation())),new(d("KFScalar").KFScalar)(e.yPosition()||0,A(e.yPositionAnimation())),D(c("KFPath2d"),null,s(e.position()))),g=new(d("KFScalar").KFScalar)(e.rotation()||0,A(e.rotationAnimation())),h=new(d("KFPoint").KFPoint)(u(e.scale(),[1,1]),v(e.scaleAnimation(),[1,1]));e=new(d("KFPoint").KFPoint)(u(e.anchorPoint()),v(e.anchorPointAnimation()));b.addComponent(a,d("KFComponentNames").TRANSFORM,f,g,h,e)}function u(a,b){b===void 0&&(b=[0,0]);return a?[a.x(),a.y()]:b}function v(a,b){b===void 0&&(b=[0,0]);return w(a,u,b)}function w(a,b,c){b===void 0&&(b=function(b,a){return b===void 0?a:b});c===void 0&&(c=0);if(!a)return;var d=a.keyframesLength(),e=[],f=[],g=[];for(var h=0;h<d;h++)e.push(b(a.values(h),c)),f.push(a.keyframes(h)),h<d-1&&g.push(x(a.tweens(h)));return{values:e,keyframes:f,tweens:g}}function x(a){var b=a.type(),d;b===c("KFSchema").TweenType.Bezier&&(d=new(c("CubicBezier"))(u(a.control1()),u(a.control2())));return{type:b,bezier:d}}function y(a,b,e){var f=e.zIndex(),g=new(d("KFScalar").KFScalar)(e.opacity(),A(e.opacityAnimation())),h=e.isTrackMatte(),i=e.trackMatteType(),j=e.trackMatteId();h&&(j==null||j<=0)&&(k=!0);var l=e.isGroup();e=D(c("KFPath2d"),G(e.clippingPath()),J(e.clippingPathAnimation()));b.addComponent(a,d("KFComponentNames").COMPOSITING,f,g,l,h,i,j,e);return l}function z(a,b,c){b.addComponent(a,d("KFComponentNames").TIME,c.fromProgress(),c.toProgress(),c.progressOffset())}function A(a){return w(a)}function B(a){if(!a)return;var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function C(a){return w(a,B)}function D(a,b,c,d){if(b!==void 0&&b!==null||c!==void 0)return new a(b,c,d)}function E(a,b,e){var f=D(c("KFPath2d"),G(e.path()),J(e.pathAnimation()),a.id);if(f){var g=D(d("KFScalar").KFScalar,e.trimStart(),A(e.trimStartAnimation())),h=D(d("KFScalar").KFScalar,e.trimStart()===0&&e.trimEnd()===0?100:e.trimEnd(),A(e.trimEndAnimation())),i=D(d("KFScalar").KFScalar,e.trimOffset(),A(e.trimOffsetAnimation())),j=D(d("KFColor").KFColor,M(e.fillColor()),L(e.fillColorAnimation())),k=F(e.gradientFill()),l=D(d("KFScalar").KFScalar,e.strokeWidth(),A(e.strokeWidthAnimation())),m=D(d("KFColor").KFColor,M(e.strokeColor()),L(e.strokeColorAnimation())),n=D(d("KFScalar").KFScalar,e.miterLimit(),A(e.miterLimitAnimation()));b.addComponent(a,d("KFComponentNames").SHAPE,f,g,h,i,j,k,m,l,e.strokeLineCap(),e.strokeLineJoin(),n,e.vectorCompositeOrder())}}function F(a){if(!a)return;var b=a.type(),e=D(d("KFScalar").KFScalarArray,a.positionsArray(),C(a.positionsAnimation())),f=D(d("KFColor").KFColorArray,N(a),O(a.colorsAnimation())),g=D(d("KFPoint").KFPoint,u(a.rampStart()),v(a.rampStartAnimation())),h=D(d("KFPoint").KFPoint,u(a.rampEnd()),v(a.rampEndAnimation())),i,j;b===c("KFSchema").GradientType.Radial&&(i=D(d("KFScalar").KFScalar,a.highlightAngle(),A(a.highlightAngleAnimation())),j=D(d("KFScalar").KFScalar,a.highlightLength(),A(a.highlightLengthAnimation())));return new(c("KFGradient"))(b,e,f,g,h,i,j)}function G(a){if(!a)return;var b=a.commandsArray();if(!b)return;a=a.pointsArray();var d=0,e=[],f,g=[],h=[],i=[],j=null;for(var k=0;k<b.length;k++){j=e.length>0?e[e.length-1]:null;switch(b[k]){case c("KFSchema").CommandType.MoveTo:case c("KFSchema").CommandType.LineTo:g[0]=a[d++];g[1]=a[d++];e.push({type:b[k],point:[g[0],g[1]]});break;case c("KFSchema").CommandType.QuadTo:g[0]=a[d++];g[1]=a[d++];h[0]=a[d++];h[1]=a[d++];e.push({type:b[k],point:[g[0],g[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.CubicTo:g[0]=a[d++];g[1]=a[d++];h[0]=a[d++];h[1]=a[d++];i[0]=a[d++];i[1]=a[d++];e.push({type:b[k],point:[g[0],g[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break;case c("KFSchema").CommandType.HorizontalLineTo:g[0]=a[d++];e.push({type:c("KFSchema").CommandType.LineTo,point:[g[0],g[1]]});break;case c("KFSchema").CommandType.VerticalLineTo:g[1]=a[d++];e.push({type:c("KFSchema").CommandType.LineTo,point:[g[0],g[1]]});break;case c("KFSchema").CommandType.CloseLineTo:e.push({type:c("KFSchema").CommandType.LineTo,point:[f[0],f[1]]});break;case c("KFSchema").CommandType.SmoothQuadTo:I(h,j);g[0]=a[d++];g[1]=a[d++];e.push({type:c("KFSchema").CommandType.QuadTo,point:[g[0],g[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.CloseQuadTo:h[0]=a[d++];h[1]=a[d++];e.push({type:c("KFSchema").CommandType.QuadTo,point:[f[0],f[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.CloseSmoothQuadTo:I(h,j);e.push({type:c("KFSchema").CommandType.QuadTo,point:[f[0],f[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.SmoothCubicTo:I(h,j);g[0]=a[d++];g[1]=a[d++];i[0]=a[d++];i[1]=a[d++];e.push({type:c("KFSchema").CommandType.CubicTo,point:[g[0],g[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break;case c("KFSchema").CommandType.CloseCubicTo:h[0]=a[d++];h[1]=a[d++];i[0]=a[d++];i[1]=a[d++];e.push({type:c("KFSchema").CommandType.CubicTo,point:[f[0],f[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break;case c("KFSchema").CommandType.CloseSmoothCubicTo:I(h,j);i[0]=a[d++];i[1]=a[d++];e.push({type:c("KFSchema").CommandType.CubicTo,point:[f[0],f[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break}f||(f=[g[0],g[1]])}return e}var H=[0,0];function I(a,b){var d;if(b==null)return;var e=b.point,f;switch(b.type){case c("KFSchema").CommandType.QuadTo:f=(d=b.c1)!=null?d:H;break;case c("KFSchema").CommandType.CubicTo:f=(d=b.c2)!=null?d:H;break;default:f=H;break}a[0]=f[0]+2*(e[0]-f[0]);a[1]=f[1]+2*(e[1]-f[1])}function J(a){return w(a,G)}function K(a){return a?{width:a.width(),height:a.height()}:null}function L(a){return w(a,M)}function M(a){return a?[a.red(),a.green(),a.blue(),a.alpha()]:null}function N(a){if(!a)return null;var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(M(a.colors(d)));return c}function O(a){return w(a,N)}function P(a,b,c,e){e=c.bitmapIndex();e!==-1&&b.addComponent(a,d("KFComponentNames").IMAGE,e)}function Q(a,b){a=a.assets();a&&(W(a,b),R(a,b))}function R(a,c){var d=a.bitmapsLength();if(d){var e=[];for(var f=0;f<d;f++)e.push(S(a.bitmaps(f),f,c));(h||(h=b("Promise"))).all(e).then(function(){T.bind(null,null,c)})}}function S(c,e,f){if(d("BlobFactory").isSupported()){var g=c.contentArray();if(!g)return(h||(h=b("Promise"))).reject("Decode: tried to decode a null bitmap");var i=d("BlobFactory").getBlob([g]),j=c.size().width(),k=c.size().height();return a.createImageBitmap?a.createImageBitmap(i,0,0,j,k)["catch"](function(a){return U(i,j,k)}).then(function(a){f.addImageAtIndex({src:a,width:j,height:k},e);return{src:a,width:j,height:k}}):U(i,j,k)}return(h||(h=b("Promise"))).reject("Decode: browser does not support bitmap creation")}function T(a,b,c){if(!a)return;b=[];for(c=0;c<a.length;c++){var d=a[c].src;if(a.width!==d.width||a.height!==d.height){var e=document.createElement("canvas");e.width=a.width;e.height=a.heigh;var f=e.getContext("2d");f.drawImage(d,0,0,a.width,a.height);b.push(e)}else b.push(d)}return b}function U(a,c,d){return!i.createObjectURL?(h||(h=b("Promise"))).reject("URL API not supported"):V(i.createObjectURL(a),c,d)}function V(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=new Image(a);f.onload=function(){return b({src:f,width:c,height:d})};f.onerror=function(b){return e("Decode: error requesting image uri "+a)};f.src=a})}function W(a,b){var c=a.audioLength();if(c)for(var e=0;e<c;e++){if(!window.Audio)throw new Error("Audio playback not supported");var f=a.audio(e).contentArray();f=d("BlobFactory").getBlob([f]);f=i.createObjectURL(f);b.addAudio(f)}}g["default"]=e}),98);
__d("KFOpacitySystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];this.$2(a,1)};b.$2=function(a,b){a=this.$1.getAllComponentsForEntity(a);a[d("KFComponentNames").COMPOSITING]&&a[d("KFComponentNames").COMPOSITING].update(a[d("KFComponentNames").TIME]?a[d("KFComponentNames").TIME].getProgress():0,b);var c=a[d("KFComponentNames").CHILDREN]?a[d("KFComponentNames").CHILDREN].getChildren():void 0;if(c){var e=c.length,f;for(var g=0;g<e;g++)f=this.$1.getComponent(c[g],d("KFComponentNames").SCENE),f?this.$2(c[g],a[d("KFComponentNames").COMPOSITING].getOpacity()):this.$2(c[g],b)}};b.toString=function(){return"OPACITY"};return a}();g["default"]=a}),98);
__d("KFRAFEngine",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1,this.$2,this.$3=!1,this.$4=[],this.$5=this.$6.bind(this)}var b=a.prototype;b.start=function(){this.$3=!0,window.requestAnimationFrame(this.$5)};b.stop=function(){this.$3=!1,this.$2=0,this.$1=0};b.registerCallback=function(a){this.$4.push(a)};b.$6=function(a){if(this.$3){this.$2=this.$1||a;this.$1=a;a=this.$4.length;var b=this.$1-this.$2;for(var c=0;c<a;c++)this.$4[c](this.$1,b);window.requestAnimationFrame(this.$5)}};return a}();f["default"]=a}),66);
__d("KFRandomSubdocumentSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var c=this;this.$1=a;var e=a.getEntitiesWithComponent(d("KFComponentNames").RANDOM_SUBDOCUMENT);if(e.length<=0){var f=a.getEntitiesWithComponent(d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN);f.forEach(function(b){a.removeComponentForEntity(b,d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN)});return}b.onRepeat(function(){c.$2(a,e)});this.$2(a,e)}var b=a.prototype;b.$2=function(a,b){b.forEach(function(b){var c=a.getComponent(b,d("KFComponentNames").CHILDREN);if(c==null)return;var e=a.getComponent(b,d("KFComponentNames").RANDOM_SUBDOCUMENT);if(e==null)return;b=a.getComponent(b,d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN);if(b==null)return;e=e.getNextRandomSubdocumentIndex();var f=b.getLastSwappedChild(),g=b.getSwappableChild(e);c.removeChild(f,g);b.setLastSwappedIndex(e)})};b.update=function(a,b){};b.toString=function(){return"RANDOM_SUBDOCUMENT"};return a}();g["default"]=a}),98);
__d("KFCanvasPolyfills",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0};f.addGetTransformPolyfill=a}),66);
__d("KFCanvasPool",["KFCanvasPolyfills"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$6=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[];this.$4=[]}var b=a.prototype;b.$5=function(){var a=document.createElement("canvas"),b=a.getContext("2d");d("KFCanvasPolyfills").addGetTransformPolyfill(b);a={canvas:a,ctx:b};this.$6(a);return a};b.createPermanantCanvas=function(){var a=this.$5();this.$2.push(a);return a};b.getCanvas=function(){var a=this.$3.length?this.$3.pop():this.$5();this.$4.push(a);return a};b.clearAllAllocated=function(){var a=this;this.$4.forEach(function(b){b.ctx.clearRect(0,0,a.$1.width.physical,a.$1.height.physical)})};b.clearAllPermanant=function(){var a=this;this.$2.forEach(function(b){b.ctx.clearRect(0,0,a.$1.width.physical,a.$1.height.physical)})};b.freeAll=function(){this.$3=[].concat(this.$4,this.$3),this.$4=[]};b.resizeAll=function(){this.$3.forEach(this.$6,this),this.$4.forEach(this.$6,this)};return a}();g["default"]=a}),98);
__d("KFColorUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"rgba("+Math.floor(a[0])+","+Math.floor(a[1])+","+Math.floor(a[2])+","+Math.floor(a[3])/255+")"}function b(a){return[a.red,a.green,a.blue,a.alpha]}f.getRGBAString=a;f.kf2ColorToKF3Color=b}),66);
__d("KFCanvasRenderer",["KFCanvasPool","KFColorUtils","KFMat2d","KFSchema","KeyframesCanvasUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a;this.$2=new(c("KFCanvasPool"))(this.$1);a=this.$2.createPermanantCanvas();this.$3=a.canvas;this.$4=a.ctx;this.$5=d("KFMat2d").createMat2d()}var b=a.prototype;b.resize=function(){this.$3.width=this.$1.width.physical;this.$3.height=this.$1.height.physical;this.$3.style.width=this.$1.width.logical+"px";this.$3.style.height=this.$1.height.logical+"px";this.$4.setTransform(1,0,0,1,0,0);var a=[this.$1.width.getPhysicalChangeRatio(),this.$1.height.getPhysicalChangeRatio()];d("KFMat2d").scale(this.$5,this.$5,a);this.$2.resizeAll()};b.getRootContext=function(){return this.$4};b.getSize=function(){return this.$1};b.getOffscreenCanvas=function(){var a=this.$2.getCanvas();this.setGlobalCompositeOperation(a.ctx,"source-over");return a};b.setGlobalCompositeOperation=function(a,b){a.globalCompositeOperation=b};b.getElement=function(){return this.$3};b.setOpacity=function(a,b){a=a||this.$4;a.globalAlpha=b};b.applyTransform=function(a,b){d("KFMat2d").multiply(b,this.$5,b);a=a||this.$4;a.setTransform(b[0],b[1],b[2],b[3],b[4],b[5])};b.drawShape=function(a,b){a=a||this.$4;this.drawPath(a,b.getPath());var c=!1,e=!0;b.gradientFill?a.fillStyle=h(a,b.gradientFill):b.fillColor?a.fillStyle=d("KFColorUtils").getRGBAString(b.fillColor.get()):e=!1;var f=b.strokeWidth!=void 0?b.strokeWidth.get():void 0;f!==0&&f!==void 0&&(c=!0,b.strokeColor&&(a.strokeStyle=d("KFColorUtils").getRGBAString(b.strokeColor.get())),a.lineCap=i(b.strokeLineCap),a.lineWidth=f);b.vectorCompositeOrder!==0?(c&&a.stroke(),e&&a.fill()):(e&&a.fill(),c&&a.stroke())};b.drawTrimPath=function(a,b){a=a||this.$4;this.drawPath(a,b.getPath());b=b.getStrokeData();if(!b)return!1;var c=b.miterLimit,e=b.strokeWidth,f=b.strokeColor,g=b.strokeLineCap;b=b.strokeLineJoin;if(e==null||e<=0)return!1;a.strokeStyle=d("KFColorUtils").getRGBAString(d("KFColorUtils").kf2ColorToKF3Color(f));a.lineJoin=d("KeyframesCanvasUtils").LINE_JOINS[b];b===0&&c!=null&&(a.miterLimit=c);a.lineCap=i(g);a.lineWidth=e;a.stroke();return!0};b.drawPath=function(a,b){a=a||this.$4;a.beginPath();var c=b.length;for(var d=0;d<c;d++)b[d].type===0?a.moveTo(b[d].point[0],b[d].point[1]):b[d].type===1?a.lineTo(b[d].point[0],b[d].point[1]):b[d].type===2?a.quadraticCurveTo(b[d].c1[0],b[d].c1[1],b[d].point[0],b[d].point[1]):b[d].type===3&&a.bezierCurveTo(b[d].c1[0],b[d].c1[1],b[d].c2[0],b[d].c2[1],b[d].point[0],b[d].point[1])};b.save=function(a){a=a||this.$4;a.save()};b.restore=function(a){a=a||this.$4;a.restore()};b.applyClippingPath=function(a,b){a=a||this.$4;this.drawPath(a,b);a.clip()};b.drawImage=function(a,b){a=a||this.$4;a.drawImage(b,0,0)};b.prepForFrame=function(){this.$2.clearAllPermanant(),this.$2.clearAllAllocated(),this.$2.freeAll()};return a}();function h(a,b){var e,f,g=b.positions.get(),h=b.colors.get();e=(e=b.colorStart)==null?void 0:e.get();f=(f=b.colorEnd)==null?void 0:f.get();var i=b.rampStart.get(),k=b.rampEnd.get();if(b.type===c("KFSchema").GradientType.Radial){var l=b.highlightLength?b.highlightLength.get():0;b=b.highlightAngle?b.highlightAngle.get():0;var m=i[0],n=i[1],o=Math.sqrt(Math.pow(i[0]-k[0],2)+Math.pow(i[1]-k[1],2)),p=Math.acos((k[0]-m)/o),q=m+o*l*Math.cos(p-b);p=n-o*l*Math.sin(p-b);b=0;l!==0&&(a.clip(),a.fillStyle=d("KFColorUtils").getRGBAString(h[h.length-1]),a.fill(),j(a,m,n,o));l=a.createRadialGradient(q,p,b,m,n,o)}else l=a.createLinearGradient(i[0],i[1],k[0],k[1]);e&&f&&(l.addColorStop(0,d("KFColorUtils").getRGBAString(e)),l.addColorStop(1,d("KFColorUtils").getRGBAString(f)));if(h)for(q=0,p=h.length;q<p;q++)l.addColorStop(g[q],d("KFColorUtils").getRGBAString(h[q]));return l}function i(a){var b=c("KFSchema").StrokeLineCap,d=b.Square,e=b.Round;b=b.Butt;switch(a){case d:return"square";case e:return"round";case b:default:return"butt"}}function j(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}g["default"]=a}),98);
__d("KFRenderSystem",["KFCanvasRenderer","KFComponentNames","KeyframesTrackMattes"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null&&a!==0}function i(a){var b=c("KeyframesTrackMattes")["1"];return a==null?b:(a=c("KeyframesTrackMattes")[a])!=null?a:b}a=function(){function a(a,b,d,e){this.$1=e,this.$2=a,this.$3=d,this.$4=b,this.$5={canvasRenderer:new(c("KFCanvasRenderer"))(e)},this.$6()}var b=a.prototype;b.setContainer=function(a){this.$4=a,this.$6()};b.$6=function(){this.$4.appendChild(this.$5.canvasRenderer.getElement())};b.update=function(){var a=this.$2.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];a=this.$2.getComponent(a,d("KFComponentNames").SCENE);this.$5.canvasRenderer.prepForFrame();this.$1.wasUpdated&&(this.$5.canvasRenderer.resize(),this.$1.wasUpdated=!1);a!=null&&this.$7(a)};b.$8=function(a,b){var c=this.$2.getAllComponentsForEntity(a);b=b||this.$5.canvasRenderer.getRootContext();var e=this.$5.canvasRenderer.getOffscreenCanvas(),f=this.$5.canvasRenderer.getOffscreenCanvas(),g=this.$2.getEntity(c[d("KFComponentNames").COMPOSITING].trackMatteId),h=b.getTransform();this.$9(a,e.ctx,!0);this.$9(g,f.ctx,!0);b.setTransform(1,0,0,1,0,0);e.ctx.setTransform(1,0,0,1,0,0);f.ctx.setTransform(1,0,0,1,0,0);this.$5.canvasRenderer.setGlobalCompositeOperation(e.ctx,i(c[d("KFComponentNames").COMPOSITING].trackMatteType));this.$5.canvasRenderer.drawImage(e.ctx,f.canvas);this.$5.canvasRenderer.drawImage(b,e.canvas);b.setTransform(h.a,h.b,h.c,h.d,h.e,h.f)};b.$7=function(a,b){a=a.getEntities();for(var c=0;c<a.length;c++)this.$10(a[c],b)};b.$9=function(a,b,c){c===void 0&&(c=!1);a=this.$2.getAllComponentsForEntity(a);b=b||this.$5.canvasRenderer.getRootContext();c=c;this.$5.canvasRenderer.save(b);a[d("KFComponentNames").TRANSFORM]&&this.$5.canvasRenderer.applyTransform(b,a[d("KFComponentNames").TRANSFORM].getWorldTransform());if(a[d("KFComponentNames").COMPOSITING]){c=c||a[d("KFComponentNames").COMPOSITING].isGroup;this.$5.canvasRenderer.setOpacity(b,a[d("KFComponentNames").COMPOSITING].getOpacity()*b.globalAlpha);var e=a[d("KFComponentNames").COMPOSITING].getClippingPath();e&&this.$5.canvasRenderer.applyClippingPath(b,e)}if(a[d("KFComponentNames").IMAGE]){e=this.$3.getImage(a[d("KFComponentNames").IMAGE].imageId);e&&this.$5.canvasRenderer.drawImage(b,e.src)}e=!1;a[d("KFComponentNames").TRIM_PATH]&&(e=this.$5.canvasRenderer.drawTrimPath(b,a[d("KFComponentNames").TRIM_PATH]));a[d("KFComponentNames").SHAPE]&&!e&&this.$5.canvasRenderer.drawShape(b,a[d("KFComponentNames").SHAPE]);e=a[d("KFComponentNames").CHILDREN]?a[d("KFComponentNames").CHILDREN].getChildren():void 0;if(e)for(a=0;a<e.length;a++){var f=this.$2.getComponent(e[a],d("KFComponentNames").SCENE);f?this.$7(f,b):c&&this.$10(e[a],b,!0)}this.$5.canvasRenderer.restore(b)};b.$10=function(a,b,c){var e;c===void 0&&(c=!1);var f=this.$2.getAllComponentsForEntity(a);if(f[d("KFComponentNames").TIME]&&!f[d("KFComponentNames").TIME].isInBounds())return;if(((e=f[d("KFComponentNames").COMPOSITING])==null?void 0:e.isTrackMatte)===!0)return;else h((e=f[d("KFComponentNames").COMPOSITING])==null?void 0:e.trackMatteId)?this.$8(a,b):this.$9(a,b,c)};b.toString=function(){return"RENDER"};return a}();g["default"]=a}),98);
__d("KFShapeSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").SHAPE);b=a.length;for(var c=0;c<b;c++){var e,f=this.$1.getAllComponentsForEntity(a[c]);e=(e=(e=f[d("KFComponentNames").TIME])==null?void 0:e.getProgress())!=null?e:0;(f=f[d("KFComponentNames").SHAPE])==null?void 0:f.update(e)}};b.toString=function(){return"SHAPE"};return a}();g["default"]=a}),98);
__d("KFTimeSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.__entityComponentRegistry=a}var b=a.prototype;b.update=function(a,b){var c=this.__entityComponentRegistry.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];c=this.__entityComponentRegistry.getComponent(c,d("KFComponentNames").SCENE);c&&this.$1(c,a,b)};b.$1=function(a,b,c){var d=a.update(b,c);this.$2(a,d,b,c)};b.$3=function(a,b,c,e){var f=this.__entityComponentRegistry.getComponent(a,d("KFComponentNames").TIME);f&&f.update(b);a=this.__entityComponentRegistry.getComponent(a,d("KFComponentNames").CHILDREN);if(a){a=a.getChildren();for(var g=0;g<a.length;g++){var h,i=this.__entityComponentRegistry.getComponent(a[g],d("KFComponentNames").SCENE);i!=null&&this.$1(i,c,e);h=(h=f==null?void 0:f.getProgressOffset())!=null?h:0;i=i!=null?h:0;this.$3(a[g],b-i,c,e)}}};b.$2=function(a,b,c,d){a=a.getEntities();var e=a.length;for(var f=0;f<e;f++)this.$3(a[f],b,c,d)};b.toString=function(){return"TIME"};return a}();g["default"]=a}),98);
__d("KFTransformSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").ROOT);for(b=0;b<a.length;b++){var c=this.$1.getComponent(a[b],d("KFComponentNames").SCENE);c&&this.$2(a[b],c.getProgress())}};b.$2=function(a,b,c){c=c||[1,0,0,1,0,0];var e=this.$1.getComponent(a,d("KFComponentNames").TRANSFORM),f=this.$1.getComponent(a,d("KFComponentNames").CHILDREN);a=this.$1.getComponent(a,d("KFComponentNames").TIME);e&&a&&(c=e.update(a.getProgress(),c));if(f){e=f.getChildren();for(a=0;a<e.length;a++)this.$2(e[a],b,c)}};b.toString=function(){return"TRANSFORM"};return a}();g["default"]=a}),98);
__d("KFTrimPathSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").TRIM_PATH);b=a.length;for(var c=0;c<b;c++){var e,f=this.$1.getAllComponentsForEntity(a[c]);e=(e=(e=f[d("KFComponentNames").TIME])==null?void 0:e.getProgress())!=null?e:0;(f=f[d("KFComponentNames").TRIM_PATH])==null?void 0:f.update(e)}};b.toString=function(){return"TRIM_PATH"};return a}();g["default"]=a}),98);
__d("KFContext",["KFAssetRegistry","KFComponentNames","KFDimensions","KFEntityComponentRegistry","KFLoader","KFOpacitySystem","KFRAFEngine","KFRandomSubdocumentSystem","KFRenderSystem","KFSceneComponent","KFShapeSystem","KFTimeSystem","KFTransformSystem","KFTrimPathSystem","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=["preUpdate","update","preRender","render","postRender"];a=function(){function a(a,b){this.$2=new(c("KFAssetRegistry"))();this.$3=a;this.$4=document.createElement("div");this.$5=new(c("KFEntityComponentRegistry"))();this.$6=(a=b)!=null?a:new(c("KFRAFEngine"))();this.$7={__priority:{preUpdate:[],update:[],preRender:[],render:[],postRender:[]}}}var e=a.prototype;e.boot=function(a,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=new Uint8Array(a);if(!(e!=null)){h.next=6;break}h.next=4;return b("regeneratorRuntime").awrap(e(f,this.$5,this.$2));case 4:h.next=8;break;case 6:h.next=8;return b("regeneratorRuntime").awrap(c("KFLoader")(f,this.$5,this.$2));case 8:g=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);if(g){h.next=11;break}return h.abrupt("return");case 11:g.getSize(),g.onEnd(this.$6.stop.bind(this.$6)),this.$4.style.position="relative",this.$4.style.display="inline-block",this.$4.style.boxSizing="border-box",this.$4.style.padding="0",this.$4.style.margin="0",this.$6.registerCallback(this.$8.bind(this)),this.$6.start(),this.$9(),this.$10();case 22:case"end":return h.stop()}},null,this)};e.$8=function(a,b){var c,d,e;for(c=0;c<h.length;c++){e=this.$7.__priority[h[c]];for(d=0;d<e.length;d++)e[d].update(a,b)}};e.$9=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);if(!a)return;this.addSystem(new(c("KFTimeSystem"))(this.$5),"preUpdate");this.addSystem(new(c("KFRandomSubdocumentSystem"))(this.$5,a),"preUpdate");this.addSystem(new(c("KFShapeSystem"))(this.$5),"update");this.addSystem(new(c("KFTrimPathSystem"))(this.$5),"update");this.addSystem(new(c("KFOpacitySystem"))(this.$5),"update");this.addSystem(new(c("KFTransformSystem"))(this.$5),"preRender");a=a.getSize();this.$1=a?new(c("KFDimensions"))(a.width,a.height):new(c("KFDimensions"))(500,500);this.addSystem(new(c("KFRenderSystem"))(this.$5,this.$4,this.$2,this.$1),"render")};e.addSystem=function(a,b){b===void 0&&(b="update"),this.$7[a.toString()]=a,this.$7.__priority[b].push(a)};e.onUpdate=function(a){this.$6.registerCallback(a)};e.$10=function(a){a&&(this.$3=a),this.$3&&this.$3.appendChild(this.$4)};e.getLayer=function(a){return this.$5.getEntity(a)};e.getEngine=function(){return this.$6};e.getSystem=function(a){return this.$7[a]};e.getElement=function(){return this.$4};e.getDuration=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);return a?a.getDuration():0};e.getFrameRate=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);return a?a.getFrameRate():60};e.onError=function(a){return this};e.onRepeatEnd=function(a){a&&this.$11().onRepeat(a);return this};e.onProgress=function(a){a&&this.$11().onUpdate(a);return this};e.repeatCount=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.setPlayCount(a);return this};e.setWidth=function(a){this.$1&&this.$1.setWidth(a);return this};e.setHeight=function(a){this.$1&&this.$1.setHeight(a);return this};e.seekToProgress=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.seekToProgress(a);return this};e.mute=function(){return this};e.unMute=function(){return this};e.play=function(){this.$6.start();return this};e.pause=function(){this.$6.stop();return this};e.resetDimensions=function(){return this};e.setStartAndEndAt=function(a,b){var c=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);c&&c.setStartAndEndProgress(a,b);return this};e.setStartAt=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.setStartProgress(a);return this};e.setEndAt=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.setEndProgress(a);return this};e.redrawIfNeeded=function(){return this};e.$11=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);return a?a:new(d("KFSceneComponent").KFSceneComponent)([],0,0,[0,0])};return a}();g["default"]=a}),98);
__d("KF",["KFContext","KeyframesDownloadTracker","Promise","promiseDone","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("KF2Loader").__setRef("KF");function j(a){var b="";for(var c=4;c<8;c++)b+=String.fromCharCode(a[c]);return b}function k(a){a=new Uint8Array(a);a=j(a);return a==="KYF3"}function l(a,d,e){return new(h||(h=b("Promise")))(function(f,g){var j=typeof a==="string"?c("KeyframesDownloadTracker")(a):(h||(h=b("Promise"))).resolve(a);if(e==null?void 0:e.aborted)return;j.then(function(a){var h;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:if(!(e==null?void 0:e.aborted)){j.next=2;break}return j.abrupt("return");case 2:if(!k(a)){j.next=17;break}j.prev=3;h=new(c("KFContext"))(d);j.next=7;return b("regeneratorRuntime").awrap(h.boot(a));case 7:if(!(e==null?void 0:e.aborted)){j.next=9;break}return j.abrupt("return");case 9:f(h);j.next=15;break;case 12:j.prev=12,j.t0=j["catch"](3),g(j.t0);case 15:j.next=18;break;case 17:c("promiseDone")(i.load(),function(h){var i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:j.prev=0;i=new(c("KFContext"))(d);j.next=4;return b("regeneratorRuntime").awrap(i.boot(a,h));case 4:if(!(e==null?void 0:e.aborted)){j.next=6;break}return j.abrupt("return");case 6:f(i);j.next=12;break;case 9:j.prev=9,j.t0=j["catch"](0),g(j.t0);case 12:case"end":return j.stop()}},null,this,[[0,9]])},g);case 18:case"end":return j.stop()}},null,this,[[3,12]])})["catch"](g)})}a={requestRendererFromBytes:function(a,b,c){return l(a,b,c)},requestRenderer:function(a,b,c){return l(a,b,c)},isKeyframes3File:k};d=a;g["default"]=d}),98);
__d("KF.react",["FBLogger","KF","KeyframesVersionLogger","Promise","promiseDone","react","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.width;a=a.height;b={width:b||0,height:a||0};return j.jsx("div",{style:b})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.width;a=a.height;return j.jsx(k,{width:b,height:a})}l.displayName=l.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:!1,renderer:null},c.$5=function(a){c.setState({renderer:a,error:!1}),c.props.onLoad&&c.props.onLoad(a)},c.$6=function(a){c.props.onLoadError&&c.props.onLoadError(),c.setState({renderer:null,error:!0})},b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f.seekToProgress=function(a){this.state.renderer&&this.state.renderer.seekToProgress(a)};f.componentDidMount=function(){this.$3(this.props.source)};f.componentWillUnmount=function(){var a;(a=this.state.renderer)==null?void 0:a.pause();(a=this.$2)==null?void 0:a.abort()};f.componentDidUpdate=function(a,b){if(this.props.source!==a.source||this.props.projectName!==a.projectName||this.props.assetName!=null&&a.assetName!=null&&this.props.assetName!==a.assetName||a.assetID!=null&&this.props.assetID!=null&&this.props.assetID!==a.assetID)this.$3(this.props.source);else{var c=this.state.renderer;c!==b.renderer?this.$4(b.renderer,c):c&&((a.width!==this.props.width||a.height!==this.props.height)&&(c.resetDimensions(),this.props.width&&c.setWidth(this.props.width),this.props.height&&c.setHeight(this.props.height)),a.muted!==this.props.muted&&(this.props.muted?c.mute():c.unMute()),a.startAt!==this.props.startAt&&a.endAt!==this.props.endAt&&c.setStartAndEndAt(this.props.startAt,this.props.endAt),a.startAt!==this.props.startAt&&c.setStartAt(this.props.startAt),a.endAt!==this.props.endAt&&c.setEndAt(this.props.endAt),a.repeatCount!==this.props.repeatCount&&c.repeatCount(this.props.repeatCount),a.onError!==this.props.onError&&c.onError(this.props.onError),a.onRepeatEnd!==this.props.onRepeatEnd&&c.onRepeatEnd(this.props.onRepeatEnd),a.onProgress!==this.props.onProgress&&c.onProgress(this.props.onProgress),a.initialProgress!==this.props.initialProgress&&c.seekToProgress(this.props.initialProgress),a.playing!==this.props.playing&&(this.props.playing?c.play():(c.pause(),this.props.resetOnPause&&c.repeatCount(this.props.repeatCount).seekToProgress(this.props.initialProgress))),c.redrawIfNeeded())}};f.$4=function(a,b){if(!this.$1)return;b&&(b.onError(this.props.onError).onRepeatEnd(this.props.onRepeatEnd).onProgress(this.props.onProgress).setStartAt(this.props.startAt).setEndAt(this.props.endAt).repeatCount(this.props.repeatCount),this.props.width&&b.setWidth(this.props.width),this.props.height&&b.setHeight(this.props.height),this.props.initialProgress&&b.seekToProgress(this.props.initialProgress),this.props.muted?b.mute():b.unMute(),this.props.playing?b.play():b.pause(),b.redrawIfNeeded());if(a&&b){var d=a.getElement(),e=b.getElement();if(d!=null&&e!=null&&this.$1!=null)try{this.$1.replaceChild(e,d)}catch(a){c("FBLogger")("keyframes-www").catching(a).warn("Caught error when replacing renderers: ",a.toString()),e.replaceWith(d)}else{var f;d&&((f=this.$1)==null?void 0:f.removeChild(d));e&&((f=this.$1)==null?void 0:f.appendChild(e))}}else a&&this.$1.removeChild(a.getElement()),b&&this.$1.appendChild(b.getElement());d=this.props.canvasRef;if(d){e=(f=b==null?void 0:b.getElement())!=null?f:null;typeof d==="function"?d(e):d.current=e}};f.$7=function(a){var d;(d=this.$2)==null?void 0:d.abort();this.$2=new AbortController();if(!this.$1)return(h||(h=b("Promise"))).reject("contianer should exist already");if(a instanceof ArrayBuffer)return c("KF").requestRendererFromBytes(a,this.$1,this.$2.signal);else return c("KF").requestRenderer(a,this.$1,this.$2.signal)};f.$3=function(a){!a?this.$6():(d("KeyframesVersionLogger").KeyframesVersionLogger.logModern(this.$8()),c("promiseDone")(this.$7(a),this.$5,this.$6))};f.$8=function(){var a;a=(a=(a=this.props.assetID)!=null?a:this.props.assetName)!=null?a:"__FIXME__missing_react_asset_name";return this.props.projectName+"-"+a};f.render=function(){var a=this,b=this.props,d=b.className,e=b.height,f=b.style;b=b.width;b=this.state.renderer?null:this.state.error?this.props.errorPlaceholder||j.jsx(l,{width:b,height:e}):this.props.placeholder||j.jsx(k,{width:b,height:e});e=this.props.mutator&&this.state.renderer&&j.cloneElement(this.props.mutator,{__renderer:this.state.renderer});return j.jsxs("div",babelHelpers["extends"]({className:d},c("testID")(this.props.testid),{ref:function(b){return a.$1=b},style:babelHelpers["extends"]({display:"inline-block",lineHeight:0,fontSize:0},f),children:[b,e]}))};return e}(j.Component);a.defaultProps={initialProgress:0,resetOnPause:!1,playing:!0,repeatCount:Infinity,startAt:0,endAt:1};g["default"]=a}),98);